(self.webpackChunkTrashExchange=self.webpackChunkTrashExchange||[]).push([[179],{8255:function(e){function t(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=function(){return[]},t.resolve=t,t.id=8255,e.exports=t},1855:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function i(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}n.d(t,{_T:function(){return r},mG:function(){return i},Jh:function(){return s},XA:function(){return o},CR:function(){return a},ev:function(){return c}})},6274:function(e,t,n){"use strict";n.d(t,{mr:function(){return b},Ov:function(){return M},ez:function(){return U},K0:function(){return c},Do:function(){return I},V_:function(){return h},Ye:function(){return E},S$:function(){return v},sg:function(){return O},b0:function(){return _},lw:function(){return u},EM:function(){return q},JF:function(){return H},PM:function(){return V},w_:function(){return a},bD:function(){return j},q:function(){return s},Mx:function(){return N},HT:function(){return o}});var r=n(4271);let i=null;function s(){return i}function o(e){i||(i=e)}class a{}const c=new r.OlP("DocumentToken");let u=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:l,token:e,providedIn:"platform"}),e})();function l(){return(0,r.LFG)(d)}const h=new r.OlP("Location Initialized");let d=(()=>{class e extends u{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=s().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){f()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){f()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(c))},e.\u0275prov=(0,r.Yz7)({factory:p,token:e,providedIn:"platform"}),e})();function f(){return!!window.history.pushState}function p(){return new d((0,r.LFG)(c))}function m(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function g(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function y(e){return e&&"?"!==e[0]?"?"+e:e}let v=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:w,token:e,providedIn:"root"}),e})();function w(e){const t=(0,r.LFG)(c).location;return new _((0,r.LFG)(u),t&&t.origin||"")}const b=new r.OlP("appBaseHref");let _=(()=>{class e extends v{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return m(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(u),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),I=(()=>{class e extends v{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=m(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(u),r.LFG(b,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),E=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=g(S(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+y(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,S(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+y(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(v),r.LFG(u))},e.normalizeQueryParams=y,e.joinWithSlash=m,e.stripTrailingSlash=g,e.\u0275prov=(0,r.Yz7)({factory:T,token:e,providedIn:"root"}),e})();function T(){return new E((0,r.LFG)(v),(0,r.LFG)(u))}function S(e){return e.replace(/\/index.html$/,"")}var k=(()=>((k=k||{})[k.Zero=0]="Zero",k[k.One=1]="One",k[k.Two=2]="Two",k[k.Few=3]="Few",k[k.Many=4]="Many",k[k.Other=5]="Other",k))();const C=r.kL8;class A{}let x=(()=>{class e extends A{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(C(t||this.locale)(e)){case k.Zero:return"zero";case k.One:return"one";case k.Two:return"two";case k.Few:return"few";case k.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function N(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}class R{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let O=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new R(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new D(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new D(e,i);t.push(s)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class D{constructor(e,t){this.record=e,this.view=t}}class P{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class L{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const $=new L,F=new P;let M=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return $;if((0,r.F4k)(t))return F;throw Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:A,useClass:x}]}),e})();const j="browser";function V(e){return"server"===e}let q=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new B((0,r.LFG)(c),window)}),e})();class B{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=z(this.window.history)||z(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function z(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class H{}},4271:function(e,t,n){"use strict";n.d(t,{deG:function(){return Jt},tb:function(){return tc},AFp:function(){return Qa},ip1:function(){return Ka},CZH:function(){return Ya},hGG:function(){return Kc},z2F:function(){return Mc},ahi:function(){return Qt},sBO:function(){return Xo},Sil:function(){return dc},_Vd:function(){return _o},aQ5:function(){return en},EJc:function(){return ic},SBq:function(){return So},qLn:function(){return mr},vpe:function(){return Ca},L6J:function(){return Wa},gxx:function(){return Ji},tBr:function(){return _n},XFs:function(){return R},OlP:function(){return Xt},zs3:function(){return fs},ZZ4:function(){return zo},aQg:function(){return Go},soG:function(){return rc},YKP:function(){return aa},v3s:function(){return jc},h0i:function(){return oa},PXZ:function(){return Dc},R0b:function(){return mc},FiY:function(){return In},r_U:function(){return Ga},Lbi:function(){return ec},g9A:function(){return Za},Qsj:function(){return Ao},FYo:function(){return Co},JOm:function(){return vr},Tiy:function(){return No},q3G:function(){return ur},tp0:function(){return En},EAV:function(){return Bc},Rgc:function(){return na},dDg:function(){return Ic},DyG:function(){return nn},q4F:function(){return Oo},GfV:function(){return Ro},i9L:function(){return tn},s_b:function(){return ua},ifc:function(){return F},eFA:function(){return Pc},G48:function(){return Rc},Gpc:function(){return m},X6Q:function(){return Nc},_c5:function(){return Gc},VLi:function(){return Sc},c2e:function(){return nc},zSh:function(){return es},wAp:function(){return ao},vHH:function(){return v},EiD:function(){return ar},mCW:function(){return zn},qzn:function(){return Dn},JVY:function(){return Ln},pB0:function(){return Un},eBb:function(){return Fn},L6k:function(){return $n},LAX:function(){return Mn},cg1:function(){return io},Tjo:function(){return Hc},kL8:function(){return so},yhl:function(){return Pn},dqk:function(){return q},sIi:function(){return Es},CqO:function(){return Fs},QGY:function(){return Ls},F4k:function(){return $s},RDi:function(){return Te},AaK:function(){return d},z3N:function(){return On},qOj:function(){return ms},TTD:function(){return ve},_Bn:function(){return vo},xp6:function(){return ii},uIk:function(){return ks},ekj:function(){return Gs},Suo:function(){return Va},Xpm:function(){return Z},lG2:function(){return oe},Yz7:function(){return I},cJS:function(){return E},oAB:function(){return re},Yjl:function(){return ae},Y36:function(){return As},_UZ:function(){return Ps},qZA:function(){return Ds},TgZ:function(){return Os},n5z:function(){return zt},Ikx:function(){return eo},LFG:function(){return vn},$8M:function(){return Gt},$Z:function(){return xs},NdJ:function(){return Ms},CRH:function(){return qa},ALo:function(){return Ta},lcZ:function(){return Sa},Hsn:function(){return Bs},F$t:function(){return qs},Q6J:function(){return Ns},iGM:function(){return Ua},LSH:function(){return lr},kYT:function(){return ie},YNc:function(){return Cs},_uU:function(){return Xs},Oqu:function(){return Js},hij:function(){return Zs},Gf:function(){return ja}});var r=n(6006),i=n(9734),s=n(3948),o=n(636),a=n(955),c=n(5290);function u(){return new r.xQ}function l(e){for(let t in e)if(e[t]===l)return t;throw Error("Could not find renamed property on target object.")}function h(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(d).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function f(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const p=l({__forward_ref__:l});function m(e){return e.__forward_ref__=m,e.toString=function(){return d(this())},e}function g(e){return y(e)?e():e}function y(e){return"function"==typeof e&&e.hasOwnProperty(p)&&e.__forward_ref__===m}class v extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function w(e){return"string"==typeof e?e:null==e?"":String(e)}function b(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():w(e)}function _(e,t){const n=t?` in ${t}`:"";throw new v("201",`No provider for ${b(e)} found${n}`)}function I(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function E(e){return{providers:e.providers||[],imports:e.imports||[]}}function T(e){return S(e,C)||S(e,x)}function S(e,t){return e.hasOwnProperty(t)?e[t]:null}function k(e){return e&&(e.hasOwnProperty(A)||e.hasOwnProperty(N))?e[A]:null}const C=l({"\u0275prov":l}),A=l({"\u0275inj":l}),x=l({ngInjectableDef:l}),N=l({ngInjectorDef:l});var R=(()=>((R=R||{})[R.Default=0]="Default",R[R.Host=1]="Host",R[R.Self=2]="Self",R[R.SkipSelf=4]="SkipSelf",R[R.Optional=8]="Optional",R))();let O;function D(e){const t=O;return O=e,t}function P(e,t,n){const r=T(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&R.Optional?null:void 0!==t?t:void _(d(e),"Injector")}function L(e){return{toString:e}.toString()}var $=(()=>(($=$||{})[$.OnPush=0]="OnPush",$[$.Default=1]="Default",$))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const M="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,q=M||V||U||j,B={},z=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),W=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),X=l({__NG_ELEMENT_ID__:l});let J=0;function Z(e){return L(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===$.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||z,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||F.Emulated,id:"c",styles:e.styles||z,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,s=e.pipes;return n.id+=J++,n.inputs=se(e.inputs,t),n.outputs=se(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(ee):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(te):null,n})}function ee(e){return ce(e)||function(e){return e[G]||null}(e)}function te(e){return function(e){return e[W]||null}(e)}const ne={};function re(e){return L(()=>{const t={type:e.type,bootstrap:e.bootstrap||z,declarations:e.declarations||z,imports:e.imports||z,exports:e.exports||z,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ne[e.id]=e.type),t})}function ie(e,t){return L(()=>{const n=ue(e,!0);n.declarations=t.declarations||z,n.imports=t.imports||z,n.exports=t.exports||z})}function se(e,t){if(null==e)return B;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,t&&(t[i]=s)}return n}const oe=Z;function ae(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function ce(e){return e[H]||null}function ue(e,t){const n=e[K]||null;if(!n&&!0===t)throw new Error(`Type ${d(e)} does not have '\u0275mod' property.`);return n}function le(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function fe(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function me(e){return null!==e.template}function ge(e,t){return e.hasOwnProperty(Q)?e[Q]:null}class ye{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ve(){return we}function we(e){return e.type.prototype.ngOnChanges&&(e.setInput=_e),be}function be(){const e=Ie(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===B)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function _e(e,t,n,r){const i=Ie(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new ye(c&&c.currentValue,t,o===B),e[r]=t}function Ie(e){return e.__ngSimpleChanges__||null}let Ee;function Te(e){Ee=e}function Se(e){return!!e.listen}ve.ngInherit=!0;const ke={createRenderer:(e,t)=>void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0};function Ce(e){for(;Array.isArray(e);)e=e[0];return e}function Ae(e,t){return Ce(t[e])}function xe(e,t){return Ce(t[e.index])}function Ne(e,t){return e.data[t]}function Re(e,t){const n=t[e];return le(n)?n:n[0]}function Oe(e){return 4==(4&e[2])}function De(e){return 128==(128&e[2])}function Pe(e,t){return null==t?null:e[t]}function Le(e){e[18]=0}function $e(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Fe={lFrame:rt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Me(){return Fe.bindingsEnabled}function Ue(){return Fe.lFrame.lView}function je(){return Fe.lFrame.tView}function Ve(){let e=qe();for(;null!==e&&64===e.type;)e=e.parent;return e}function qe(){return Fe.lFrame.currentTNode}function Be(e,t){const n=Fe.lFrame;n.currentTNode=e,n.isParent=t}function ze(){return Fe.lFrame.isParent}function He(){Fe.lFrame.isParent=!1}function Ge(){return Fe.isInCheckNoChangesMode}function We(e){Fe.isInCheckNoChangesMode=e}function Ke(){return Fe.lFrame.bindingIndex++}function Ye(e,t){const n=Fe.lFrame;n.bindingIndex=n.bindingRootIndex=e,Qe(t)}function Qe(e){Fe.lFrame.currentDirectiveIndex=e}function Xe(){return Fe.lFrame.currentQueryIndex}function Je(e){Fe.lFrame.currentQueryIndex=e}function Ze(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function et(e,t,n){if(n&R.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&R.Host||(r=Ze(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Fe.lFrame=nt();return r.currentTNode=t,r.lView=e,!0}function tt(e){const t=nt(),n=e[1];Fe.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function nt(){const e=Fe.lFrame,t=null===e?null:e.child;return null===t?rt(e):t}function rt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function it(){const e=Fe.lFrame;return Fe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const st=it;function ot(){const e=it();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function at(){return Fe.lFrame.selectedIndex}function ct(e){Fe.lFrame.selectedIndex=e}function ut(){const e=Fe.lFrame;return Ne(e.tView,e.selectedIndex)}function lt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),s&&(e.viewHooks||(e.viewHooks=[])).push(-n,s),o&&((e.viewHooks||(e.viewHooks=[])).push(n,o),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,o)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function ht(e,t,n){pt(e,t,3,n)}function dt(e,t,n,r){(3&e[2])===n&&pt(e,t,n,r)}function ft(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function pt(e,t,n,r){const i=null!=r?r:-1,s=t.length-1;let o=0;for(let a=void 0!==r?65535&e[18]:0;a<s;a++)if("number"==typeof t[a+1]){if(o=t[a],null!=r&&o>=r)break}else t[a]<0&&(e[18]+=65536),(o<i||-1==i)&&(mt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function mt(e,t,n,r){const i=n[r]<0,s=n[r+1],o=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class gt{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function yt(e,t,n){const r=Se(e);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,o):t.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];wt(o)?r&&e.setProperty(t,o,a):r?e.setAttribute(t,o,a):t.setAttribute(o,a),i++}}return i}function vt(e){return 3===e||4===e||6===e}function wt(e){return 64===e.charCodeAt(0)}function bt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||_t(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function _t(e,t,n,r,i){let s=0,o=e.length;if(-1===t)o=-1;else for(;s<e.length;){const n=e[s++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=s-1;break}}}for(;s<e.length;){const t=e[s];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function It(e){return-1!==e}function Et(e){return 32767&e}function Tt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let St=!0;function kt(e){const t=St;return St=e,t}let Ct=0;function At(e,t){const n=Nt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,xt(r.data,e),xt(t,null),xt(r.blueprint,null));const i=Rt(e,t),s=e.injectorIndex;if(It(i)){const e=Et(i),n=Tt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[s+i]=n[e+i]|r[e+i]}return t[s+8]=i,s}function xt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Nt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Rt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ot(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=Ct++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function Dt(e,t,n){if(n&R.Optional)return e;_(t,"NodeInjector")}function Pt(e,t,n,r){if(n&R.Optional&&void 0===r&&(r=null),0==(n&(R.Self|R.Host))){const i=e[9],s=D(void 0);try{return i?i.get(t,r,n&R.Optional):P(t,r,n&R.Optional)}finally{D(s)}}return Dt(r,t,n)}function Lt(e,t,n,r=R.Default,i){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(X)?e[X]:void 0;return"number"==typeof t?t>=0?255&t:Ft:t}(n);if("function"==typeof s){if(!et(t,e,r))return r&R.Host?Dt(i,n,r):Pt(t,n,r,i);try{const e=s(r);if(null!=e||r&R.Optional)return e;_(n)}finally{st()}}else if("number"==typeof s){let i=null,o=Nt(e,t),a=-1,c=r&R.Host?t[16][6]:null;for((-1===o||r&R.SkipSelf)&&(a=-1===o?Rt(e,t):t[o+8],-1!==a&&qt(r,!1)?(i=t[1],o=Et(a),t=Tt(a,t)):o=-1);-1!==o;){const e=t[1];if(Vt(s,o,e.data)){const e=Mt(o,t,n,i,r,c);if(e!==$t)return e}a=t[o+8],-1!==a&&qt(r,t[1].data[o+8]===c)&&Vt(s,o,t)?(i=e,o=Et(a),t=Tt(a,t)):o=-1}}}return Pt(t,n,r,i)}const $t={};function Ft(){return new Bt(Ve(),Ue())}function Mt(e,t,n,r,i,s){const o=t[1],a=o.data[e+8],c=Ut(a,o,n,null==r?fe(a)&&St:r!=o&&0!=(3&a.type),i&R.Host&&s===a);return null!==c?jt(t,o,c,a):$t}function Ut(e,t,n,r,i){const s=e.providerIndexes,o=t.data,a=1048575&s,c=e.directiveStart,u=s>>20,l=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<l;h++){const e=o[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=o[c];if(e&&me(e)&&e.type===n)return c}return null}function jt(e,t,n,r){let i=e[n];const s=t.data;if(i instanceof gt){const o=i;o.resolving&&function(e,t){throw new v("200",`Circular dependency in DI detected for ${e}`)}(b(s[n]));const a=kt(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?D(o.injectImpl):null;et(e,r,R.Default);try{i=e[n]=o.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=t.type.prototype;if(r){const r=we(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{null!==c&&D(c),kt(a),o.resolving=!1,st()}}return i}function Vt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function qt(e,t){return!(e&R.Self||e&R.Host&&t)}class Bt{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Lt(this._tNode,this._lView,e,void 0,t)}}function zt(e){return L(()=>{const t=e.prototype.constructor,n=t[Q]||Ht(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[Q]||Ht(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function Ht(e){return y(e)?()=>{const t=Ht(g(e));return t&&t()}:ge(e)}function Gt(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(vt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(Ve(),e)}function Wt(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function Kt(e,t,n){return L(()=>{const r=Wt(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Yt(e,t,n,r){return L(()=>{const i=Wt(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return function(n,i){const s=n.constructor,o=s.hasOwnProperty("__prop__metadata__")?s.__prop__metadata__:Object.defineProperty(s,"__prop__metadata__",{value:{}}).__prop__metadata__;o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(t),r&&r(n,i,...e)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const Qt=function(){return Kt("Attribute",e=>({attributeName:e,__NG_ELEMENT_ID__:()=>Gt(e)}))}();class Xt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Jt=new Xt("AnalyzeForEntryComponents");class Zt{}const en=Yt("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),Zt),tn=Yt("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),Zt),nn=Function;function rn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),rn(r,t)):t!==e&&t.push(r)}return t}function sn(e,t){e.forEach(e=>Array.isArray(e)?sn(e,t):t(e))}function on(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function an(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function un(e,t,n){let r=hn(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ln(e,t){const n=hn(e,t);if(n>=0)return e[1|n]}function hn(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=e[n<<1];if(t===s)return n<<1;s>t?i=n:r=n+1}return~(i<<1)}(e,t)}const dn={},fn=/\n/gm,pn=l({provide:String,useValue:l});let mn;function gn(e){const t=mn;return mn=e,t}function yn(e,t=R.Default){if(void 0===mn)throw new Error("inject() must be called from an injection context");return null===mn?P(e,void 0,t):mn.get(e,t&R.Optional?null:void 0,t)}function vn(e,t=R.Default){return(O||yn)(g(e),t)}function wn(e){const t=[];for(let n=0;n<e.length;n++){const r=g(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=R.Default;for(let t=0;t<r.length;t++){const i=r[t],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?e=i.token:n|=s:e=i}t.push(vn(e,n))}else t.push(vn(r))}return t}function bn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const _n=bn(Kt("Inject",e=>({token:e})),-1),In=bn(Kt("Optional"),8),En=bn(Kt("SkipSelf"),4);let Tn;function Sn(e){var t;return(null===(t=function(){if(void 0===Tn&&(Tn=null,q.trustedTypes))try{Tn=q.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Tn}())||void 0===t?void 0:t.createHTML(e))||e}class kn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Cn extends kn{getTypeName(){return"HTML"}}class An extends kn{getTypeName(){return"Style"}}class xn extends kn{getTypeName(){return"Script"}}class Nn extends kn{getTypeName(){return"URL"}}class Rn extends kn{getTypeName(){return"ResourceURL"}}function On(e){return e instanceof kn?e.changingThisBreaksApplicationSecurity:e}function Dn(e,t){const n=Pn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function Pn(e){return e instanceof kn&&e.getTypeName()||null}function Ln(e){return new Cn(e)}function $n(e){return new An(e)}function Fn(e){return new xn(e)}function Mn(e){return new Nn(e)}function Un(e){return new Rn(e)}class jn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Sn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Vn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Sn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Sn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zn(e){return(e=String(e)).match(qn)||e.match(Bn)?e:"unsafe:"+e}function Hn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Gn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Wn=Hn("area,br,col,hr,img,wbr"),Kn=Hn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yn=Hn("rp,rt"),Qn=Gn(Yn,Kn),Xn=Gn(Wn,Gn(Kn,Hn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gn(Yn,Hn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qn),Jn=Hn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zn=Hn("srcset"),er=Gn(Jn,Zn,Hn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Hn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tr=Hn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Xn.hasOwnProperty(t))return this.sanitizedSomething=!0,!tr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,s=t.toLowerCase();if(!er.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=e.value;Jn[s]&&(o=zn(o)),Zn[s]&&(r=o,o=(r=String(r)).split(",").map(e=>zn(e.trim())).join(", ")),this.buf.push(" ",t,'="',sr(o),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Xn.hasOwnProperty(t)&&!Wn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(sr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function sr(e){return e.replace(/&/g,"&amp;").replace(rr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(ir,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let or;function ar(e,t){let n=null;try{or=or||function(e){const t=new Vn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Sn(""),"text/html")}catch(e){return!1}}()?new jn(t):t}(e);let r=t?String(t):"";n=or.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=or.getInertBodyElement(r)}while(r!==s);return Sn((new nr).sanitizeChildren(cr(n)||n))}finally{if(n){const e=cr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function cr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ur=(()=>((ur=ur||{})[ur.NONE=0]="NONE",ur[ur.HTML=1]="HTML",ur[ur.STYLE=2]="STYLE",ur[ur.SCRIPT=3]="SCRIPT",ur[ur.URL=4]="URL",ur[ur.RESOURCE_URL=5]="RESOURCE_URL",ur))();function lr(e){const t=function(){const e=Ue();return e&&e[12]}();return t?t.sanitize(ur.URL,e)||"":Dn(e,"URL")?On(e):zn(w(e))}function hr(e,t){e.__ngContext__=t}function dr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function fr(e){return e.ngOriginalError}function pr(e,...t){e.error(...t)}class mr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||pr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(fr(e)):null}_findOriginalError(e){let t=e&&fr(e);for(;t&&fr(t);)t=fr(t);return t||null}}const gr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(q))();function yr(e){return e instanceof Function?e():e}var vr=(()=>((vr=vr||{})[vr.Important=1]="Important",vr[vr.DashCase=2]="DashCase",vr))();function wr(e,t){return(void 0)(e,t)}function br(e){const t=e[3];return he(t)?t[3]:t}function _r(e){return Er(e[13])}function Ir(e){return Er(e[4])}function Er(e){for(;null!==e&&!he(e);)e=e[4];return e}function Tr(e,t,n,r,i){if(null!=r){let s,o=!1;he(r)?s=r:le(r)&&(o=!0,r=r[0]);const a=Ce(r);0===e&&null!==n?null==i?Or(t,n,a):Rr(t,n,a,i||null,!0):1===e&&null!==n?Rr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Pr(e,t);r&&function(e,t,n,r){Se(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,o):3===e&&t.destroyNode(a),null!=s&&function(e,t,n,r,i){const s=n[7];s!==Ce(n)&&Tr(t,e,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];qr(i[1],i,e,t,r,s)}}(t,e,s,n,i)}}function Sr(e,t,n){return Se(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function kr(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,$e(i,-1)),n.splice(r,1)}function Cr(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const s=r[17];null!==s&&s!==e&&kr(s,r),t>0&&(e[n-1][4]=r[4]);const o=an(e,10+t);qr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ar(e,t){if(!(256&t[2])){const n=t[11];Se(n)&&n.destroyNode&&qr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return xr(e[1],e);for(;t;){let n=null;if(le(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)le(t)&&xr(t[1],t),t=t[3];null===t&&(t=e),le(t)&&xr(t[1],t),n=t&&t[4]}t=n}}(t)}}function xr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof gt)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const e=n[s+1],o="function"==typeof e?e(t):Ce(t[e]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const e=r[i=n[s+1]];n[s].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Se(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&kr(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Nr(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===F.None||t===F.Emulated)return null}return xe(r,n)}(e,t.parent,n)}function Rr(e,t,n,r,i){Se(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Or(e,t,n){Se(e)?e.appendChild(t,n):t.appendChild(n)}function Dr(e,t,n,r,i){null!==r?Rr(e,t,n,r,i):Or(e,t,n)}function Pr(e,t){return Se(e)?e.parentNode(t):t.parentNode}function Lr(e,t,n){return $r(e,t,n)}let $r=function(e,t,n){return 40&e.type?xe(e,n):null};function Fr(e,t,n,r){const i=Nr(e,r,t),s=t[11],o=Lr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Dr(s,i,n[a],o,!1);else Dr(s,i,n,o,!1)}function Mr(e,t){if(null!==t){const n=t.type;if(3&n)return xe(t,e);if(4&n)return jr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Mr(e,n);{const n=e[t.index];return he(n)?jr(-1,n):Ce(n)}}if(32&n)return wr(t,e)()||Ce(e[t.index]);{const n=Ur(e,t);return null!==n?Array.isArray(n)?n[0]:Mr(br(e[16]),n):Mr(e,t.next)}}return null}function Ur(e,t){return null!==t?e[16][6].projection[t.projection]:null}function jr(e,t){const n=10+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Mr(e,r)}return t[7]}function Vr(e,t,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===t&&(a&&hr(Ce(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Vr(e,t,n.child,r,i,s,!1),Tr(t,e,i,a,s);else if(32&c){const o=wr(n,r);let c;for(;c=o();)Tr(t,e,i,c,s);Tr(t,e,i,a,s)}else 16&c?Br(e,t,r,n,i,s):Tr(t,e,i,a,s);n=o?n.projectionNext:n.next}}function qr(e,t,n,r,i,s){Vr(n,r,e.firstChild,t,i,s,!1)}function Br(e,t,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Tr(t,e,i,a[c],s);else Vr(e,t,a,o[3],i,s,!0)}function zr(e,t,n){Se(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Hr(e,t,n){Se(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Gr(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}function Wr(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Gr(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Kr(e){return 4===e.type&&"ng-template"!==e.value}function Yr(e,t,n){return t===(4!==e.type||n?e.value:"ng-template")}function Qr(e,t,n){let r=4;const i=e.attrs||[],s=function(e){for(let t=0;t<e.length;t++)if(vt(e[t]))return t;return e.length}(i);let o=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Yr(e,c,n)||""===c&&1===t.length){if(Xr(r))return!1;o=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!Wr(e.attrs,u,n)){if(Xr(r))return!1;o=!0}continue}const l=Jr(8&r?"class":c,i,Kr(e),n);if(-1===l){if(Xr(r))return!1;o=!0;continue}if(""!==u){let e;e=l>s?"":i[l+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==Gr(t,u,0)||2&r&&u!==e){if(Xr(r))return!1;o=!0}}}}else{if(!o&&!Xr(r)&&!Xr(c))return!1;if(o&&Xr(c))continue;o=!1,r=c|1&r}}return Xr(r)||o}function Xr(e){return 0==(1&e)}function Jr(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Zr(e,t,n=!1){for(let r=0;r<t.length;r++)if(Qr(e,t[r],n))return!0;return!1}function ei(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function ti(e,t){return e?":not("+t.trim()+")":t}function ni(e){let t=e[0],n=1,r=2,i="",s=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&r){const t=e[++n];i+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Xr(o)||(t+=ti(s,i),i=""),r=o,s=s||!Xr(r);n++}return""!==i&&(t+=ti(s,i)),t}const ri={};function ii(e){si(je(),Ue(),at()+e,Ge())}function si(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&ht(t,r,n)}else{const r=e.preOrderHooks;null!==r&&dt(t,r,0,n)}ct(n)}function oi(e,t){return e<<17|t<<2}function ai(e){return e>>17&32767}function ci(e){return 2|e}function ui(e){return(131068&e)>>2}function li(e,t){return-131069&e|t<<2}function hi(e){return 1|e}function di(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=e.data[s];Je(i),n.contentQueries(2,t[s],s)}}}function fi(e,t,n,r,i,s,o,a,c,u){const l=t.blueprint.slice();return l[0]=i,l[2]=140|r,Le(l),l[3]=l[15]=e,l[8]=n,l[10]=o||e&&e[10],l[11]=a||e&&e[11],l[12]=c||e&&e[12]||null,l[9]=u||e&&e[9]||null,l[6]=s,l[16]=2==t.type?e[16]:l,l}function pi(e,t,n,r,i){let s=e.data[t];if(null===s)s=function(e,t,n,r,i){const s=qe(),o=ze(),a=e.data[t]=function(e,t,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(e,t,n,r,i),Fe.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const e=function(){const e=Fe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===e?-1:e.injectorIndex}return Be(s,!0),s}function mi(e,t,n,r){if(0===n)return-1;const i=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function gi(e,t,n){tt(t);try{const r=e.viewQuery;null!==r&&Hi(1,r,n);const i=e.template;null!==i&&wi(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&di(e,t),e.staticViewQueries&&Hi(2,e.viewQuery,n);const s=e.components;null!==s&&function(e,t){for(let n=0;n<t.length;n++)ji(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,ot()}}function yi(e,t,n,r){const i=t[2];if(256==(256&i))return;tt(t);const s=Ge();try{Le(t),Fe.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&wi(e,t,n,2,r);const o=3==(3&i);if(!s)if(o){const n=e.preOrderCheckHooks;null!==n&&ht(t,n,null)}else{const n=e.preOrderHooks;null!==n&&dt(t,n,0,null),ft(t,0)}if(function(e){for(let t=_r(e);null!==t;t=Ir(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&$e(r,1),n[2]|=1024}}}(t),function(e){for(let t=_r(e);null!==t;t=Ir(t))for(let e=10;e<t.length;e++){const n=t[e],r=n[1];De(n)&&yi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&di(e,t),!s)if(o){const n=e.contentCheckHooks;null!==n&&ht(t,n)}else{const n=e.contentHooks;null!==n&&dt(t,n,1),ft(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)ct(~r);else{const i=r,s=n[++e],o=n[++e];Ye(s,i),o(2,t[i])}}}finally{ct(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Mi(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Hi(2,c,r),!s)if(o){const n=e.viewCheckHooks;null!==n&&ht(t,n)}else{const n=e.viewHooks;null!==n&&dt(t,n,2),ft(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,$e(t[3],-1))}finally{ot()}}function vi(e,t,n,r){const i=t[10],s=!Ge(),o=Oe(t);try{s&&!o&&i.begin&&i.begin(),o&&gi(e,t,r),yi(e,t,n,r)}finally{s&&!o&&i.end&&i.end()}}function wi(e,t,n,r,i){const s=at(),o=2&r;try{ct(-1),o&&t.length>20&&si(e,t,20,Ge()),n(r,i)}finally{ct(s)}}function bi(e,t,n){Me()&&(function(e,t,n,r){const i=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||At(n,t),hr(r,t);const o=n.initialInputs;for(let a=i;a<s;a++){const r=e.data[a],s=me(r);s&&Pi(t,n,r);const c=jt(t,e,a,n);hr(c,t),null!==o&&Li(0,a-i,c,r,0,o),s&&(Re(n.index,t)[8]=c)}}(e,t,n,xe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Fe.lFrame.currentDirectiveIndex;try{ct(s);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];Qe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||xi(r,i)}}finally{ct(-1),Qe(o)}}(e,t,n))}function _i(e,t,n=xe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(t,e):e[o];e[i++]=a}}}function Ii(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ei(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ei(e,t,n,r,i,s,o,a,c,u){const l=20+r,h=l+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:ri);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ti(e,t,n,r){const i=Wi(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&Ki(e).push(r,i.length-1))}function Si(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function ki(e,t,n,r,i,s,o,a){const c=xe(t,n);let u,l=t.inputs;var h;!a&&null!=l&&(u=l[r])?(Qi(e,n,u,r,i),fe(t)&&function(e,t){const n=Re(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,t.value||"",r):i,Se(s)?s.setProperty(c,r,i):wt(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Ci(e,t,n,r){let i=!1;if(Me()){const s=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Zr(n,o.selectors,!1)&&(i||(i=[]),Ot(At(n,t),e,o.type),me(o)?(Ni(e,n),i.unshift(o)):i.push(o))}return i}(e,t,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Oi(n,e.data.length,s.length);for(let e=0;e<s.length;e++){const t=s[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=mi(e,t,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=bt(n.mergedAttrs,u.hostAttrs),Di(e,n,t,c,u),Ri(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,s=[];let o=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,u=null===i||Kr(t)?null:$i(n,i);s.push(u),o=Si(n,c,o),a=Si(e.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=o,t.outputs=a}(e,n)}o&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new v("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,o)}return n.mergedAttrs=bt(n.mergedAttrs,n.attrs),i}function Ai(e,t,n,r,i,s){const o=s.hostBindings;if(o){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const s=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function xi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ni(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ri(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;me(t)&&(n[""]=e)}}function Oi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Di(e,t,n,r,i){e.data[r]=i;const s=i.factory||(i.factory=ge(i.type)),o=new gt(s,me(i),null);e.blueprint[r]=o,n[r]=o,Ai(e,t,0,r,mi(e,n,i.hostVars,ri),i)}function Pi(e,t,n){const r=xe(t,e),i=Ii(n),s=e[10],o=Vi(e,fi(e,i,null,n.onPush?64:16,r,t,s,s.createRenderer(r,n),null,null));e[t.index]=o}function Li(e,t,n,r,i,s){const o=s[t];if(null!==o){const e=r.setInput;for(let t=0;t<o.length;){const i=o[t++],s=o[t++],a=o[t++];null!==e?r.setInput(n,a,i,s):n[s]=a}}}function $i(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Fi(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Mi(e,t){const n=Re(t,e);if(De(n)){const e=n[1];80&n[2]?yi(e,n,e.template,n[8]):n[5]>0&&Ui(n)}}function Ui(e){for(let n=_r(e);null!==n;n=Ir(n))for(let e=10;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];yi(e,t,e.template,t[8])}else t[5]>0&&Ui(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Re(t[n],e);De(r)&&r[5]>0&&Ui(r)}}function ji(e,t){const n=Re(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),gi(r,n,n[8])}function Vi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function qi(e){for(;e;){e[2]|=64;const t=br(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Bi(e,t,n){const r=t[10];r.begin&&r.begin();try{yi(e,t,e.template,n)}catch(i){throw Yi(t,i),i}finally{r.end&&r.end()}}function zi(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=dr(n),i=r[1];vi(i,r,i.template,n)}}(e[8])}function Hi(e,t,n){Je(0),t(e,n)}const Gi=(()=>Promise.resolve(null))();function Wi(e){return e[7]||(e[7]=[])}function Ki(e){return e.cleanup||(e.cleanup=[])}function Yi(e,t){const n=e[9],r=n?n.get(mr,null):null;r&&r.handleError(t)}function Qi(e,t,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=t[o],u=e.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function Xi(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?s=e:1==s?i=f(i,e):2==s&&(r=f(r,e+": "+t[++o]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const Ji=new Xt("INJECTOR",-1);class Zi{get(e,t=dn){if(t===dn){const t=new Error(`NullInjectorError: No provider for ${d(e)}!`);throw t.name="NullInjectorError",t}return t}}const es=new Xt("Set Injector scope."),ts={},ns={};let rs;function is(){return void 0===rs&&(rs=new Zi),rs}function ss(e,t=null,n=null,r){return new os(e,n,t||is(),r)}class os{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&sn(t,n=>this.processProvider(n,e,t)),sn([e],e=>this.processInjectorType(e,[],i)),this.records.set(Ji,us(void 0,this));const s=this.records.get(es);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof e?null:d(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=dn,n=R.Default){this.assertNotDestroyed();const r=gn(this),i=D(void 0);try{if(!(n&R.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Xt)&&T(e);t=n&&this.injectableDefInScope(n)?us(as(e),ts):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&R.Self?is():this.parent).get(e,t=n&R.Optional&&t===dn?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(e)),r)throw o;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=d(t);if(Array.isArray(t))i=t.map(d).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(fn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{D(i),gn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(d(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=g(e)))return!1;let r=k(e);const i=null==r&&e.ngModule||void 0,s=void 0===i?e:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=k(i)),null==r)return!1;if(null!=r.imports&&!o){let e;n.push(s);try{sn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];sn(r,e=>this.processProvider(e,n,r||z))}}this.injectorDefTypes.add(s);const a=ge(s)||(()=>new s);this.records.set(s,us(a,ts));const c=r.providers;if(null!=c&&!o){const t=e;sn(c,e=>this.processProvider(e,t,c))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=hs(e=g(e))?e:g(e&&e.provide);const i=function(e,t,n){return ls(e)?us(void 0,e.useValue):us(cs(e),ts)}(e);if(hs(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=us(void 0,ts,!0),t.factory=()=>wn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===ts&&(t.value=ns,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=g(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function as(e){const t=T(e),n=null!==t?t.factory:ge(e);if(null!==n)return n;if(e instanceof Xt)throw new Error(`Token ${d(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=cn(t,"?");throw new Error(`Can't resolve all parameters for ${d(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[C]||e[x]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function cs(e,t,n){let r;if(hs(e)){const t=g(e);return ge(t)||as(t)}if(ls(e))r=()=>g(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...wn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>vn(g(e.useExisting));else{const t=g(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return ge(t)||as(t);r=()=>new t(...wn(e.deps))}var i;return r}function us(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ls(e){return null!==e&&"object"==typeof e&&pn in e}function hs(e){return"function"==typeof e}const ds=function(e,t,n){return function(e,t=null,n=null,r){const i=ss(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class fs{static create(e,t){return Array.isArray(e)?ds(e,t,""):ds(e.providers,e.parent,e.name||"")}}function ps(e,t){lt(dr(e)[1],Ve())}function ms(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i;if(me(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=gs(e.inputs),t.declaredInputs=gs(e.declaredInputs),t.outputs=gs(e.outputs);const n=i.hostBindings;n&&ws(e,n);const s=i.viewQuery,o=i.contentQueries;if(s&&ys(e,s),o&&vs(e,o),h(e.inputs,i.inputs),h(e.declaredInputs,i.declaredInputs),h(e.outputs,i.outputs),me(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===ms&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=bt(i.hostAttrs,n=bt(n,i.hostAttrs))}}(r)}function gs(e){return e===B?{}:e===z?[]:e}function ys(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function vs(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function ws(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}fs.THROW_IF_NOT_FOUND=dn,fs.NULL=new Zi,fs.\u0275prov=I({token:fs,providedIn:"any",factory:()=>vn(Ji)}),fs.__NG_ELEMENT_ID__=-1;let bs=null;function _s(){if(!bs){const e=q.Symbol;if(e&&e.iterator)bs=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(bs=n)}}}return bs}class Is{constructor(e){this.wrapped=e}static wrap(e){return new Is(e)}static unwrap(e){return Is.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof Is}}function Es(e){return!!Ts(e)&&(Array.isArray(e)||!(e instanceof Map)&&_s()in e)}function Ts(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ss(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ks(e,t,n,r){const i=Ue();return Ss(i,Ke(),t)&&(je(),function(e,t,n,r,i,s){const o=xe(e,t);!function(e,t,n,r,i,s,o){if(null==s)Se(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==o?w(s):o(s,r||"",i);Se(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],o,s,e.value,n,r,i)}(ut(),i,e,t,n,r)),ks}function Cs(e,t,n,r,i,s,o,a){const c=Ue(),u=je(),l=e+20,h=u.firstCreatePass?function(e,t,n,r,i,s,o,a,c){const u=t.consts,l=pi(t,e,4,o||null,Pe(u,a));Ci(t,n,l,Pe(u,c)),lt(t,l);const h=l.tViews=Ei(2,l,r,i,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,l),h.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,s,o):u.data[l];Be(h,!1);const d=c[11].createComment("");Fr(u,c,d,h),hr(d,c),Vi(c,c[l]=Fi(d,c,d,h)),pe(h)&&bi(u,c,h),null!=o&&_i(c,h,a)}function As(e,t=R.Default){const n=Ue();return null===n?vn(e,t):Lt(Ve(),n,g(e),t)}function xs(){throw new Error("invalid")}function Ns(e,t,n){const r=Ue();return Ss(r,Ke(),t)&&ki(je(),ut(),r,e,t,r[11],n,!1),Ns}function Rs(e,t,n,r,i){const s=i?"class":"style";Qi(e,n,t.inputs[s],s,r)}function Os(e,t,n,r){const i=Ue(),s=je(),o=20+e,a=i[11],c=i[o]=Sr(a,t,Fe.lFrame.currentNamespace),u=s.firstCreatePass?function(e,t,n,r,i,s,o){const a=t.consts,c=pi(t,e,2,i,Pe(a,s));return Ci(t,n,c,Pe(a,o)),null!==c.attrs&&Xi(c,c.attrs,!1),null!==c.mergedAttrs&&Xi(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,i,0,t,n,r):s.data[o];Be(u,!0);const l=u.mergedAttrs;null!==l&&yt(a,c,l);const h=u.classes;null!==h&&Hr(a,c,h);const d=u.styles;null!==d&&zr(a,c,d),64!=(64&u.flags)&&Fr(s,i,c,u),0===Fe.lFrame.elementDepthCount&&hr(c,i),Fe.lFrame.elementDepthCount++,pe(u)&&(bi(s,i,u),function(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}(s,u,i)),null!==r&&_i(i,u)}function Ds(){let e=Ve();ze()?He():(e=e.parent,Be(e,!1));const t=e;Fe.lFrame.elementDepthCount--;const n=je();n.firstCreatePass&&(lt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Rs(n,t,Ue(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Rs(n,t,Ue(),t.stylesWithoutHost,!1)}function Ps(e,t,n,r){Os(e,t,n,r),Ds()}function Ls(e){return!!e&&"function"==typeof e.then}function $s(e){return!!e&&"function"==typeof e.subscribe}const Fs=$s;function Ms(e,t,n,r){const i=Ue(),s=je(),o=Ve();return function(e,t,n,r,i,s,o,a){const c=pe(r),u=e.firstCreatePass&&Ki(e),l=Wi(t);let h=!0;if(3&r.type||a){const d=xe(r,t),f=a?a(d):d,p=l.length,m=a?e=>a(Ce(e[r.index])):r.index;if(Se(n)){let o=null;if(!a&&c&&(o=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const e=i[s];if(e===n&&i[s+1]===r){const e=t[7],n=i[s+2];return e.length>n?e[n]:null}"string"==typeof e&&(s+=2)}return null}(e,t,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=js(r,t,0,s,!1);const e=n.listen(f,i,s);l.push(s,e),u&&u.push(i,m,p,p+1)}}else s=js(r,t,0,s,!0),f.addEventListener(i,s,o),l.push(s),u&&u.push(i,m,p,o)}else s=js(r,t,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,e),u&&u.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,e,t,!!n,r),Ms}function Us(e,t,n,r){try{return!1!==n(r)}catch(i){return Yi(e,i),!1}}function js(e,t,n,r,i){return function n(s){if(s===Function)return r;const o=2&e.flags?Re(e.index,t):t;0==(32&t[2])&&qi(o);let a=Us(t,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=Us(t,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function Vs(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const s=t[i];if("*"!==s){if(null===r?Zr(e,s,!0):ei(r,s))return i}else n=i}return n}function qs(e){const t=Ue()[16][6];if(!t.projection){const n=t.projection=cn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?Vs(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function Bs(e,t=0,n){const r=Ue(),i=je(),s=pi(i,20+e,16,null,n||null);null===s.projection&&(s.projection=t),He(),64!=(64&s.flags)&&function(e,t,n){Br(t[11],0,t,n,Nr(e,n,t),Lr(n.parent||t[6],n,t))}(i,r,s)}function zs(e,t,n,r,i){const s=e[n+1],o=null===t;let a=r?ai(s):ui(s),c=!1;for(;0!==a&&(!1===c||o);){const n=e[a+1];Hs(e[a],t)&&(c=!0,e[a+1]=r?hi(n):ci(n)),a=r?ai(n):ui(n)}c&&(e[n+1]=r?ci(s):hi(s))}function Hs(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&hn(e,t)>=0}function Gs(e,t){return function(e,t,n,r){const i=Ue(),s=je(),o=function(e){const t=Fe.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+2,n}();s.firstUpdatePass&&function(e,t,n,r){const i=e.data;if(null===i[n+1]){const r=i[at()],s=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=function(e){const t=Fe.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=t.residualClasses;if(null===i)0===t.classBindings&&(n=Ks(n=Ws(null,e,t,n,true),t.attrs,true),s=null);else{const r=t.directiveStylingLast;if(-1===r||e[r]!==i)if(n=Ws(i,e,t,n,true),null===s){let n=function(e,t,n){const r=t.classBindings;if(0!==ui(r))return e[ai(r)]}(e,t);void 0!==n&&Array.isArray(n)&&(n=Ws(null,e,t,n[1],true),n=Ks(n,t.attrs,true),function(e,t,n,r){e[ai(t.classBindings)]=r}(e,t,0,n))}else s=function(e,t,n){let r;const i=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<i;s++)r=Ks(r,e[s].hostAttrs,true);return Ks(r,t.attrs,true)}(e,t)}return void 0!==s&&(t.residualClasses=s),n}(i,r,t),function(e,t,n,r,i,s){let o=t.classBindings,a=ai(o),c=ui(o);e[r]=n;let u,l=!1;if(Array.isArray(n)){const e=n;u=e[1],(null===u||hn(e,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const t=ai(e[a+1]);e[r+1]=oi(t,a),0!==t&&(e[t+1]=li(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=oi(a,0),0!==a&&(e[a+1]=li(e[a+1],r)),a=r;else e[r+1]=oi(c,0),0===a?a=r:e[c+1]=li(e[c+1],r),c=r;l&&(e[r+1]=ci(e[r+1])),zs(e,u,r,!0),zs(e,u,r,!1),function(e,t,n,r,i){const s=e.residualClasses;null!=s&&"string"==typeof t&&hn(s,t)>=0&&(n[r+1]=hi(n[r+1]))}(t,u,e,r),o=oi(a,c),t.classBindings=o}(i,r,t,n,s)}}(s,e,o),t!==ri&&Ss(i,o,t)&&function(e,t,n,r,i,s,o,a){if(!(3&t.type))return;const c=e.data,u=c[a+1];Qs(1==(1&u)?Ys(c,t,n,i,ui(u),true):void 0)||(Qs(s)||function(e){return 2==(2&e)}(u)&&(s=Ys(c,null,n,i,a,true)),function(e,t,n,r,i){const s=Se(e);i?s?e.addClass(n,r):n.classList.add(r):s?e.removeClass(n,r):n.classList.remove(r)}(r,0,Ae(at(),n),i,s))}(s,s.data[at()],i,i[11],e,i[o+1]=function(e,t){return null==e||"object"==typeof e&&(e=d(On(e))),e}(t),0,o)}(e,t),Gs}function Ws(e,t,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=t[a],r=Ks(r,s.hostAttrs,i),s!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ks(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),un(e,o,!!n||t[++s]))}return void 0===e?null:e}function Ys(e,t,n,r,i,s){const o=null===t;let a;for(;i>0;){const t=e[i],s=Array.isArray(t),c=s?t[1]:t,u=null===c;let l=n[i+1];l===ri&&(l=u?z:void 0);let h=u?ln(l,r):c===r?l:void 0;if(s&&!Qs(h)&&(h=ln(t,r)),Qs(h)&&(a=h,o))return a;const d=e[i+1];i=o?ai(d):ui(d)}if(null!==t){let e=s?t.residualClasses:t.residualStyles;null!=e&&(a=ln(e,r))}return a}function Qs(e){return void 0!==e}function Xs(e,t=""){const n=Ue(),r=je(),i=e+20,s=r.firstCreatePass?pi(r,i,1,t,null):r.data[i],o=n[i]=function(e,t){return Se(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Fr(r,n,o,s),Be(s,!1)}function Js(e){return Zs("",e,""),Js}function Zs(e,t,n){const r=Ue(),i=function(e,t,n,r){return Ss(e,Ke(),n)?t+w(n)+r:ri}(r,e,t,n);return i!==ri&&function(e,t,n){const r=Ae(t,e);!function(e,t,n){Se(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,at(),i),Zs}function eo(e,t,n){const r=Ue();return Ss(r,Ke(),t)&&ki(je(),ut(),r,e,t,r[11],n,!0),eo}const to=void 0;var no=["en",[["a","p"],["AM","PM"],to],[["AM","PM"],to,to],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],to,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],to,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",to,"{1} 'at' {0}",to],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let ro={};function io(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=oo(t);if(n)return n;const r=t.split("-")[0];if(n=oo(r),n)return n;if("en"===r)return no;throw new Error(`Missing locale data for the locale "${e}".`)}function so(e){return io(e)[ao.PluralCase]}function oo(e){return e in ro||(ro[e]=q.ng&&q.ng.common&&q.ng.common.locales&&q.ng.common.locales[e]),ro[e]}var ao=(()=>((ao=ao||{})[ao.LocaleId=0]="LocaleId",ao[ao.DayPeriodsFormat=1]="DayPeriodsFormat",ao[ao.DayPeriodsStandalone=2]="DayPeriodsStandalone",ao[ao.DaysFormat=3]="DaysFormat",ao[ao.DaysStandalone=4]="DaysStandalone",ao[ao.MonthsFormat=5]="MonthsFormat",ao[ao.MonthsStandalone=6]="MonthsStandalone",ao[ao.Eras=7]="Eras",ao[ao.FirstDayOfWeek=8]="FirstDayOfWeek",ao[ao.WeekendRange=9]="WeekendRange",ao[ao.DateFormat=10]="DateFormat",ao[ao.TimeFormat=11]="TimeFormat",ao[ao.DateTimeFormat=12]="DateTimeFormat",ao[ao.NumberSymbols=13]="NumberSymbols",ao[ao.NumberFormats=14]="NumberFormats",ao[ao.CurrencyCode=15]="CurrencyCode",ao[ao.CurrencySymbol=16]="CurrencySymbol",ao[ao.CurrencyName=17]="CurrencyName",ao[ao.Currencies=18]="Currencies",ao[ao.Directionality=19]="Directionality",ao[ao.PluralCase=20]="PluralCase",ao[ao.ExtraData=21]="ExtraData",ao))();let co="en-US";function uo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(co=e.toLowerCase().replace(/_/g,"-"))}function lo(e,t,n,r,i){if(e=g(e),Array.isArray(e))for(let s=0;s<e.length;s++)lo(e[s],t,n,r,i);else{const s=je(),o=Ue();let a=hs(e)?e:g(e.provide),c=cs(e);const u=Ve(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(hs(e)||!e.multi){const r=new gt(c,i,As),f=po(a,t,i?l:l+d,h);-1===f?(Ot(At(u,o),s,a),ho(s,e,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=po(a,t,l+d,h),p=po(a,t,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Ot(At(u,o),s,a);const l=function(e,t,n,r,i){const s=new gt(e,n,As);return s.multi=[],s.index=t,s.componentProviders=0,fo(s,i,r&&!n),s}(i?go:mo,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),ho(s,e,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else ho(s,e,f>-1?f:p,fo(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ho(e,t,n,r){const i=hs(t);if(i||t.useClass){const s=(t.useClass||t).prototype.ngOnDestroy;if(s){const o=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[r,s]):o[e+1].push(r,s)}else o.push(n,s)}}}function fo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function po(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function mo(e,t,n,r){return yo(this.multi,[])}function go(e,t,n,r){const i=this.multi;let s;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=jt(n,n[1],this.providerFactory.index,r);s=t.slice(0,e),yo(i,s);for(let n=e;n<t.length;n++)s.push(t[n])}else s=[],yo(i,s);return s}function yo(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function vo(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=je();if(r.firstCreatePass){const i=me(e);lo(n,r.data,r.blueprint,i,!0),lo(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class wo{}class bo{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${d(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class _o{}function Io(...e){}function Eo(e,t){return new So(xe(e,t))}_o.NULL=new bo;const To=function(){return Eo(Ve(),Ue())};let So=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=To,e})();function ko(e){return e instanceof So?e.nativeElement:e}class Co{}let Ao=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>xo(),e})();const xo=function(){const e=Ue(),t=Re(Ve().index,e);return function(e){return e[11]}(le(t)?t:e)};let No=(()=>{class e{}return e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null}),e})();class Ro{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Oo=new Ro("12.1.5");class Do{constructor(){}supports(e){return Es(e)}create(e){return new Lo(e)}}const Po=(e,t)=>t;class Lo{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Po}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const s=!n||t&&t.currentIndex<Uo(n,r,i)?t:n,o=Uo(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const e=o-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;t<=s&&s<e&&(i[n]=r+1)}i[s.previousIndex]=t-e}}o!==a&&e(s,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Es(e))throw new Error(`Error trying to diff '${d(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,s=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),s=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[_s()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),s=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new $o(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Mo),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mo),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $o{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fo{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Mo{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Fo,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uo(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class jo{constructor(){}supports(e){return e instanceof Map||Ts(e)}create(){return new Vo}}class Vo{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ts(e)))throw new Error(`Error trying to diff '${d(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new qo(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class qo{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bo(){return new zo([new Do])}let zo=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Bo()),deps:[[e,new En,new In]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=I({token:e,providedIn:"root",factory:Bo}),e})();function Ho(){return new Go([new jo])}let Go=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Ho()),deps:[[e,new En,new In]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=I({token:e,providedIn:"root",factory:Ho}),e})();function Wo(e,t,n,r,i=!1){for(;null!==n;){const s=t[n.index];if(null!==s&&r.push(Ce(s)),he(s))for(let e=10;e<s.length;e++){const t=s[e],n=t[1].firstChild;null!==n&&Wo(t[1],t,n,r)}const o=n.type;if(8&o)Wo(e,t,n.child,r);else if(32&o){const e=wr(n,t);let i;for(;i=e();)r.push(i)}else if(16&o){const e=Ur(t,n);if(Array.isArray(e))r.push(...e);else{const n=br(t[16]);Wo(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ko{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Wo(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Cr(e,n),an(t,n))}this._attachedToViewContainer=!1}Ar(this._lView[1],this._lView)}onDestroy(e){Ti(this._lView[1],this._lView,null,e)}markForCheck(){qi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){We(!0);try{Bi(e,t,n)}finally{We(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,qr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Yo extends Ko{constructor(e){super(e),this._view=e}detectChanges(){zi(this._view)}checkNoChanges(){!function(e){We(!0);try{zi(e)}finally{We(!1)}}(this._view)}get context(){return null}}const Qo=function(e){return function(e,t,n){if(fe(e)&&!n){const n=Re(e.index,t);return new Ko(n,n)}return 47&e.type?new Ko(t[16],t):null}(Ve(),Ue(),16==(16&e))};let Xo=(()=>{class e{}return e.__NG_ELEMENT_ID__=Qo,e})();const Jo=[new jo],Zo=new zo([new Do]),ea=new Go(Jo),ta=function(){return sa(Ve(),Ue())};let na=(()=>{class e{}return e.__NG_ELEMENT_ID__=ta,e})();const ra=na,ia=class extends ra{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=fi(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),gi(t,n,e),new Ko(n)}};function sa(e,t){return 4&e.type?new ia(t,e,Eo(e,t)):null}class oa{}class aa{}const ca=function(){return pa(Ve(),Ue())};let ua=(()=>{class e{}return e.__NG_ELEMENT_ID__=ca,e})();const la=ua,ha=class extends la{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const e=Rt(this._hostTNode,this._hostLView);if(It(e)){const t=Tt(e,this._hostLView),n=Et(e);return new Bt(t[1].data[n+8],t)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=da(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const s=n||this.parentInjector;if(!i&&null==e.ngModule&&s){const e=s.get(oa,null);e&&(i=e)}const o=e.create(s,r,void 0,i);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new ha(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;!function(e,t,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=t),r<s-10?(t[4]=n[i],on(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,s,i);const o=jr(i,s),a=n[11],c=Pr(a,s[7]);return null!==c&&function(e,t,n,r,i,s){r[0]=i,r[6]=t,qr(e,r,n,1,i,s)}(r,s[6],a,n,c,o),e.attachToViewContainerRef(),on(fa(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=da(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Cr(this._lContainer,t);n&&(an(fa(this._lContainer),t),Ar(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Cr(this._lContainer,t);return n&&null!=an(fa(this._lContainer),t)?new Ko(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function da(e){return e[8]}function fa(e){return e[8]||(e[8]=[])}function pa(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=Ce(r);else{const n=t[11];i=n.createComment("");const r=xe(e,t);Rr(n,Pr(n,r),i,function(e,t){return Se(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Fi(r,t,i,e),Vi(t,n)}return new ha(n,e,t)}const ma={};class ga extends _o{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ce(e);return new wa(t,this.ngModule)}}function ya(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const va=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>gr});class wa extends wo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(ni).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return ya(this.componentDef.inputs)}get outputs(){return ya(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const s=e.get(n,ma,i);return s!==ma||r===ma?s:t.get(n,r,i)}}}(e,r.injector):e,s=i.get(Co,ke),o=i.get(No,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){if(Se(e))return e.selectRootElement(t,n===F.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Sr(s.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:gr,clean:Gi,playerHandler:null,flags:0},d=Ei(0,null,null,1,0,null,null,null,null,null),f=fi(null,d,h,l,null,null,s,a,o,i);let p,m;tt(f);try{const e=function(e,t,n,r,i,s){const o=n[1];n[20]=e;const a=pi(o,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(Xi(a,c,!0),null!==e&&(yt(i,e,c),null!==a.classes&&Hr(i,e,a.classes),null!==a.styles&&zr(i,e,a.styles)));const u=r.createRenderer(e,t),l=fi(n,Ii(t),null,t.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&(Ot(At(a,n),o,t.type),Ni(o,a),Oi(a,n.length,1)),Vi(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)yt(a,u,["ng-version",Oo.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&t.push(s,e[++r]):8===i&&n.push(s);else{if(!Xr(i))break;i=s}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&yt(a,u,e),t&&t.length>0&&Hr(a,u,t.join(" "))}if(m=Ne(d,20),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const s=n[1],o=function(e,t,n){const r=Ve();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Di(e,r,t,mi(e,t,1,null),n));const i=jt(t,e,r.directiveStart,r);hr(i,t);const s=xe(r,t);return s&&hr(s,t),i}(s,n,t);if(r.components.push(o),e[8]=o,i&&i.forEach(e=>e(o,t)),t.contentQueries){const e=Ve();t.contentQueries(1,o,e.directiveStart)}const a=Ve();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ct(a.index),Ai(n[1],a,0,a.directiveStart,a.directiveEnd,t),xi(t,o)),o}(e,this.componentDef,f,h,[ps]),gi(d,f,null)}finally{ot()}return new ba(this.componentType,p,Eo(m,f),f,m)}}class ba extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new Yo(r),this.componentType=e}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const _a=new Map;class Ia extends oa{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ga(this);const n=ue(e),r=e[Y]||null;r&&uo(r),this._bootstrapComponents=yr(n.bootstrap),this._r3Injector=ss(e,t,[{provide:oa,useValue:this},{provide:_o,useValue:this.componentFactoryResolver}],d(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=fs.THROW_IF_NOT_FOUND,n=R.Default){return e===fs||e===oa||e===Ji?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Ea extends aa{constructor(e){super(),this.moduleType=e,null!==ue(e)&&function(e){const t=new Set;!function e(n){const r=ue(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${d(t)} vs ${d(t.name)}`)}(i,_a.get(i),n),_a.set(i,n));const s=yr(r.imports);for(const o of s)t.has(o)||(t.add(o),e(o))}(e)}(e)}create(e){return new Ia(this.moduleType,e)}}function Ta(e,t){const n=je();let r;const i=e+20;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new v("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=ge(r.type)),o=D(As);try{const e=kt(!1),t=s();return kt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Ue(),i,t),t}finally{D(o)}}function Sa(e,t,n){const r=e+20,i=Ue(),s=function(e,t){return e[t]}(i,r);return function(e,t){return Is.isWrapped(t)&&(t=Is.unwrap(t),e[Fe.lFrame.bindingIndex]=ri),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?function(e,t,n,r,i,s){const o=t+n;return Ss(e,o,i)?function(e,t,n){return e[t]=n}(e,o+1,s?r.call(s,i):r(i)):function(e,t){const n=e[t];return n===ri?void 0:n}(e,o+1)}(i,function(){const e=Fe.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,s.transform,n,s):s.transform(n))}function ka(e){return t=>{setTimeout(e,void 0,t)}}const Ca=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,s,o;let a=e,c=t||(()=>null),u=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(s=t.error)||void 0===s?void 0:s.bind(t),u=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(c=ka(c),a&&(a=ka(a)),u&&(u=ka(u)));const l=super.subscribe({next:a,error:c,complete:u});return e instanceof i.w&&e.add(l),l}};function Aa(){return this._results[_s()]()}class xa{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=_s(),n=xa.prototype;n[t]||(n[t]=Aa)}get changes(){return this._changes||(this._changes=new Ca)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const n=rn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(this._results,n,t))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Na{constructor(e){this.queryList=e,this.matches=null}clone(){return new Na(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ra{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ra(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Ha(e,t).matches&&this.queries[t].setDirty()}}class Oa{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Da{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Da(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Pa{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Pa(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,La(t,i)),this.matchTNodeWithReadOption(e,t,Ut(t,e,i,!1,!1))}else n===na?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ut(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===So||r===ua||r===na&&4&t.type)this.addMatch(t.index,-2);else{const n=Ut(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function La(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function $a(e,t,n,r){return-1===n?function(e,t){return 11&e.type?Eo(e,t):4&e.type?sa(e,t):null}(t,e):-2===n?function(e,t,n){return n===So?Eo(t,e):n===na?sa(t,e):n===ua?pa(t,e):void 0}(e,t,r):jt(e,e[1],n,t)}function Fa(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,s=n.matches,o=[];for(let e=0;e<s.length;e+=2){const i=s[e];o.push(i<0?null:$a(t,r[i],s[e+1],n.metadata.read))}i.matches=o}return i.matches}function Ma(e,t,n,r){const i=e.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Fa(e,t,i,n);for(let e=0;e<s.length;e+=2){const n=s[e];if(n>0)r.push(o[e/2]);else{const i=s[e+1],o=t[-n];for(let e=10;e<o.length;e++){const t=o[e];t[17]===t[3]&&Ma(t[1],t,i,r)}if(null!==o[9]){const e=o[9];for(let t=0;t<e.length;t++){const n=e[t];Ma(n[1],n,i,r)}}}}}return r}function Ua(e){const t=Ue(),n=je(),r=Xe();Je(r+1);const i=Ha(n,r);if(e.dirty&&Oe(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?Ma(n,t,r,[]):Fa(n,t,i,r);e.reset(s,ko),e.notifyOnChanges()}return!0}return!1}function ja(e,t,n){const r=je();r.firstCreatePass&&(za(r,new Oa(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Ba(r,Ue(),t)}function Va(e,t,n,r){const i=je();if(i.firstCreatePass){const s=Ve();za(i,new Oa(t,n,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Ba(i,Ue(),n)}function qa(){return e=Ue(),t=Xe(),e[19].queries[t].queryList;var e,t}function Ba(e,t,n){const r=new xa(4==(4&n));Ti(e,t,r,r.destroy),null===t[19]&&(t[19]=new Ra),t[19].queries.push(new Na(r))}function za(e,t,n){null===e.queries&&(e.queries=new Da),e.queries.track(new Pa(t,n))}function Ha(e,t){return e.queries.getByIndex(t)}const Ga=Yt("Output",e=>({bindingPropertyName:e})),Wa=Yt("HostListener",(e,t)=>({eventName:e,args:t})),Ka=new Xt("Application Initializer");let Ya=(()=>{class e{constructor(e){this.appInits=e,this.resolve=Io,this.reject=Io,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(Ls(t))e.push(t);else if(Fs(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(vn(Ka,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const Qa=new Xt("AppId"),Xa={provide:Qa,useFactory:function(){return`${Ja()}${Ja()}${Ja()}`},deps:[]};function Ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Za=new Xt("Platform Initializer"),ec=new Xt("Platform ID"),tc=new Xt("appBootstrapListener");let nc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const rc=new Xt("LocaleId"),ic=new Xt("DefaultCurrencyCode");class sc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const oc=function(e){return new Ea(e)},ac=oc,cc=function(e){return Promise.resolve(oc(e))},uc=function(e){const t=oc(e),n=yr(ue(e).declarations).reduce((e,t)=>{const n=ce(t);return n&&e.push(new wa(n)),e},[]);return new sc(t,n)},lc=uc,hc=function(e){return Promise.resolve(uc(e))};let dc=(()=>{class e{constructor(){this.compileModuleSync=ac,this.compileModuleAsync=cc,this.compileModuleAndAllComponentsSync=lc,this.compileModuleAndAllComponentsAsync=hc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();const fc=(()=>Promise.resolve(0))();function pc(e){"undefined"==typeof Zone?fc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ca(!1),this.onMicrotaskEmpty=new Ca(!1),this.onStable=new Ca(!1),this.onError=new Ca(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!n&&t,this.shouldCoalesceRunChangeDetection=n,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=q.requestAnimationFrame,t=q.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(q,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vc(e),e.isCheckStableRunning=!0,yc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return wc(e),n.invokeTask(i,s,o,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),bc(e)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return wc(e),n.invoke(i,s,o,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),bc(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,vc(e),yc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,gc,Io,Io);try{return i.runTask(s,t,n)}finally{i.cancelTask(s)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const gc={};function yc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function wc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function bc(e){e._nesting--,yc(e)}class _c{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ca,this.onMicrotaskEmpty=new Ca,this.onStable=new Ca,this.onError=new Ca}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let Ic=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mc.assertNotInAngularZone(),pc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(vn(mc))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})(),Ec=(()=>{class e{constructor(){this._applications=new Map,Cc.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Cc.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();class Tc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function Sc(e){Cc=e}let kc,Cc=new Tc,Ac=!0,xc=!1;function Nc(){return xc=!0,Ac}function Rc(){if(xc)throw new Error("Cannot enable prod mode after platform setup.");Ac=!1}const Oc=new Xt("AllowMultipleToken");class Dc{constructor(e,t){this.name=e,this.token=t}}function Pc(e,t,n=[]){const r=`Platform: ${t}`,i=new Xt(r);return(t=[])=>{let s=Lc();if(!s||s.injector.get(Oc,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:es,useValue:"platform"});!function(e){if(kc&&!kc.destroyed&&!kc.injector.get(Oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");kc=e.get($c);const t=e.get(Za,null);t&&t.forEach(e=>e())}(fs.create({providers:e,name:r}))}return function(e){const t=Lc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Lc(){return kc&&!kc.destroyed?kc:null}let $c=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new _c:("zone.js"===e?void 0:e)||new mc({enableLongStackTrace:Nc(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:mc,useValue:n}];return n.run(()=>{const t=fs.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),s=i.injector.get(mr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{s.handleError(e)}});i.onDestroy(()=>{Uc(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return Ls(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,n,()=>{const e=i.injector.get(Ya);return e.runInitializers(),e.donePromise.then(()=>(uo(i.injector.get(rc,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Fc({},t);return function(e,t,n){const r=new Ea(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Mc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${d(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(vn(fs))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function Fc(e,t){return Array.isArray(t)?t.reduce(Fc,e):Object.assign(Object.assign({},e),t)}let Mc=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),h=new s.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{mc.assertNotInAngularZone(),pc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{mc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(e=>{return(0,c.x)()((t=u,function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof wo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(oa),i=n.create(fs.NULL,[],t||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Ic,null),a=o&&i.injector.get(Ec);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Uc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Uc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(tc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(vn(mc),vn(fs),vn(mr),vn(_o),vn(Ya))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function Uc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class jc{}class Vc{}const qc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bc=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||qc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>zc(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>zc(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(vn(dc),vn(Vc,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac}),e})();function zc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Hc=function(e){return null},Gc=Pc(null,"core",[{provide:ec,useValue:"unknown"},{provide:$c,deps:[fs]},{provide:Ec,deps:[]},{provide:nc,deps:[]}]),Wc=[{provide:Mc,useClass:Mc,deps:[mc,fs,mr,_o,Ya]},{provide:va,deps:[mc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ya,useClass:Ya,deps:[[new In,Ka]]},{provide:dc,useClass:dc,deps:[]},Xa,{provide:zo,useFactory:function(){return Zo},deps:[]},{provide:Go,useFactory:function(){return ea},deps:[]},{provide:rc,useFactory:function(e){return uo(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new _n(rc),new In,new En]]},{provide:ic,useValue:"USD"}];let Kc=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(vn(Mc))},e.\u0275mod=re({type:e}),e.\u0275inj=E({providers:Wc}),e})()},9106:function(e,t,n){"use strict";n.d(t,{hO:function(){return m},xv:function(){return h},Dh:function(){return l},GT:function(){return c},on:function(){return d},pX:function(){return a}});var r=n(4271),i=n(2837),s=n(1106);e=n.hmd(e);const o=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(e[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,e[s]),e[s];if(o.indexOf(s)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[s];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(s,n,i),i})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class u{constructor(e){return e}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(e=>e&&e.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,s));try{JSON.stringify(t)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new u(o)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:u,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let m=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:l,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})()},1106:function(e,t,n){"use strict";n.d(t,{q4:function(){return u},iC:function(){return v},HU:function(){return g},cc:function(){return d}});var r=n(4271);(0,n(3477).registerVersion)("firebase","9.1.0","app");var i=n(6511),s=n(8846),o=n(6286),a=n(6515),c=n(7338);e=n.hmd(e);const u=new r.GfV("7.0.4"),l=!!e.hot,h=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};function d(e,t,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(s)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,o)||(h("error",`${t} was already initialized on the ${n} Firebase App with different settings.${l?" You may need to reload as Firebase is not HMR aware.":""}`),h("warn",{is:i,was:o})),s;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}function f(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class p{constructor(e,t=i.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class m{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",f,{},f,f)),t.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let g=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new p(Zone.current)),this.insideAngular=e.run(()=>new p(Zone.current,s.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("AngularFireModule has not been provided");return e}function v(e){return y(),(t=y(),function(e){return(e=e.lift(new m(t.ngZone))).pipe((0,a.R)(t.outsideAngular),(0,c.QV)(t.insideAngular))})(e);var t}},4988:function(e,t,n){"use strict";n.d(t,{u5:function(){return b},JU:function(){return l},a5:function(){return y}});var r=n(4271),i=(n(6274),n(3948)),s=n(9622),o=n(8561),a=n(153),c=n(2850);function u(e,t){return new i.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,c.D)(e[a]);let l=!1;n.add(u.subscribe({next:e=>{l||(l=!0,o++),i[a]=e},error:e=>n.error(e),complete:()=>{s++,s!==r&&l||(o===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}const l=new r.OlP("NgValueAccessor");function h(e){return null!=e}function d(e){const t=(0,r.QGY)(e)?(0,c.D)(e):e;return(0,r.CqO)(t),t}function f(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function p(e,t){return t.map(t=>t(e))}function m(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}let g=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=function(e){return null!=e?function(e){if(!e)return null;const t=e.filter(h);return 0==t.length?null:function(e){return f(p(e,t))}}(m(e)):null}(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=function(e){return null!=e?function(e){if(!e)return null;const t=e.filter(h);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if((0,s.k)(t))return u(t,null);if((0,a.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return u(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return u(e=1===e.length&&(0,s.k)(e[0])?e[0]:e,null).pipe((0,o.U)(e=>t(...e)))}return u(e,null)}(p(e,t).map(d)).pipe((0,o.U)(f))}}(m(e)):null}(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})();class y extends g{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let v=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[v]]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[w]}),e})()},893:function(e,t,n){"use strict";n.d(t,{gz:function(){return st},y6:function(){return In},OD:function(){return Z},eC:function(){return me},wm:function(){return Ln},wN:function(){return yn},F0:function(){return xn},rH:function(){return Nn},Bz:function(){return Bn},Hx:function(){return $e}});var r=n(6274),i=n(4271),s=n(7204),o=n(9622),a=n(8744);class c extends a.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class u extends a.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var l=n(7040),h=n(3948);function d(e,t,n,r,i=new u(e,n,r)){if(!i.closed)return t instanceof h.y?t.subscribe(i):(0,l.s)(t)(i)}var f=n(6431);const p={};class m{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new g(e,this.resultSelector))}}class g extends c{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(p),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(d(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===p?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var y=n(2850),v=n(3974);function w(e){return new h.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,y.D)(n):(0,v.c)()).subscribe(t)})}var b=n(267),_=n(9923),I=n(6507),E=n(8895),T=n(955),S=n(6006),k=n(6790);function C(e){return function(t){const n=new A(e),r=t.lift(n);return n.caught=r}}class A{constructor(e){this.selector=e}call(e,t){return t.subscribe(new x(e,this.selector,this.caught))}}class x extends k.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new k.IY(this);this.add(r);const i=(0,k.ft)(n,r);i!==r&&this.add(i)}}}var N=n(6513);function R(e,t){return(0,N.zg)(e,t,1)}var O=n(3305),D=n(9862);function P(e){return function(t){return 0===e?(0,v.c)():t.lift(new L(e))}}class L{constructor(e){if(this.total=e,this.total<0)throw new D.W}call(e,t){return t.subscribe(new $(e,this.total))}}class $ extends a.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var F=n(3369),M=n(395),U=n(7846),j=n(9734);class V{constructor(e){this.callback=e}call(e,t){return t.subscribe(new q(e,this.callback))}}class q extends a.L{constructor(e,t){super(e),this.add(new j.w(t))}}var B=n(8561),z=n(2812),H=n(9917),G=n(3543),W=n(1310),K=n(3987),Y=n(6286),Q=n(5290),X=n(4540);class J{constructor(e,t){this.id=e,this.url=t}}class Z extends J{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ee extends J{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class te extends J{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ne extends J{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class re extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ie extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class se extends J{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oe extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ae extends J{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ce{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ue{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class le{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class he{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class de{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fe{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pe{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const me="primary";class ge{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ye(e){return new ge(e)}function ve(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function we(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const t=r[s],n=e[s];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function be(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!_e(e[i],t[i]))return!1;return!0}function _e(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Ie(e){return Array.prototype.concat.apply([],e)}function Ee(e){return e.length>0?e[e.length-1]:null}function Te(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Se(e){return(0,i.CqO)(e)?e:(0,i.QGY)(e)?(0,y.D)(Promise.resolve(e)):(0,b.of)(e)}const ke={exact:function e(t,n,r){if(!Le(t.segments,n.segments))return!1;if(!Re(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:xe},Ce={exact:function(e,t){return be(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>_e(e[n],t[n]))},ignored:()=>!0};function Ae(e,t,n){return ke[n.paths](e.root,t.root,n.matrixParams)&&Ce[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function xe(e,t,n){return Ne(e,t,t.segments,n)}function Ne(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Le(i,n)&&!t.hasChildren()&&!!Re(i,n,r)}if(e.segments.length===n.length){if(!Le(e.segments,n))return!1;if(!Re(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!xe(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!!Le(e.segments,i)&&!!Re(e.segments,i,r)&&!!e.children[me]&&Ne(e.children[me],t,s,r)}}function Re(e,t,n){return t.every((t,r)=>Ce[n](e[r].parameters,t.parameters))}class Oe{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return Me.serialize(this)}}class De{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Te(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ue(this)}}class Pe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ye(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function Le(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class $e{}class Fe{parse(e){const t=new Xe(e);return new Oe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${je(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${qe(t)}=${qe(e)}`).join("&"):`${qe(t)}=${qe(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const Me=new Fe;function Ue(e){return e.segments.map(e=>Ge(e)).join("/")}function je(e,t){if(!e.hasChildren())return Ue(e);if(t){const t=e.children[me]?je(e.children[me],!1):"",n=[];return Te(e.children,(e,t)=>{t!==me&&n.push(`${t}:${je(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Te(e.children,(e,r)=>{r===me&&(n=n.concat(t(e,r)))}),Te(e.children,(e,r)=>{r!==me&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===me?[je(e.children[me],!1)]:[`${n}:${je(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[me]?`${Ue(e)}/${t[0]}`:`${Ue(e)}/(${t.join("//")})`}}function Ve(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qe(e){return Ve(e).replace(/%3B/gi,";")}function Be(e){return Ve(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(e){return decodeURIComponent(e)}function He(e){return ze(e.replace(/\+/g,"%20"))}function Ge(e){return`${Be(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Be(e)}=${Be(t[e])}`).join("")}`;var t}const We=/^[^\/()?;=#]+/;function Ke(e){const t=e.match(We);return t?t[0]:""}const Ye=/^[^=?&#]+/,Qe=/^[^?&#]+/;class Xe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[me]=new De(e,t)),n}parseSegment(){const e=Ke(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Pe(ze(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ke(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Ke(this.remaining);e&&(n=e,this.capture(n))}e[ze(t)]=ze(n)}parseQueryParam(e){const t=function(e){const t=e.match(Ye);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Qe);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=He(t),i=He(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Ke(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=me);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[me]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Je{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ze(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ze(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=et(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return et(e,this._root).map(e=>e.value)}}function Ze(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ze(e,n);if(t)return t}return null}function et(e,t){if(e===t.value)return[t];for(const n of t.children){const r=et(e,n);if(r.length)return r.unshift(t),r}return[]}class tt{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nt(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class rt extends Je{constructor(e,t){super(e),this.snapshot=t,ut(this,e)}toString(){return this.snapshot.toString()}}function it(e,t){const n=function(e,t){const n=new at([],{},{},"",{},me,t,null,e.root,-1,{});return new ct("",new tt(n,[]))}(e,t),r=new _.X([new Pe("",{})]),i=new _.X({}),s=new _.X({}),o=new _.X({}),a=new _.X(""),c=new st(r,i,o,a,s,me,t,n.root);return c.snapshot=n.root,new rt(new tt(c,[]),n)}class st{constructor(e,t,n,r,i,s,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,B.U)(e=>ye(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,B.U)(e=>ye(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ot(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class at{constructor(e,t,n,r,i,s,o,a,c,u,l){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ye(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ye(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ct extends Je{constructor(e,t){super(t),this.url=e,ut(this,t)}toString(){return lt(this._root)}}function ut(e,t){t.value._routerState=e,t.children.forEach(t=>ut(e,t))}function lt(e){const t=e.children.length>0?` { ${e.children.map(lt).join(", ")} } `:"";return`${e.value}${t}`}function ht(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,be(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),be(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!be(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),be(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function dt(e,t){var n,r;return be(e.params,t.params)&&Le(n=e.url,r=t.url)&&n.every((e,t)=>be(e.parameters,r[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||dt(e.parent,t.parent))}function ft(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return ft(e,t,r);return ft(e,t)})}(e,t,n);return new tt(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return pt(t,e),e}}const n=new st(new _.X((r=t.value).url),new _.X(r.params),new _.X(r.queryParams),new _.X(r.fragment),new _.X(r.data),r.outlet,r.component,r),i=t.children.map(t=>ft(e,t));return new tt(n,i)}var r}function pt(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)pt(e.children[n],t.children[n])}function mt(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function gt(e){return"object"==typeof e&&null!=e&&e.outlets}function yt(e,t,n,r,i){let s={};return r&&Te(r,(e,t)=>{s[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Oe(n.root===e?t:vt(n.root,e,t),s,i)}function vt(e,t,n){const r={};return Te(e.children,(e,i)=>{r[i]=e===t?n:vt(e,t,n)}),new De(e.segments,r)}class wt{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&mt(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(gt);if(r&&r!==Ee(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bt{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function _t(e,t,n){if(e||(e=new De([],{})),0===e.segments.length&&e.hasChildren())return It(e,t,n);const r=function(e,t,n){let r=0,i=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return s;const t=e.segments[i],o=n[r];if(gt(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!kt(a,c,t))return s;r+=2}else{if(!kt(a,{},t))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new De(e.segments.slice(0,r.pathIndex),{});return t.children[me]=new De(e.segments.slice(r.pathIndex),e.children),It(t,0,i)}return r.match&&0===i.length?new De(e.segments,{}):r.match&&!e.hasChildren()?Et(e,t,n):r.match?It(e,0,i):Et(e,t,n)}function It(e,t,n){if(0===n.length)return new De(e.segments,{});{const r=function(e){return gt(e[0])?e[0].outlets:{[me]:e}}(n),i={};return Te(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=_t(e.children[r],t,n))}),Te(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new De(e.segments,i)}}function Et(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const s=n[i];if(gt(s)){const e=Tt(s.outlets);return new De(r,e)}if(0===i&&mt(n[0])){r.push(new Pe(e.segments[t].path,St(n[0]))),i++;continue}const o=gt(s)?s.outlets[me]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mt(a)?(r.push(new Pe(o,St(a))),i+=2):(r.push(new Pe(o,{})),i++)}return new De(r,{})}function Tt(e){const t={};return Te(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Et(new De([],{}),0,e))}),t}function St(e){const t={};return Te(e,(e,n)=>t[n]=`${e}`),t}function kt(e,t,n){return e==n.path&&be(t,n.parameters)}class Ct{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),ht(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Te(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=nt(e);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=nt(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new fe(e.value.snapshot))}),e.children.length&&this.forwardEvent(new he(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(ht(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),At(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function At(e){ht(e.value),e.children.forEach(At)}class xt{constructor(e,t){this.routes=e,this.module=t}}function Nt(e){return"function"==typeof e}function Rt(e){return e instanceof Oe}const Ot=Symbol("INITIAL_VALUE");function Dt(){return(0,z.w)(e=>function(...e){let t,n;return(0,s.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,o.k)(e[0])&&(e=e[0]),(0,f.n)(e,n).lift(new m(t))}(e.map(e=>e.pipe((0,H.q)(1),(0,G.O)(Ot)))).pipe((0,W.R)((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Ot)return e;if(r===Ot&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Rt(r))return r}return e},e)},Ot),(0,O.h)(e=>e!==Ot),(0,B.U)(e=>Rt(e)?e:!0===e),(0,H.q)(1)))}let Pt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&i._UZ(0,"router-outlet")},directives:function(){return[On]},encapsulation:2}),e})();function Lt(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];$t(r,Ft(t,r))}}function $t(e,t){e.children&&Lt(e.children,t)}function Ft(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Mt(e){const t=e.children&&e.children.map(Mt),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=Pt),n}function Ut(e){return e.outlet||me}function jt(e,t){const n=e.filter(e=>Ut(e)===t);return n.push(...e.filter(e=>Ut(e)!==t)),n}const Vt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qt(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Vt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||we)(n,e,t);if(!i)return Object.assign({},Vt);const s={};Te(i.posParams,(e,t)=>{s[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Bt(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>zt(e,t,n)&&Ut(n)!==me)}(e,n,r)){const i=new De(t,function(e,t,n,r){const i={};i[me]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const s of n)if(""===s.path&&Ut(s)!==me){const n=new De([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Ut(s)]=n}return i}(e,t,r,new De(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>zt(e,t,n))}(e,n,r)){const s=new De(e.segments,function(e,t,n,r,i,s){const o={};for(const a of r)if(zt(e,n,a)&&!i[Ut(a)]){const n=new De([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[Ut(a)]=n}return Object.assign(Object.assign({},i),o)}(e,t,n,r,e.children,i));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}const s=new De(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function zt(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Ht(e,t,n,r){return!!(Ut(e)===r||r!==me&&zt(t,n,e))&&("**"===e.path||qt(t,e,n).matched)}function Gt(e,t,n){return 0===t.length&&!e.children[n]}class Wt{constructor(e){this.segmentGroup=e||null}}class Kt{constructor(e){this.urlTree=e}}function Yt(e){return new h.y(t=>t.error(new Wt(e)))}function Qt(e){return new h.y(t=>t.error(new Kt(e)))}function Xt(e){return new h.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Jt{constructor(e,t,n,r,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Bt(this.urlTree.root,[],[],this.config).segmentGroup,t=new De(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,me).pipe((0,B.U)(e=>this.createUrlTree(Zt(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(C(e=>{if(e instanceof Kt)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Wt)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,me).pipe((0,B.U)(t=>this.createUrlTree(Zt(t),e.queryParams,e.fragment))).pipe(C(e=>{if(e instanceof Wt)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new De([],{[me]:e}):e;return new Oe(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,B.U)(e=>new De([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,y.D)(r).pipe(R(r=>{const i=n.children[r],s=jt(t,r);return this.expandSegmentGroup(e,s,i,r).pipe((0,B.U)(e=>({segment:e,outlet:r})))}),(0,W.R)((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?(0,O.h)((t,n)=>e(t,n,r)):U.y,P(1),n?(0,M.d)(t):(0,F.T)(()=>new I.K))}())}expandSegment(e,t,n,r,i,s){return(0,y.D)(n).pipe(R(o=>this.expandSegmentAgainstRoute(e,t,n,o,r,i,s).pipe(C(e=>{if(e instanceof Wt)return(0,b.of)(null);throw e}))),(0,K.P)(e=>!!e),C((e,n)=>{if(e instanceof I.K||"EmptyError"===e.name){if(Gt(t,r,i))return(0,b.of)(new De([],{}));throw new Wt(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,s,o){return Ht(r,t,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s):Yt(t):Yt(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Qt(i):this.lineralizeSegments(n,i).pipe((0,N.zg)(n=>{const i=new De(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=qt(t,r,i);if(!o)return Yt(t);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Qt(l):this.lineralizeSegments(r,l).pipe((0,N.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,b.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,B.U)(e=>(n._loadedConfig=e,new De(r,{})))):(0,b.of)(new De(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=qt(t,n,r);if(!s)return Yt(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,N.zg)(e=>{const r=e.module,s=e.routes,{segmentGroup:a,slicedSegments:u}=Bt(t,o,c,s),l=new De(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,B.U)(e=>new De(o,e)));if(0===s.length&&0===u.length)return(0,b.of)(new De(o,{}));const h=Ut(n)===i;return this.expandSegment(r,l,s,u,h?me:i,!0).pipe((0,B.U)(e=>new De(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,b.of)(new xt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,b.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,N.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,B.U)(e=>(t._loadedConfig=e,e))):function(e){return new h.y(t=>t.error(ve(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,b.of)(new xt([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,b.of)(!0);const i=r.map(r=>{const i=e.get(r);let s;if(function(e){return e&&Nt(e.canLoad)}(i))s=i.canLoad(t,n);else{if(!Nt(i))throw new Error("Invalid CanLoad guard");s=i(t,n)}return Se(s)});return(0,b.of)(i).pipe(Dt(),(0,Y.b)(e=>{if(!Rt(e))return;const t=ve(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,B.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,b.of)(n);if(r.numberOfChildren>1||!r.children[me])return Xt(e.redirectTo);r=r.children[me]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Oe(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Te(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let s={};return Te(t.children,(t,i)=>{s[i]=this.createSegmentGroup(e,t,n,r)}),new De(i,s)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function Zt(e){const t={};for(const n of Object.keys(e.children)){const r=Zt(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children[me]){const t=e.children[me];return new De(e.segments.concat(t.segments),t.children)}return e}(new De(e.segments,t))}class en{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class tn{constructor(e,t){this.component=e,this.route=t}}function nn(e,t,n){const r=e._root;return sn(r,t?t._root:null,n,[r.value])}function rn(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function sn(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=nt(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Le(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Le(e.url,t.url)||!be(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dt(e,t)||!be(e.queryParams,t.queryParams);case"paramsChange":default:return!dt(e,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new en(r)):(s.data=o.data,s._resolvedData=o._resolvedData),sn(e,t,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new tn(a.outlet.component,o))}else o&&on(t,a,i),i.canActivateChecks.push(new en(r)),sn(e,null,s.component?a?a.children:null:n,r,i)}(e,s[e.value.outlet],n,r.concat([e.value]),i),delete s[e.value.outlet]}),Te(s,(e,t)=>on(e,n.getContext(t),i)),i}function on(e,t,n){const r=nt(e),i=e.value;Te(r,(e,r)=>{on(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new tn(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class an{}function cn(e){return new h.y(t=>t.error(e))}class un{constructor(e,t,n,r,i,s){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const e=Bt(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,me);if(null===t)return null;const n=new at([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tt(n,t),i=new ct(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=ot(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],s=jt(e,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=hn(n);return r.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Gt(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Ht(e,t,n,r))return null;let i,s=[],o=[];if("**"===e.path){const r=n.length>0?Ee(n).parameters:{};i=new at(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Ut(e),e.component,e,dn(t),fn(t)+n.length,mn(e))}else{const r=qt(t,e,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new at(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,pn(e),Ut(e),e.component,e,dn(t),fn(t)+s.length,mn(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Bt(t,s,o,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new tt(i,e)]}if(0===a.length&&0===u.length)return[new tt(i,[])];const l=Ut(e)===r,h=this.processSegment(a,c,u,l?me:r);return null===h?null:[new tt(i,h)]}}function ln(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function hn(e){const t=[],n=new Set;for(const r of e){if(!ln(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=hn(r.children);t.push(new tt(r.value,e))}return t.filter(e=>!n.has(e))}function dn(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function fn(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function pn(e){return e.data||{}}function mn(e){return e.resolve||{}}function gn(e){return(0,z.w)(t=>{const n=e(t);return n?(0,y.D)(n).pipe((0,B.U)(()=>t)):(0,b.of)(t)})}class yn{}class vn extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wn=new i.OlP("ROUTES");class bn{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,B.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const r=n.create(e);return new xt(Ie(r.injector.get(wn,void 0,i.XFs.Self|i.XFs.Optional)).map(Mt),r)}),C(e=>{throw t._loader$=void 0,e}));return t._loader$=new T.c(n,()=>new S.xQ).pipe((0,Q.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,y.D)(this.loader.load(e)):Se(e()).pipe((0,N.zg)(e=>e instanceof i.YKP?(0,b.of)(e):(0,y.D)(this.compiler.compileModuleAsync(e))))}}class _n{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new In,this.attachRef=null}}class In{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _n,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class En{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Tn(e){throw e}function Sn(e,t,n){return t.parse("/")}function kn(e,t){return(0,b.of)(null)}const Cn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},An={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xn=(()=>{class e{constructor(e,t,n,r,s,o,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new S.xQ,this.errorHandler=Tn,this.malformedUriErrorHandler=Sn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kn,afterPreactivation:kn},this.urlHandlingStrategy=new En,this.routeReuseStrategy=new vn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(i.h0i),this.console=s.get(i.c2e);const u=s.get(i.R0b);this.isNgZoneEnabled=u instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Oe(new De([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bn(o,a,e=>this.triggerEvent(new ce(e)),e=>this.triggerEvent(new ue(e))),this.routerState=it(this.currentUrlTree,this.rootComponentType),this.transitions=new _.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe((0,O.h)(e=>0!==e.id),(0,B.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),(0,z.w)(e=>{let n=!1,r=!1;return(0,b.of)(e).pipe((0,Y.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,z.w)(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,b.of)(e).pipe((0,z.w)(e=>{const n=this.transitions.getValue();return t.next(new Z(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?v.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,(0,z.w)(e=>function(e,t,n,r,i){return new Jt(e,t,n,r,i).apply()}(r,i,s,e.extractedUrl,o).pipe((0,B.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,Y.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,N.zg)(s=>function(e,t,n,r,i="emptyOnly",s="legacy"){try{const o=new un(e,t,n,r,i,s).recognize();return null===o?cn(new an):(0,b.of)(o)}catch(o){return cn(o)}}(e,t,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe((0,B.U)(e=>Object.assign(Object.assign({},s),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Y.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new re(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=e,a=new Z(n,this.serializeUrl(r),i,s);t.next(a);const c=it(r,this.rootComponentType).snapshot;return(0,b.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),v.E}),gn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Y.b)(e=>{const t=new ie(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,B.U)(e=>Object.assign(Object.assign({},e),{guards:nn(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,N.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,b.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,y.D)(e).pipe((0,N.zg)(e=>function(e,t,n,r,i){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,b.of)(!0);const o=s.map(s=>{const o=rn(s,t,i);let a;if(function(e){return e&&Nt(e.canDeactivate)}(o))a=Se(o.canDeactivate(e,t,n,r));else{if(!Nt(o))throw new Error("Invalid CanDeactivate guard");a=Se(o(e,t,n,r))}return a.pipe((0,K.P)())});return(0,b.of)(o).pipe(Dt())}(e.component,e.route,n,t,r)),(0,K.P)(e=>!0!==e,!0))}(o,r,i,e).pipe((0,N.zg)(n=>n&&"boolean"==typeof n?function(e,t,n,r){return(0,y.D)(t).pipe(R(t=>(0,E.z)(function(e,t){return null!==e&&t&&t(new le(e)),(0,b.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new de(e)),(0,b.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>w(()=>{const i=t.guards.map(i=>{const s=rn(i,t.node,n);let o;if(function(e){return e&&Nt(e.canActivateChild)}(s))o=Se(s.canActivateChild(r,e));else{if(!Nt(s))throw new Error("Invalid CanActivateChild guard");o=Se(s(r,e))}return o.pipe((0,K.P)())});return(0,b.of)(i).pipe(Dt())}));return(0,b.of)(i).pipe(Dt())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,b.of)(!0);const i=r.map(r=>w(()=>{const i=rn(r,t,n);let s;if(function(e){return e&&Nt(e.canActivate)}(i))s=Se(i.canActivate(t,e));else{if(!Nt(i))throw new Error("Invalid CanActivate guard");s=Se(i(t,e))}return s.pipe((0,K.P)())}));return(0,b.of)(i).pipe(Dt())}(e,t.route,n))),(0,K.P)(e=>!0!==e,!0))}(r,s,e,t):(0,b.of)(n)),(0,B.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,Y.b)(e=>{if(Rt(e.guardsResult)){const t=ve(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new se(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),(0,O.h)(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),gn(e=>{if(e.guards.canActivateChecks.length)return(0,b.of)(e).pipe((0,Y.b)(e=>{const t=new oe(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,z.w)(e=>{let t=!1;return(0,b.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,N.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,b.of)(e);let s=0;return(0,y.D)(i).pipe(R(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,b.of)({});const s={};return(0,y.D)(i).pipe((0,N.zg)(i=>function(e,t,n,r){const i=rn(e,t,r);return Se(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,Y.b)(e=>{s[i]=e}))),P(1),(0,N.zg)(()=>Object.keys(s).length===i.length?(0,b.of)(s):v.E))}(e._resolve,e,t,r).pipe((0,B.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ot(e,n).resolve),null)))}(e.route,t,n,r)),(0,Y.b)(()=>s++),P(1),(0,N.zg)(t=>s===i.length?(0,b.of)(e):v.E))})),(0,Y.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,Y.b)(e=>{const t=new ae(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),gn(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,B.U)(e=>{const t=function(e,t,n){const r=ft(e,t._root,n?n._root:void 0);return new rt(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,Y.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),(0,B.U)(e=>(new Ct(o,e.targetRouterState,e.currentRouterState,a).activate(s),e))),(0,Y.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null},e=>e.lift(new V(i))),C(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Rt(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new te(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new ne(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(s){e.reject(s)}}var i;return v.E}));var i,s,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Lt(e),this.config=e.map(Mt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=t,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,r,i){if(0===n.length)return yt(t.root,t.root,t,r,i);const s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wt(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Te(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new wt(n,t,r)}(n);if(s.toRoot())return yt(t.root,new De([],{}),t,r,i);const o=function(e,t,n){if(e.isAbsolute)return new bt(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new bt(e,e===t.root,0)}const r=mt(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new bt(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(s,t,e),a=o.processChildren?It(o.segmentGroup,o.index,s.commands):_t(o.segmentGroup,o.index,s.commands);return yt(o.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,u,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Rt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},Cn):!1===t?Object.assign({},An):t,Rt(e))return Ae(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Ae(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ee(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==t&&"imperative"===(null==a?void 0:a.source),u=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&u)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{l=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new te(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.DyG),i.LFG($e),i.LFG(In),i.LFG(r.Ye),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Nn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new S.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Rn(this.skipLocationChange),replaceUrl:Rn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rn(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(xn),i.Y36(st),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},e.\u0275dir=i.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),e})();function Rn(e){return""===e||!!e}let On=(()=>{class e{constructor(e,t,n,r,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=r||me,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Dn(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(In),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},e.\u0275dir=i.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Dn{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===st?this.route:e===In?this.childContexts:this.parent.get(e,t)}}class Pn{}class Ln{preload(e,t){return t().pipe(C(()=>(0,b.of)(null)))}}class $n{preload(e,t){return(0,b.of)(null)}}let Fn=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new bn(t,n,t=>e.triggerEvent(new ce(t)),t=>e.triggerEvent(new ue(t)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,O.h)(e=>e instanceof ee),R(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(i.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,y.D)(n).pipe((0,X.J)(),(0,B.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,b.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,N.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(xn),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Pn))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),Mn=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ee&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pe&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new pe(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(xn),i.LFG(r.EM),i.LFG(void 0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const Un=new i.OlP("ROUTER_CONFIGURATION"),jn=new i.OlP("ROUTER_FORROOT_GUARD"),Vn=[r.Ye,{provide:$e,useClass:Fe},{provide:xn,useFactory:function(e,t,n,r,i,s,o,a={},c,u){const l=new xn(null,e,t,n,r,i,s,Ie(o));return c&&(l.urlHandlingStrategy=c),u&&(l.routeReuseStrategy=u),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[$e,In,r.Ye,i.zs3,i.v3s,i.Sil,wn,Un,[class{},new i.FiY],[yn,new i.FiY]]},In,{provide:st,useFactory:function(e){return e.routerState.root},deps:[xn]},{provide:i.v3s,useClass:i.EAV},Fn,$n,Ln,{provide:Un,useValue:{enableTracing:!1}}];function qn(){return new i.PXZ("Router",xn)}let Bn=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Vn,Wn(t),{provide:jn,useFactory:Gn,deps:[[xn,new i.FiY,new i.tp0]]},{provide:Un,useValue:n||{}},{provide:r.S$,useFactory:Hn,deps:[r.lw,[new i.tBr(r.mr),new i.FiY],Un]},{provide:Mn,useFactory:zn,deps:[xn,r.EM,Un]},{provide:Pn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:$n},{provide:i.PXZ,multi:!0,useFactory:qn},[Kn,{provide:i.ip1,multi:!0,useFactory:Yn,deps:[Kn]},{provide:Xn,useFactory:Qn,deps:[Kn]},{provide:i.tb,multi:!0,useExisting:Xn}]]}}static forChild(t){return{ngModule:e,providers:[Wn(t)]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(jn,8),i.LFG(xn,8))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e})();function zn(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Mn(e,t,n)}function Hn(e,t,n={}){return n.useHash?new r.Do(e,t):new r.b0(e,t)}function Gn(e){return"guarded"}function Wn(e){return[{provide:i.deG,multi:!0,useValue:e},{provide:wn,multi:!0,useValue:e}]}let Kn=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new S.xQ}appInitializer(){return this.injector.get(r.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(xn),r=this.injector.get(Un);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,b.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Un),n=this.injector.get(Fn),r=this.injector.get(Mn),s=this.injector.get(xn),o=this.injector.get(i.z2F);e===o.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||s.initialNavigation(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.zs3))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function Yn(e){return e.appInitializer.bind(e)}function Qn(e){return e.bootstrapListener.bind(e)}const Xn=new i.OlP("Router Initializer")},3106:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(9870),i=n(1605),s=n(3477),o=n(2965);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,s._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(e,t=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,s._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,s._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),u=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,a=o.replace("-compat","");if(s._registerComponent(t)&&"PUBLIC"===t.type){const s=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:o});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(s,t.serviceProps),n[a]=s,e.prototype[a]=function(...e){return this._getService.bind(this,o).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:s}};function i(e){if(!(0,r.r3)(t,e=e||s._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=u;(0,s.registerVersion)("@firebase/app-compat","0.1.2",void 0)},3477:function(e,t,n){"use strict";n.r(t),n.d(t,{FirebaseError:function(){return s.ZR},SDK_VERSION:function(){return b},_DEFAULT_ENTRY_NAME:function(){return c},_addComponent:function(){return d},_addOrOverwriteComponent:function(){return f},_apps:function(){return l},_clearComponents:function(){return y},_components:function(){return h},_getProvider:function(){return m},_registerComponent:function(){return p},_removeServiceInstance:function(){return g},deleteApp:function(){return T},getApp:function(){return I},getApps:function(){return E},initializeApp:function(){return _},onLog:function(){return k},registerVersion:function(){return S},setLogLevel:function(){return C}});var r=n(1605),i=n(2965),s=n(9870);class o{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const a=new i.Yd("@firebase/app"),c="[DEFAULT]",u={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},l=new Map,h=new Map;function d(e,t){try{e.container.addComponent(t)}catch(n){a.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function f(e,t){e.container.addOrOverwriteComponent(t)}function p(e){const t=e.name;if(h.has(t))return a.debug(`There were multiple attempts to register component ${t}.`),!1;h.set(t,e);for(const n of l.values())d(n,e);return!0}function m(e,t){return e.container.getProvider(t)}function g(e,t,n=c){m(e,t).clearInstance(n)}function y(){h.clear()}const v=new s.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class w{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw v.create("app-deleted",{appName:this._name})}}const b="9.1.0";function _(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:c,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!=typeof i||!i)throw v.create("bad-app-name",{appName:String(i)});const o=l.get(i);if(o){if((0,s.vZ)(e,o.options)&&(0,s.vZ)(n,o.config))return o;throw v.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of h.values())a.addComponent(r);const u=new w(e,n,a);return l.set(i,u),u}function I(e=c){const t=l.get(e);if(!t)throw v.create("no-app",{appName:e});return t}function E(){return Array.from(l.values())}async function T(e){const t=e.name;l.has(t)&&(l.delete(t),await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function S(e,t,n){var i;let s=null!==(i=u[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const e=[`Unable to register library "${s}" with version "${t}":`];return o&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&e.push("and"),c&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void a.warn(e.join(" "))}p(new r.wA(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}function k(e,t){if(null!==e&&"function"!=typeof e)throw v.create("invalid-log-argument");(0,i.Am)(e,t)}function C(e){(0,i.Ub)(e)}p(new r.wA("platform-logger",e=>new o(e),"PRIVATE")),S("@firebase/app","0.7.1",void 0),S("fire-js","")},1605:function(e,t,n){"use strict";n.d(t,{wA:function(){return s},H0:function(){return a}});var r=n(1855),i=n(9870),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=(0,r.CR)(s.value,2),a=o[1],c=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:c});a.resolve(u)}catch(l){}}}catch(h){t={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var e;return(0,r.Jh)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.CR)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e="[DEFAULT]"),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e="[DEFAULT]"),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=(0,r.XA)(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=(0,r.CR)(u.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(u){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(o){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e="[DEFAULT]"),this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),a=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new o(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},2965:function(e,t,n){"use strict";n.d(t,{in:function(){return i},Yd:function(){return u},Ub:function(){return l},Am:function(){return h}});const r=[];var i=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={})),i))();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=o,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function l(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:(t,n,...s)=>{const o=s.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:o,args:s,type:t.name})}}}},9870:function(e,t,n){"use strict";n.d(t,{BH:function(){return c},LL:function(){return I},ZR:function(){return _},tV:function(){return o},r3:function(){return T},Sg:function(){return u},ne:function(){return R},vZ:function(){return k},ZB:function(){return a},pd:function(){return N},m9:function(){return P},z$:function(){return l},jU:function(){return f},ru:function(){return p},d:function(){return g},xb:function(){return S},w1:function(){return y},hl:function(){return b},uI:function(){return h},UG:function(){return d},b$:function(){return m},G6:function(){return w},Mn:function(){return v},xO:function(){return A},zd:function(){return x}});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let u=(15&o)<<2|c>>6,l=63&c;a||(l=64,s||(u=64)),r.push(n[t>>2],n[(3&t)<<4|o>>4],n[u],n[l])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw Error();r.push(t<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function a(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=a(e[n],t[n]));return e}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function f(){return"object"==typeof self&&self.self===self}function p(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function g(){return l().indexOf("Electron/")>=0}function y(){const e=l();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function v(){return l().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b(){return"object"==typeof indexedDB}class _ extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,_.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(E,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new _(r,`${this.serviceName}: ${s} (${r}).`,n)}}const E=/\{\$([^}]+)}/g;function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function k(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(C(n)&&C(s)){if(!k(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C(e){return null!==e&&"object"==typeof e}function A(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function x(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function N(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function R(e,t){const n=new O(e,t);return n.subscribe.bind(n)}class O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D(){}function P(e){return e&&e._delegate?e._delegate:e}},4717:function(e,t,n){"use strict";function r(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function i(e,t){return function(n,r){t(n,r,e)}}function s(e,t,n,r){return new(n||(n=Promise))(function(i,s){function o(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((r=r.apply(e,t||[])).next())})}n.d(t,{dr:function(){return ce},PM:function(){return ue},Zi:function(){return le},tO:function(){return he},gZ:function(){return de},W2:function(){return fe},Gu:function(){return pe},gu:function(){return me},ju:function(){return ge},Q$:function(){return ye},q_:function(){return ve},jP:function(){return Be},yq:function(){return we},ZU:function(){return be},UN:function(){return He},wd:function(){return _e},sr:function(){return Ie},Pc:function(){return ct},r4:function(){return st},IN:function(){return Je}});var o=n(4271),a=n(4988),c=n(6274),u=n(893),l=n(6760),h=(n(7438),n(765),n(6943)),d=n(4366),f=n(4973),p=n(5392),m=n(5614),g=n(7501),y=n(1092),v=(n(5901),n(5133)),w=n(3948),b=n(9622),_=n(3673),I=n(8561);function E(e,t,n,r){return(0,_.m)(n)&&(r=n,n=void 0),r?E(e,t,n).pipe((0,I.U)(e=>(0,b.k)(e)?r(...e):r(e))):new w.y(r=>{T(e,t,function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)},r,n)})}function T(e,t,n,r,i){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){const r=e;e.addEventListener(t,n,i),s=()=>r.removeEventListener(t,n,i)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){const r=e;e.on(t,n),s=()=>r.off(t,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){const r=e;e.addListener(t,n),s=()=>r.removeListener(t,n)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,o=e.length;s<o;s++)T(e[s],t,n,r,i)}r.add(s)}var S=n(6006),k=n(9923),C=n(3305),A=n(2812),x=n(7689);const N=f.i,R=["*"],O=["outlet"],D=[[["","slot","top"]],"*"],P=["[slot=top]","*"],L=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e);let $=(()=>{class e{constructor(e,t){this.injector=e,this.el=t,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(e){this.el.nativeElement.value=this.lastValue=null==e?"":e,F(this.el)}handleChangeEvent(e,t){e===this.el.nativeElement&&(t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),F(this.el))}_handleBlurEvent(e){e===this.el.nativeElement&&(this.onTouched(),F(this.el))}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.el.nativeElement.disabled=e}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let e;try{e=this.injector.get(a.a5)}catch(n){}if(!e)return;e.statusChanges&&(this.statusChanges=e.statusChanges.subscribe(()=>F(this.el)));const t=e.control;t&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(e=>{if(t[e]){const n=t[e].bind(t);t[e]=(...e)=>{n(...e),F(this.el)}}})}}return e.\u0275fac=function(e){o.$Z()},e.\u0275dir=o.lG2({type:e,hostBindings:function(e,t){1&e&&o.NdJ("ionBlur",function(e){return t._handleBlurEvent(e.target)})}}),r([(0,o.L6J)("ionBlur",["$event.target"])],e.prototype,"_handleBlurEvent",null),e})();const F=e=>{L(()=>{const t=e.nativeElement,n=M(t);U(t,n);const r=t.closest("ion-item");r&&U(r,n)})},M=e=>{const t=e.classList,n=[];for(let r=0;r<t.length;r++){const e=t.item(r);null!==e&&j(e,"ng-")&&n.push(`ion-${e.substr(3)}`)}return n},U=(e,t)=>{const n=e.classList;["ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"].forEach(e=>n.remove(e)),t.forEach(e=>n.add(e))},j=(e,t)=>e.substr(0,t.length)===t;var V;let q=V=class extends ${constructor(e,t){super(e,t)}writeValue(e){this.el.nativeElement.checked=this.lastValue=null!=e&&e,F(this.el)}_handleIonChange(e){this.handleChangeEvent(e,e.checked)}};var B;q.\u0275fac=function(e){return new(e||q)(o.Y36(o.zs3),o.Y36(o.SBq))},q.\u0275dir=o.lG2({type:q,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:V,multi:!0}]),o.qOj]}),q.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],q.prototype,"_handleIonChange",null);let z=B=class extends ${constructor(e,t){super(e,t)}_handleIonChange(e){this.handleChangeEvent(e,e.value)}registerOnChange(e){super.registerOnChange(t=>{e(""===t?null:parseFloat(t))})}};var H;z.\u0275fac=function(e){return new(e||z)(o.Y36(o.zs3),o.Y36(o.SBq))},z.\u0275dir=o.lG2({type:z,selectors:[["ion-input","type","number"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleIonChange(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:B,multi:!0}]),o.qOj]}),z.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],z.prototype,"_handleIonChange",null);let G=H=class extends ${constructor(e,t){super(e,t)}_handleIonSelect(e){this.handleChangeEvent(e,e.checked)}};var W;G.\u0275fac=function(e){return new(e||G)(o.Y36(o.zs3),o.Y36(o.SBq))},G.\u0275dir=o.lG2({type:G,selectors:[["ion-radio"]],hostBindings:function(e,t){1&e&&o.NdJ("ionSelect",function(e){return t._handleIonSelect(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:H,multi:!0}]),o.qOj]}),G.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionSelect",["$event.target"])],G.prototype,"_handleIonSelect",null);let K=W=class extends ${constructor(e,t){super(e,t)}_handleChangeEvent(e){this.handleChangeEvent(e,e.value)}};var Y;K.\u0275fac=function(e){return new(e||K)(o.Y36(o.zs3),o.Y36(o.SBq))},K.\u0275dir=o.lG2({type:K,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleChangeEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:W,multi:!0}]),o.qOj]}),K.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],K.prototype,"_handleChangeEvent",null);let Q=Y=class extends ${constructor(e,t){super(e,t)}_handleInputEvent(e){this.handleChangeEvent(e,e.value)}};Q.\u0275fac=function(e){return new(e||Q)(o.Y36(o.zs3),o.Y36(o.SBq))},Q.\u0275dir=o.lG2({type:Q,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(e,t){1&e&&o.NdJ("ionChange",function(e){return t._handleInputEvent(e.target)})},features:[o._Bn([{provide:a.JU,useExisting:Y,multi:!0}]),o.qOj]}),Q.ctorParameters=()=>[{type:o.zs3},{type:o.SBq}],r([(0,o.L6J)("ionChange",["$event.target"])],Q.prototype,"_handleInputEvent",null);let X=class{constructor(e,t){this.doc=e,this.backButton=new S.xQ,this.keyboardDidShow=new S.xQ,this.keyboardDidHide=new S.xQ,this.pause=new S.xQ,this.resume=new S.xQ,this.resize=new S.xQ,t.run(()=>{let n;this.win=e.defaultView,this.backButton.subscribeWithPriority=function(e,n){return this.subscribe(r=>r.register(e,e=>t.run(()=>n(e))))},Z(this.pause,e,"pause"),Z(this.resume,e,"resume"),Z(this.backButton,e,"ionBackButton"),Z(this.resize,this.win,"resize"),Z(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Z(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(e=>{n=e}),this.win&&this.win.cordova?e.addEventListener("deviceready",()=>{n("cordova")},{once:!0}):n("dom")})}is(e){return(0,f.a)(this.win,e)}platforms(){return(0,f.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(e){return J(this.win.location.href,e)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches}testUserAgent(e){const t=this.win.navigator;return!!(t&&t.userAgent&&t.userAgent.indexOf(e)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};X.\u0275fac=function(e){return new(e||X)(o.LFG(c.K0),o.LFG(o.R0b))},X.\u0275prov=o.Yz7({token:X,factory:function(e){return X.\u0275fac(e)},providedIn:"root"}),X.ngInjectableDef=(0,o.Yz7)({factory:function(){return new X((0,o.LFG)(c.K0),(0,o.LFG)(o.R0b))},token:X,providedIn:"root"}),X=r([i(0,(0,o.tBr)(c.K0))],X);const J=(e,t)=>{t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},Z=(e,t,n)=>{t&&t.addEventListener(n,t=>{e.next(null!=t?t.detail:void 0)})};let ee=class{constructor(e,t,n,r){this.location=t,this.serializer=n,this.router=r,this.direction=ne,this.animated=re,this.guessDirection="forward",this.lastNavId=-1,r&&r.events.subscribe(e=>{if(e instanceof u.OD){const t=e.restoredState?e.restoredState.navigationId:e.id;this.guessDirection=t<this.lastNavId?"back":"forward",this.guessAnimation=e.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?e.id:t}}),e.backButton.subscribeWithPriority(0,e=>{this.pop(),e()})}navigateForward(e,t={}){return this.setDirection("forward",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateBack(e,t={}){return this.setDirection("back",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}navigateRoot(e,t={}){return this.setDirection("root",t.animated,t.animationDirection,t.animation),this.navigate(e,t)}back(e={animated:!0,animationDirection:"back"}){return this.setDirection("back",e.animated,e.animationDirection,e.animation),this.location.back()}pop(){return s(this,void 0,void 0,function*(){let e=this.topOutlet;for(;e&&!(yield e.pop());)e=e.parentOutlet})}setDirection(e,t,n,r){this.direction=e,this.animated=te(e,t,n),this.animationBuilder=r}setTopOutlet(e){this.topOutlet=e}consumeTransition(){let e,t="root";const n=this.animationBuilder;return"auto"===this.direction?(t=this.guessDirection,e=this.guessAnimation):(e=this.animated,t=this.direction),this.direction=ne,this.animated=re,this.animationBuilder=void 0,{direction:t,animation:e,animationBuilder:n}}navigate(e,t){if(Array.isArray(e))return this.router.navigate(e,t);{const n=this.serializer.parse(e.toString());return void 0!==t.queryParams&&(n.queryParams=Object.assign({},t.queryParams)),void 0!==t.fragment&&(n.fragment=t.fragment),this.router.navigateByUrl(n,t)}}};ee.\u0275fac=function(e){return new(e||ee)(o.LFG(X),o.LFG(c.Ye),o.LFG(u.Hx),o.LFG(u.F0,8))},ee.\u0275prov=o.Yz7({token:ee,factory:function(e){return ee.\u0275fac(e)},providedIn:"root"}),ee.ngInjectableDef=(0,o.Yz7)({factory:function(){return new ee((0,o.LFG)(X),(0,o.LFG)(c.Ye),(0,o.LFG)(u.Hx),(0,o.LFG)(u.F0,8))},token:ee,providedIn:"root"}),ee=r([i(3,(0,o.FiY)())],ee);const te=(e,t,n)=>{if(!1!==t)return void 0!==n?n:"forward"===e||"back"===e?e:"root"===e&&!0===t?"forward":void 0},ne="auto",re=void 0,ie=(e,t)=>{const n=e.prototype;t.forEach(e=>{Object.defineProperty(n,e,{get(){return this.el[e]},set(t){this.z.runOutsideAngular(()=>this.el[e]=t)}})})},se=(e,t)=>{const n=e.prototype;t.forEach(e=>{n[e]=function(){const t=arguments;return this.z.runOutsideAngular(()=>this.el[e].apply(this.el,t))}})},oe=(e,t,n)=>{n.forEach(n=>e[n]=E(t,n))};function ae(e){return function(t){return e.inputs&&ie(t,e.inputs),e.methods&&se(t,e.methods),t}}let ce=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-app"]],ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e})(),ue=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],e),e})(),le=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode","translucent"]})],e),e})(),he=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode"]})],e),e})(),de=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode"]})],e),e})(),fe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],e),e})(),pe=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["collapse","mode","translucent"]})],e),e})(),me=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-icon"]],inputs:{ariaHidden:"ariaHidden",ariaLabel:"ariaLabel",color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["ariaHidden","ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],e),e})(),ge=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement,oe(this,this.el,["ionInfinite"])}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-infinite-scroll"]],inputs:{disabled:"disabled",position:"position",threshold:"threshold"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["disabled","position","threshold"],methods:["complete"]})],e),e})(),ye=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode","position"]})],e),e})(),ve=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],e),e})(),we=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-tab-bar"]],inputs:{color:"color",mode:"mode",selectedTab:"selectedTab",translucent:"translucent"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode","selectedTab","translucent"]})],e),e})(),be=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-tab-button"]],inputs:{disabled:"disabled",download:"download",href:"href",layout:"layout",mode:"mode",rel:"rel",selected:"selected",tab:"tab",target:"target"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["disabled","download","href","layout","mode","rel","selected","tab","target"]})],e),e})(),_e=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","size"]})],e),e})(),Ie=(()=>{let e=class{constructor(e,t,n){this.z=n,e.detach(),this.el=t.nativeElement}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO),o.Y36(o.SBq),o.Y36(o.R0b))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:R,decls:1,vars:0,template:function(e,t){1&e&&(o.F$t(),o.Hsn(0))},encapsulation:2,changeDetection:0}),e=r([ae({inputs:["color","mode"]})],e),e})(),Ee=class{get(e,t){const n=Se();return n?n.get(e,t):null}getBoolean(e,t){const n=Se();return!!n&&n.getBoolean(e,t)}getNumber(e,t){const n=Se();return n?n.getNumber(e,t):0}set(e,t){console.warn("[DEPRECATION][Config]: The Config.set() method is deprecated and will be removed in Ionic Framework 6.0. Please see https://ionicframework.com/docs/angular/config for alternatives.");const n=Se();n&&n.set(e,t)}};Ee.\u0275fac=function(e){return new(e||Ee)},Ee.\u0275prov=o.Yz7({token:Ee,factory:function(e){return Ee.\u0275fac(e)},providedIn:"root"}),Ee.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Ee},token:Ee,providedIn:"root"});const Te=new o.OlP("USERCONFIG"),Se=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null};class ke{constructor(e={}){this.data=e}get(e){return this.data[e]}}let Ce=(()=>{let e=class{constructor(e,t){this.zone=e,this.appRef=t}create(e,t,n){return new Ae(e,t,n,this.appRef,this.zone)}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(o.R0b),o.LFG(o.z2F))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})();class Ae{constructor(e,t,n,r,i){this.resolver=e,this.injector=t,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,t,n,r){return this.zone.run(()=>new Promise(i=>{i(xe(this.zone,this.resolver,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,e,t,n,r))}))}removeViewFromDom(e,t){return this.zone.run(()=>new Promise(e=>{const n=this.elRefMap.get(t);if(n){n.destroy(),this.elRefMap.delete(t);const e=this.elEventsMap.get(t);e&&(e(),this.elEventsMap.delete(t))}e()}))}}const xe=(e,t,n,r,i,s,a,c,u,l,h)=>{const d=t.resolveComponentFactory(u),f=o.zs3.create({providers:De(l),parent:n}),p=r?r.createComponent(d,r.length,f):d.create(f),m=p.instance,g=p.location.nativeElement;if(l&&Object.assign(m,l),h)for(const o of h)g.classList.add(o);const y=Re(e,m,g);return c.appendChild(g),r||i.attachView(p.hostView),p.changeDetectorRef.reattach(),s.set(g,p),a.set(g,y),g},Ne=[m.L,m.a,m.b,m.c,m.d],Re=(e,t,n)=>e.run(()=>{const e=Ne.filter(e=>"function"==typeof t[e]).map(e=>{const r=n=>t[e](n.detail);return n.addEventListener(e,r),()=>n.removeEventListener(e,r)});return()=>e.forEach(e=>e())}),Oe=new o.OlP("NavParamsToken"),De=e=>[{provide:Oe,useValue:e},{provide:ke,useFactory:Pe,deps:[Oe]}],Pe=e=>new ke(e),Le=(e,t)=>((e=e.filter(e=>e.stackId!==t.stackId)).push(t),e),$e=(e,t)=>{const n=e.createUrlTree(["."],{relativeTo:t});return e.serializeUrl(n)},Fe=(e,t)=>{if(!e)return;const n=Me(t);for(let r=0;r<n.length;r++){if(r>=e.length)return n[r];if(n[r]!==e[r])return}},Me=e=>e.split("/").map(e=>e.trim()).filter(e=>""!==e),Ue=e=>{e&&(e.ref.destroy(),e.unlistenEvents())};class je{constructor(e,t,n,r,i,s){this.containerEl=t,this.router=n,this.navCtrl=r,this.zone=i,this.location=s,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?Me(e):void 0}createView(e,t){const n=$e(this.router,t),r=e&&e.location&&e.location.nativeElement,i=Re(this.zone,e.instance,r);return{id:this.nextId++,stackId:Fe(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:e,url:n}}getExistingView(e){const t=$e(this.router,e),n=this.views.find(e=>e.url===t);return n&&n.ref.changeDetectorRef.reattach(),n}setActive(e){const t=this.navCtrl.consumeTransition();let{direction:n,animation:r,animationBuilder:i}=t;const s=this.activeView,o=((e,t)=>!t||e.stackId!==t.stackId)(e,s);o&&(n="back",r=void 0);const a=this.views.slice();let c;const u=this.router;u.getCurrentNavigation?c=u.getCurrentNavigation():u.navigations&&u.navigations.value&&(c=u.navigations.value),c&&c.extras&&c.extras.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const l=this.views.includes(e),h=this.insertView(e,n);l||e.ref.changeDetectorRef.detectChanges();const d=e.animationBuilder;return void 0!==i||"back"!==n||o||void 0===d||(i=d),s&&(s.animationBuilder=i),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,s,r,this.canGoBack(1),!1,i).then(()=>Ve(e,h,a,this.location)).then(()=>({enteringView:e,direction:n,animation:r,tabSwitch:o})))))}canGoBack(e,t=this.getActiveStackId()){return this.getStack(t).length>e}pop(e,t=this.getActiveStackId()){return this.zone.run(()=>{const n=this.getStack(t);if(n.length<=e)return Promise.resolve(!1);const r=n[n.length-e-1];let i=r.url;const s=r.savedData;if(s){const e=s.get("primary");e&&e.route&&e.route._routerState&&e.route._routerState.snapshot&&e.route._routerState.snapshot.url&&(i=e.route._routerState.snapshot.url)}const{animationBuilder:o}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(i,Object.assign({},r.savedExtras,{animation:o})).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const t=this.getStack(e.stackId),n=t[t.length-2],r=n.animationBuilder;return this.wait(()=>this.transition(n,e,"back",this.canGoBack(2),!0,r))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&qe(this.activeView,this.views,this.views,this.location)}getLastUrl(e){const t=this.getStack(e);return t.length>0?t[t.length-1]:void 0}getRootUrl(e){const t=this.getStack(e);return t.length>0?t[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ue),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(t=>t.stackId===e)}insertView(e,t){return this.activeView=e,this.views=((e,t,n)=>"root"===n?Le(e,t):"forward"===n?((e,t)=>(e.indexOf(t)>=0?e=e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):e.push(t),e))(e,t):((e,t)=>e.indexOf(t)>=0?e.filter(e=>e.stackId!==t.stackId||e.id<=t.id):Le(e,t))(e,t))(this.views,e,t),this.views.slice()}transition(e,t,n,r,i,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(t===e)return Promise.resolve(!1);const o=e?e.element:void 0,a=t?t.element:void 0,c=this.containerEl;return o&&o!==a&&(o.classList.add("ion-page"),o.classList.add("ion-page-invisible"),o.parentElement!==c&&c.appendChild(o),c.commit)?c.commit(o,a,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:r,progressAnimation:i,animationBuilder:s}):Promise.resolve(!1)}wait(e){return s(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const t=this.runningTask=e();return t.finally(()=>this.runningTask=void 0),t})}}const Ve=(e,t,n,r)=>"function"==typeof requestAnimationFrame?new Promise(i=>{requestAnimationFrame(()=>{qe(e,t,n,r),i()})}):Promise.resolve(),qe=(e,t,n,r)=>{n.filter(e=>!t.includes(e)).forEach(Ue),t.forEach(t=>{const n=r.path().split("?")[0].split("#")[0];if(t!==e&&t.url!==n){const e=t.element;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden"),t.ref.changeDetectorRef.detach()}})};let Be=(()=>{let e=class{constructor(e,t,n,r,i,s,a,c,l,h,d,f,p){this.parentContexts=e,this.location=t,this.resolver=n,this.config=s,this.navCtrl=a,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new k.X(null),this.stackEvents=new o.vpe,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.nativeEl=l.nativeElement,this.name=r||u.eC,this.tabsPrefix="true"===i?$e(h,f):void 0,this.stackCtrl=new je(this.tabsPrefix,this.nativeEl,h,a,d,c),e.onChildOutletCreated(this.name,this)}set animation(e){this.nativeEl.animation=e}set animated(e){this.nativeEl.animated=e}set swipeGesture(e){this._swipeGesture=e,this.nativeEl.swipeHandler=e?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:e=>this.stackCtrl.endBackTransition(e)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}new Promise(e=>(0,p.c)(this.nativeEl,e)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(e,t){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const e=this.getContext();this.activatedView.savedData=new Map(e.children.contexts);const t=this.activatedView.savedData.get("primary");if(t&&e.route&&(t.route=Object.assign({},e.route)),this.activatedView.savedExtras={},e.route){const t=e.route.snapshot;this.activatedView.savedExtras.queryParams=t.queryParams,this.activatedView.savedExtras.fragment=t.fragment}}const e=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");let n;this._activatedRoute=e;let r=this.stackCtrl.getExistingView(e);if(r){n=this.activated=r.ref;const t=r.savedData;t&&(this.getContext().children.contexts=t),this.updateActivatedRouteProxy(n.instance,e)}else{const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,o=new k.X(null),a=this.createActivatedRouteProxy(o,e),c=new ze(a,s,this.location.injector);n=this.activated=this.location.createComponent(i,this.location.length,c),o.next(n.instance),r=this.stackCtrl.createView(this.activated,e),this.proxyMap.set(n.instance,a),this.currentActivatedRoute$.next({component:n.instance,activatedRoute:e})}this.activatedView=r,this.stackCtrl.setActive(r).then(e=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(n.instance),this.stackEvents.emit(e)})}canGoBack(e=1,t){return this.stackCtrl.canGoBack(e,t)}pop(e=1,t){return this.stackCtrl.pop(e,t)}getLastUrl(e){const t=this.stackCtrl.getLastUrl(e);return t?t.url:void 0}getLastRouteView(e){return this.stackCtrl.getLastUrl(e)}getRootView(e){return this.stackCtrl.getRootUrl(e)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(e,t){const n=new u.gz;return n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,n._paramMap=this.proxyObservable(e,"paramMap"),n._queryParamMap=this.proxyObservable(e,"queryParamMap"),n.url=this.proxyObservable(e,"url"),n.params=this.proxyObservable(e,"params"),n.queryParams=this.proxyObservable(e,"queryParams"),n.fragment=this.proxyObservable(e,"fragment"),n.data=this.proxyObservable(e,"data"),n}proxyObservable(e,t){return e.pipe((0,C.h)(e=>!!e),(0,A.w)(e=>this.currentActivatedRoute$.pipe((0,C.h)(t=>null!==t&&t.component===e),(0,A.w)(e=>e&&e.activatedRoute[t]),(0,x.x)())))}updateActivatedRouteProxy(e,t){const n=this.proxyMap.get(e);if(!n)throw new Error("Could not find activated route proxy for view");n._futureSnapshot=t._futureSnapshot,n._routerState=t._routerState,n.snapshot=t.snapshot,n.outlet=t.outlet,n.component=t.component,this.currentActivatedRoute$.next({component:e,activatedRoute:t})}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(u.y6),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.$8M("tabs"),o.Y36(Ee),o.Y36(ee),o.Y36(c.Ye),o.Y36(o.SBq),o.Y36(u.F0),o.Y36(o.R0b),o.Y36(u.gz),o.Y36(e,12))},e.\u0275dir=o.lG2({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),r([(0,o.r_U)()],e.prototype,"stackEvents",void 0),r([(0,o.r_U)("activate")],e.prototype,"activateEvents",void 0),r([(0,o.r_U)("deactivate")],e.prototype,"deactivateEvents",void 0),e=r([i(3,(0,o.ahi)("name")),i(4,(0,o.FiY)()),i(4,(0,o.ahi)("tabs")),i(12,(0,o.tp0)()),i(12,(0,o.FiY)())],e),e})();class ze{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===u.gz?this.route:e===u.y6?this.childContexts:this.parent.get(e,t)}}let He=(()=>{let e=class{constructor(e){this.navCtrl=e,this.ionTabsWillChange=new o.vpe,this.ionTabsDidChange=new o.vpe}onPageSelected(e){const t=e.enteringView.stackId;e.tabSwitch&&void 0!==t&&(this.tabBar&&(this.tabBar.selectedTab=t),this.ionTabsWillChange.emit({tab:t}),this.ionTabsDidChange.emit({tab:t}))}select(e){const t="string"==typeof e,n=t?e:e.detail.tab,r=this.outlet.getActiveStackId()===n,i=`${this.outlet.tabsPrefix}/${n}`;if(t||e.stopPropagation(),r){const e=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(e).url===i)return;const t=this.outlet.getRootView(n);return this.navCtrl.navigateRoot(i,Object.assign({},t&&i===t.url&&t.savedExtras,{animated:!0,animationDirection:"back"}))}{const e=this.outlet.getLastRouteView(n);return this.navCtrl.navigateRoot(e&&e.url||i,Object.assign({},e&&e.savedExtras,{animated:!0,animationDirection:"back"}))}}getSelected(){return this.outlet.getActiveStackId()}};return e.\u0275fac=function(t){return new(t||e)(o.Y36(ee))},e.\u0275cmp=o.Xpm({type:e,selectors:[["ion-tabs"]],contentQueries:function(e,t,n){if(1&e&&o.Suo(n,we,5),2&e){let e;o.iGM(e=o.CRH())&&(t.tabBar=e.first)}},viewQuery:function(e,t){if(1&e&&o.Gf(O,5,Be),2&e){let e;o.iGM(e=o.CRH())&&(t.outlet=e.first)}},hostBindings:function(e,t){1&e&&o.NdJ("ionTabButtonClick",function(e){return t.select(e)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},ngContentSelectors:P,decls:5,vars:0,consts:[[1,"tabs-inner"],["tabs","true",3,"stackEvents"],["outlet",""]],template:function(e,t){1&e&&(o.F$t(D),o.Hsn(0),o.TgZ(1,"div",0),o.TgZ(2,"ion-router-outlet",1,2),o.NdJ("stackEvents",function(e){return t.onPageSelected(e)}),o.qZA(),o.qZA(),o.Hsn(4,1))},directives:[Be],styles:["[_nghost-%COMP%] {\n      display: flex;\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n\n      flex-direction: column;\n\n      width: 100%;\n      height: 100%;\n\n      contain: layout size style;\n      z-index: $z-index-page-container;\n    }\n    .tabs-inner[_ngcontent-%COMP%] {\n      position: relative;\n\n      flex: 1;\n\n      contain: layout size style;\n    }"]}),r([(0,o.i9L)("outlet",{read:Be,static:!1})],e.prototype,"outlet",void 0),r([(0,o.aQ5)(we,{static:!1})],e.prototype,"tabBar",void 0),r([(0,o.r_U)()],e.prototype,"ionTabsWillChange",void 0),r([(0,o.r_U)()],e.prototype,"ionTabsDidChange",void 0),r([(0,o.L6J)("ionTabButtonClick",["$event"])],e.prototype,"select",null),e})();class Ge{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,t,n){return this.ctrl.dismiss(e,t,n)}getTop(){return this.ctrl.getTop()}}let We=class extends Ge{constructor(){super(y.b)}};We.\u0275fac=function(e){return new(e||We)},We.\u0275prov=o.Yz7({token:We,factory:function(e){return We.\u0275fac(e)},providedIn:"root"}),We.ngInjectableDef=(0,o.Yz7)({factory:function(){return new We},token:We,providedIn:"root"});let Ke=class extends Ge{constructor(){super(y.a)}};Ke.\u0275fac=function(e){return new(e||Ke)},Ke.\u0275prov=o.Yz7({token:Ke,factory:function(e){return Ke.\u0275fac(e)},providedIn:"root"}),Ke.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Ke},token:Ke,providedIn:"root"});let Ye=class extends Ge{constructor(){super(y.l)}};Ye.\u0275fac=function(e){return new(e||Ye)},Ye.\u0275prov=o.Yz7({token:Ye,factory:function(e){return Ye.\u0275fac(e)},providedIn:"root"}),Ye.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Ye},token:Ye,providedIn:"root"});let Qe=class{open(e){return g.m.open(e)}close(e){return g.m.close(e)}toggle(e){return g.m.toggle(e)}enable(e,t){return g.m.enable(e,t)}swipeGesture(e,t){return g.m.swipeGesture(e,t)}isOpen(e){return g.m.isOpen(e)}isEnabled(e){return g.m.isEnabled(e)}get(e){return g.m.get(e)}getOpen(){return g.m.getOpen()}getMenus(){return g.m.getMenus()}};Qe.\u0275fac=function(e){return new(e||Qe)},Qe.\u0275prov=o.Yz7({token:Qe,factory:function(e){return Qe.\u0275fac(e)},providedIn:"root"}),Qe.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Qe},token:Qe,providedIn:"root"});let Xe=class extends Ge{constructor(){super(y.p)}};Xe.\u0275fac=function(e){return new(e||Xe)},Xe.\u0275prov=o.Yz7({token:Xe,factory:function(e){return Xe.\u0275fac(e)},providedIn:"root"}),Xe.ngInjectableDef=(0,o.Yz7)({factory:function(){return new Xe},token:Xe,providedIn:"root"});let Je=(()=>{let e=class extends Ge{constructor(e,t,n){super(y.m),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ce),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),Ze=(()=>{let e=class extends Ge{constructor(e,t,n){super(y.c),this.angularDelegate=e,this.resolver=t,this.injector=n}create(e){return super.create(Object.assign({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))}};return e.\u0275fac=function(t){return new(t||e)(o.LFG(Ce),o.LFG(o._Vd),o.LFG(o.zs3))},e.\u0275prov=o.Yz7({token:e,factory:function(t){return e.\u0275fac(t)}}),e})(),et=class extends Ge{constructor(){super(y.t)}};et.\u0275fac=function(e){return new(e||et)},et.\u0275prov=o.Yz7({token:et,factory:function(e){return et.\u0275fac(e)},providedIn:"root"}),et.ngInjectableDef=(0,o.Yz7)({factory:function(){return new et},token:et,providedIn:"root"});let tt=class{read(e){nt().read(e)}write(e){nt().write(e)}};tt.\u0275fac=function(e){return new(e||tt)},tt.\u0275prov=o.Yz7({token:tt,factory:function(e){return tt.\u0275fac(e)},providedIn:"root"}),tt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new tt},token:tt,providedIn:"root"});const nt=()=>{const e="undefined"!=typeof window?window:null;if(null!=e){const t=e.Ionic;return t&&t.queue?t.queue:{read:t=>e.requestAnimationFrame(t),write:t=>e.requestAnimationFrame(t)}}return{read:e=>e(),write:e=>e()}};let rt=class{create(e){return(0,l.c)(e)}easingTime(e,t,n,r,i){return(0,h.g)(e,t,n,r,i)}};rt.\u0275fac=function(e){return new(e||rt)},rt.\u0275prov=o.Yz7({token:rt,factory:function(e){return rt.\u0275fac(e)},providedIn:"root"}),rt.ngInjectableDef=(0,o.Yz7)({factory:function(){return new rt},token:rt,providedIn:"root"});let it=class{constructor(e){this.zone=e}create(e,t=!1){return t&&Object.getOwnPropertyNames(e).forEach(t=>{if("function"==typeof e[t]){const n=e[t];e[t]=(...e)=>this.zone.run(()=>n(...e))}}),(0,d.createGesture)(e)}};it.\u0275fac=function(e){return new(e||it)(o.LFG(o.R0b))},it.\u0275prov=o.Yz7({token:it,factory:function(e){return it.\u0275fac(e)},providedIn:"root"}),it.ngInjectableDef=(0,o.Yz7)({factory:function(){return new it((0,o.LFG)(o.R0b))},token:it,providedIn:"root"});class st{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,t){}retrieve(e){return null}shouldReuseRoute(e,t){if(e.routeConfig!==t.routeConfig)return!1;const n=e.params,r=t.params,i=Object.keys(n),s=Object.keys(r);if(i.length!==s.length)return!1;for(const o of i)if(r[o]!==n[o])return!1;return!0}}const ot=(e,t,r)=>()=>{const i=t.defaultView;if(i&&"undefined"!=typeof window){(i.Ionic=i.Ionic||{}).config=Object.assign({},e,{_zoneGate:e=>r.run(e)});const s="__zone_symbol__addEventListener"in t.body?"__zone_symbol__addEventListener":"addEventListener";return function(){var e=[];if("undefined"!=typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push(n.e(6748).then(n.t.bind(n,6546,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(t){return!1}}()&&"undefined"!=typeof WeakMap||e.push(n.e(2214).then(n.t.bind(n,3609,23)))}return Promise.all(e)}().then(()=>{return e={exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:L,jmp:e=>r.runOutsideAngular(e),ael(e,t,n,r){e[s](t,n,r)},rel(e,t,n,r){e.removeEventListener(t,n,r)}},"undefined"==typeof window?Promise.resolve():(v.C&&v.C.supports&&v.C.supports("color","var(--c)")?(0,v.a)():n.e(1843).then(n.t.bind(n,5466,23)).then(()=>(v.p.$cssShim$=v.w.__cssshim)?v.p.$cssShim$.i():0)).then(()=>(N(),(0,v.b)(JSON.parse('[["ion-select_3",[[2,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"options":[16]},[[0,"ionChange","onSelect"]]],[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}]]],["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"activated":[32]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-modal",[[34,"ion-modal",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-popover",[[34,"ion-popover",{"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-app_8",[[0,"ion-app"],[34,"ion-buttons",{"collapse":[4]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[2,"click","onClick"]]],[36,"ion-footer",{"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[1]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[1],"maxlength":[2],"min":[1],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-datetime_3",[[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[33,"ion-datetime",{"name":[1],"disabled":[4],"readonly":[4],"min":[1025],"max":[1025],"displayFormat":[1,"display-format"],"displayTimezone":[1,"display-timezone"],"pickerFormat":[1,"picker-format"],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"monthNames":[1,"month-names"],"monthShortNames":[1,"month-short-names"],"dayNames":[1,"day-names"],"dayShortNames":[1,"day-short-names"],"pickerOptions":[16],"placeholder":[1],"value":[1025],"isExpanded":[32],"open":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ariaLabel":[1537,"aria-label"],"ariaHidden":[513,"aria-hidden"],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),e)));var e})}};var at;let ct=at=class{static forRoot(e){return{ngModule:at,providers:[{provide:Te,useValue:e},{provide:o.ip1,useFactory:ot,multi:!0,deps:[Te,c.K0,o.R0b]}]}}};ct.\u0275fac=function(e){return new(e||ct)},ct.\u0275mod=o.oAB({type:ct}),ct.\u0275inj=o.cJS({providers:[Ce,Je,Ze],imports:[[c.ez]]})},6760:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(5392);let i;const s=e=>{if(void 0===i){const t=void 0!==e.style.webkitAnimationName;i=void 0===e.style.animationName&&t?"-webkit-":""}return i},o=(e,t,n)=>{const r=t.startsWith("animation")?s(e):"";e.style.setProperty(r+t,n)},a=(e,t)=>{const n=t.startsWith("animation")?s(e):"";e.style.removeProperty(n+t)},c=[],u=(e=[],t)=>{if(void 0!==t){const n=Array.isArray(t)?t:[t];return[...e,...n]}return e},l=e=>{let t,n,i,l,h,d,f,p,m,g,y,v,w,b=[],_=[],I=[],E=!1,T={},S=[],k=[],C={},A=0,x=!1,N=!1,R=!0,O=!1,D=!0;const P=e,L=[],$=[],F=[],M=[],U=[],j=[],V=[],q=[],B=[],z=[],H="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,G="function"==typeof Element&&"function"==typeof Element.prototype.animate&&H,W=(e,t)=>((t&&t.oneTimeCallback?$:L).push({c:e,o:t}),w),K=()=>{if(G)z.forEach(e=>{e.cancel()}),z.length=0;else{const e=F.slice();(0,r.r)(()=>{e.forEach(e=>{a(e,"animation-name"),a(e,"animation-duration"),a(e,"animation-timing-function"),a(e,"animation-iteration-count"),a(e,"animation-delay"),a(e,"animation-play-state"),a(e,"animation-fill-mode"),a(e,"animation-direction")})})}},Y=()=>{U.forEach(e=>{e&&e.parentNode&&e.parentNode.removeChild(e)}),U.length=0},Q=()=>void 0!==h?h:f?f.getFill():"both",X=()=>void 0!==m?m:void 0!==d?d:f?f.getDirection():"normal",J=()=>x?"linear":void 0!==i?i:f?f.getEasing():"linear",Z=()=>N?0:void 0!==g?g:void 0!==n?n:f?f.getDuration():0,ee=()=>void 0!==l?l:f?f.getIterations():1,te=()=>void 0!==y?y:void 0!==t?t:f?f.getDelay():0,ne=()=>{0!==A&&(A--,0===A&&((()=>{le(),q.forEach(e=>e()),B.forEach(e=>e());const e=R?1:0,t=S,n=k,r=C;F.forEach(e=>{const i=e.classList;t.forEach(e=>i.add(e)),n.forEach(e=>i.remove(e));for(const t in r)r.hasOwnProperty(t)&&o(e,t,r[t])}),L.forEach(t=>t.c(e,w)),$.forEach(t=>t.c(e,w)),$.length=0,D=!0,R&&(O=!0),R=!0})(),f&&f.animationFinish()))},re=(t=!0)=>{(()=>{j.forEach(e=>e()),V.forEach(e=>e());const e=_,t=I,n=T;F.forEach(r=>{const i=r.classList;e.forEach(e=>i.add(e)),t.forEach(e=>i.remove(e));for(const e in n)n.hasOwnProperty(e)&&o(r,e,n[e])})})(),b.length>0&&(G?(F.forEach(e=>{const t=e.animate(b,{id:P,delay:te(),duration:Z(),easing:J(),iterations:ee(),fill:Q(),direction:X()});t.pause(),z.push(t)}),z.length>0&&(z[0].onfinish=()=>{ne()})):((t=!0)=>{Y();const n=((i=b).forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const n=e[t];if("easing"===t)e["animation-timing-function"]=n,delete e[t];else{const r=t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();r!==t&&(e[r]=n,delete e[t])}}}),i);var i;F.forEach(i=>{if(n.length>0){const a=((e=[])=>e.map(e=>{const t=e.offset,n=[];for(const r in e)e.hasOwnProperty(r)&&"offset"!==r&&n.push(`${r}: ${e[r]};`);return`${100*t}% { ${n.join(" ")} }`}).join(" "))(n);v=void 0!==e?e:(e=>{let t=c.indexOf(e);return t<0&&(t=c.push(e)-1),`ion-animation-${t}`})(a);const u=((e,t,n)=>{const r=(e=>{const t=e.getRootNode();return t.head||t})(n),i=s(n),o=r.querySelector("#"+e);if(o)return o;const a=(n.ownerDocument||document).createElement("style");return a.id=e,a.textContent=`@${i}keyframes ${e} { ${t} } @${i}keyframes ${e}-alt { ${t} }`,r.appendChild(a),a})(v,a,i);U.push(u),o(i,"animation-duration",`${Z()}ms`),o(i,"animation-timing-function",J()),o(i,"animation-delay",`${te()}ms`),o(i,"animation-fill-mode",Q()),o(i,"animation-direction",X());const l=ee()===1/0?"infinite":ee().toString();o(i,"animation-iteration-count",l),o(i,"animation-play-state","paused"),t&&o(i,"animation-name",`${u.id}-alt`),(0,r.r)(()=>{o(i,"animation-name",u.id||null)})}})})(t)),E=!0},ie=e=>{if(e=Math.min(Math.max(e,0),.9999),G)z.forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+Z()*e,t.pause()});else{const t=`-${Z()*e}ms`;F.forEach(e=>{b.length>0&&(o(e,"animation-delay",t),o(e,"animation-play-state","paused"))})}},se=e=>{z.forEach(e=>{e.effect.updateTiming({delay:te(),duration:Z(),easing:J(),iterations:ee(),fill:Q(),direction:X()})}),void 0!==e&&ie(e)},oe=(e=!0,t)=>{(0,r.r)(()=>{F.forEach(n=>{o(n,"animation-name",v||null),o(n,"animation-duration",`${Z()}ms`),o(n,"animation-timing-function",J()),o(n,"animation-delay",void 0!==t?`-${t*Z()}ms`:`${te()}ms`),o(n,"animation-fill-mode",Q()||null),o(n,"animation-direction",X()||null);const i=ee()===1/0?"infinite":ee().toString();o(n,"animation-iteration-count",i),e&&o(n,"animation-name",`${v}-alt`),(0,r.r)(()=>{o(n,"animation-name",v||null)})})})},ae=(e=!1,t=!0,n)=>(e&&M.forEach(r=>{r.update(e,t,n)}),G?se(n):oe(t,n),w),ce=()=>{E&&(G?z.forEach(e=>{e.pause()}):F.forEach(e=>{o(e,"animation-play-state","paused")}))},ue=()=>{p=void 0,ne()},le=()=>{p&&clearTimeout(p)},he=e=>new Promise(t=>{e&&e.sync&&(N=!0,W(()=>N=!1,{oneTimeCallback:!0})),E||re(),O&&(G?(ie(0),se()):oe(),O=!1),D&&(A=M.length+1,D=!1),W(()=>t(),{oneTimeCallback:!0}),M.forEach(e=>{e.play()}),G?(z.forEach(e=>{e.play()}),0!==b.length&&0!==F.length||ne()):(()=>{if(le(),(0,r.r)(()=>{F.forEach(e=>{b.length>0&&o(e,"animation-play-state","running")})}),0===b.length||0===F.length)ne();else{const e=te()||0,t=Z()||0,n=ee()||1;isFinite(n)&&(p=setTimeout(ue,e+t*n+100)),((e,t)=>{let n;const i={passive:!0},s=t=>{e===t.target&&(n&&n(),le(),(0,r.r)(()=>{F.forEach(e=>{a(e,"animation-duration"),a(e,"animation-delay"),a(e,"animation-play-state")}),(0,r.r)(ne)}))};e&&(e.addEventListener("webkitAnimationEnd",s,i),e.addEventListener("animationend",s,i),n=()=>{e.removeEventListener("webkitAnimationEnd",s,i),e.removeEventListener("animationend",s,i)})})(F[0])}})()}),de=(e,t)=>{const n=b[0];return void 0===n||void 0!==n.offset&&0!==n.offset?b=[{offset:0,[e]:t},...b]:n[e]=t,w};return w={parentAnimation:f,elements:F,childAnimations:M,id:P,animationFinish:ne,from:de,to:(e,t)=>{const n=b[b.length-1];return void 0===n||void 0!==n.offset&&1!==n.offset?b=[...b,{offset:1,[e]:t}]:n[e]=t,w},fromTo:(e,t,n)=>de(e,t).to(e,n),parent:e=>(f=e,w),play:he,pause:()=>(M.forEach(e=>{e.pause()}),ce(),w),stop:()=>{M.forEach(e=>{e.stop()}),E&&(K(),E=!1),x=!1,N=!1,D=!0,m=void 0,g=void 0,y=void 0,A=0,O=!1,R=!0},destroy:e=>(M.forEach(t=>{t.destroy(e)}),(e=>{K(),e&&Y()})(e),F.length=0,M.length=0,b.length=0,L.length=0,$.length=0,E=!1,D=!0,w),keyframes:e=>(b=e,w),addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(w),M.push(t);else e.parent(w),M.push(e);return w},addElement:e=>{if(null!=e)if(1===e.nodeType)F.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)F.push(e[t]);else console.error("Invalid addElement value");return w},update:ae,fill:e=>(h=e,ae(!0),w),direction:e=>(d=e,ae(!0),w),iterations:e=>(l=e,ae(!0),w),duration:e=>(G||0!==e||(e=1),n=e,ae(!0),w),easing:e=>(i=e,ae(!0),w),delay:e=>(t=e,ae(!0),w),getWebAnimations:()=>z,getKeyframes:()=>b,getFill:Q,getDirection:X,getDelay:te,getIterations:ee,getEasing:J,getDuration:Z,afterAddRead:e=>(q.push(e),w),afterAddWrite:e=>(B.push(e),w),afterClearStyles:(e=[])=>{for(const t of e)C[t]="";return w},afterStyles:(e={})=>(C=e,w),afterRemoveClass:e=>(k=u(k,e),w),afterAddClass:e=>(S=u(S,e),w),beforeAddRead:e=>(j.push(e),w),beforeAddWrite:e=>(V.push(e),w),beforeClearStyles:(e=[])=>{for(const t of e)T[t]="";return w},beforeStyles:(e={})=>(T=e,w),beforeRemoveClass:e=>(I=u(I,e),w),beforeAddClass:e=>(_=u(_,e),w),onFinish:W,progressStart:(e=!1,t)=>(M.forEach(n=>{n.progressStart(e,t)}),ce(),x=e,E?ae(!1,!0,t):re(),w),progressStep:e=>(M.forEach(t=>{t.progressStep(e)}),ie(e),w),progressEnd:(e,t,n)=>(x=!1,M.forEach(r=>{r.progressEnd(e,t,n)}),void 0!==n&&(g=n),O=!1,R=!0,0===e?(m="reverse"===X()?"normal":"reverse","reverse"===m&&(R=!1),G?(ae(),ie(1-t)):(y=(1-t)*Z()*-1,ae(!1,!1))):1===e&&(G?(ae(),ie(t)):(y=t*Z()*-1,ae(!1,!1))),void 0!==e&&(W(()=>{g=void 0,m=void 0,y=void 0},{oneTimeCallback:!0}),f||he()),w)}}},6943:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});const r=(e,t,n,r,o)=>s(e[1],t[1],n[1],r[1],o).map(s=>i(e[0],t[0],n[0],r[0],s)),i=(e,t,n,r,i)=>i*(3*t*Math.pow(i-1,2)+i*(-3*n*i+3*n+r*i))-e*Math.pow(i-1,3),s=(e,t,n,r,i)=>o((r-=i)-3*(n-=i)+3*(t-=i)-(e-=i),3*n-6*t+3*e,3*t-3*e,e).filter(e=>e>=0&&e<=1),o=(e,t,n,r)=>{if(0===e)return((e,t,n)=>{const r=t*t-4*e*n;return r<0?[]:[(-t+Math.sqrt(r))/(2*e),(-t-Math.sqrt(r))/(2*e)]})(t,n,r);const i=(3*(n/=e)-(t/=e)*t)/3,s=(2*t*t*t-9*t*n+27*(r/=e))/27;if(0===i)return[Math.pow(-s,1/3)];if(0===s)return[Math.sqrt(-i),-Math.sqrt(-i)];const o=Math.pow(s/2,2)+Math.pow(i/3,3);if(0===o)return[Math.pow(s/2,.5)-t/3];if(o>0)return[Math.pow(-s/2+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-t/3];const a=Math.sqrt(Math.pow(-i/3,3)),c=Math.acos(-s/(2*Math.sqrt(Math.pow(-i/3,3)))),u=2*Math.pow(a,1/3);return[u*Math.cos(c/3)-t/3,u*Math.cos((c+2*Math.PI)/3)-t/3,u*Math.cos((c+4*Math.PI)/3)-t/3]}},5901:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});class r{constructor(e,t,n,r,i){this.id=t,this.name=n,this.disableScroll=i,this.priority=1e6*r+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class i{constructor(e,t,n,r){this.id=t,this.disable=n,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const s=new class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){return new r(this,this.newID(),e.name,e.priority||0,!!e.disableScroll)}createBlocker(e={}){return new i(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,n){return this.canStart(e)?(this.requestedStart.set(t,n),!0):(this.requestedStart.delete(t),!1)}capture(e,t,n){if(!this.start(e,t,n))return!1;const r=this.requestedStart;let i=-1e4;if(r.forEach(e=>{i=Math.max(i,e)}),i===n){this.capturedId=t,r.clear();const n=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(n),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let n=this.disabledGestures.get(e);void 0===n&&(n=new Set,this.disabledGestures.set(e,n)),n.add(t)}enableGesture(e,t){const n=this.disabledGestures.get(e);void 0!==n&&n.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add("backdrop-no-scroll")}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove("backdrop-no-scroll")}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}},8876:function(e,t,n){"use strict";n.r(t),n.d(t,{MENU_BACK_BUTTON_PRIORITY:function(){return o},OVERLAY_BACK_BUTTON_PRIORITY:function(){return s},blockHardwareBackButton:function(){return r},startHardwareBackButton:function(){return i}});const r=()=>{document.addEventListener("backbutton",()=>{})},i=()=>{const e=document;let t=!1;e.addEventListener("backbutton",()=>{if(t)return;let n=0,r=[];const i=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){r.push({priority:e,handler:t,id:n++})}}});e.dispatchEvent(i);const s=()=>{if(r.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};r.forEach(t=>{t.priority>=e.priority&&(e=t)}),t=!0,r=r.filter(t=>t.id!==e.id),(async e=>{try{if(e&&e.handler){const t=e.handler(s);null!=t&&await t}}catch(t){console.error(t)}})(e).then(()=>t=!1)}};s()})},s=100,o=99},5392:function(e,t,n){"use strict";n.d(t,{a:function(){return s},b:function(){return o},c:function(){return r},d:function(){return h},e:function(){return d},f:function(){return v},g:function(){return a},h:function(){return l},i:function(){return i},j:function(){return f},k:function(){return u},l:function(){return p},m:function(){return y},n:function(){return w},o:function(){return m},p:function(){return g},r:function(){return c}});const r=(e,t)=>{e.componentOnReady?e.componentOnReady().then(e=>t(e)):c(()=>t(e))},i=(e,t=[])=>{const n={};return t.forEach(t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(n[t]=e.getAttribute(t)),e.removeAttribute(t))}),n},s=(e,t,n,r)=>{if("undefined"!=typeof window){const i=window,s=i&&i.Ionic&&i.Ionic.config;if(s){const i=s.get("_ael");if(i)return i(e,t,n,r);if(s._ael)return s._ael(e,t,n,r)}}return e.addEventListener(t,n,r)},o=(e,t,n,r)=>{if("undefined"!=typeof window){const i=window,s=i&&i.Ionic&&i.Ionic.config;if(s){const i=s.get("_rel");if(i)return i(e,t,n,r);if(s._rel)return s._rel(e,t,n,r)}}return e.removeEventListener(t,n,r)},a=(e,t=e)=>e.shadowRoot||t,c=e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e),u=e=>!!e.shadowRoot&&!!e.attachShadow,l=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},h=(e,t)=>{let n;const r=e.getAttribute("aria-labelledby"),i=e.id;let s=null!==r&&""!==r.trim()?r:t+"-lbl",o=null!==r&&""!==r.trim()?document.getElementById(r):l(e);return o?(null===r&&(o.id=s),n=o.textContent,o.setAttribute("aria-hidden","true")):""!==i.trim()&&(o=document.querySelector(`label[for="${i}"]`),o&&(""!==o.id?s=o.id:o.id=s=`${i}-lbl`,n=o.textContent)),{label:o,labelId:s,labelText:n}},d=(e,t,n,r,i)=>{if(e||u(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=i,e.name=n,e.value=r||""}},f=(e,t,n)=>Math.max(e,Math.min(t,n)),p=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},m=e=>e.timeStamp||Date.now(),g=e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}},y=e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}},v=(e,t)=>{const n=e._original||e;return{_original:e,emit:w(n.emit.bind(n),t)}},w=(e,t=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(e,t,...r)}}},7501:function(e,t,n){"use strict";n.d(t,{m:function(){return h}});var r=n(8876),i=n(5392),s=n(4973),o=n(6760);const a=e=>(0,o.c)().duration(e?400:300),c=e=>{let t,n;const r=e.width+8,i=(0,o.c)(),c=(0,o.c)();e.isEndSide?(t=r+"px",n="0px"):(t=-r+"px",n="0px"),i.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${n})`);const u="ios"===(0,s.b)(e),l=u?.2:.25;return c.addElement(e.backdropEl).fromTo("opacity",.01,l),a(u).addAnimation([i,c])},u=e=>{let t,n;const r=(0,s.b)(e),i=e.width;e.isEndSide?(t=-i+"px",n=i+"px"):(t=i+"px",n=-i+"px");const c=(0,o.c)().addElement(e.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),u=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),l=(0,o.c)().addElement(e.backdropEl).fromTo("opacity",.01,.32);return a("ios"===r).addAnimation([c,u,l])},l=e=>{const t=(0,s.b)(e),n=e.width*(e.isEndSide?-1:1)+"px",r=(0,o.c)().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return a("ios"===t).addAnimation(r)},h=(()=>{const e=new Map,t=[],n=async e=>(await p(),"start"===e||"end"===e?f(t=>t.side===e&&!t.disabled)||f(t=>t.side===e):null!=e?f(t=>t.menuId===e):f(e=>!e.disabled)||(t.length>0?t[0].el:void 0)),s=async()=>(await p(),h()),o=(t,n)=>{e.set(t,n)},a=e=>{const n=e.side;t.filter(t=>t.side===n&&t!==e).forEach(e=>e.disabled=!0)},h=()=>f(e=>e._isOpen),d=()=>t.some(e=>e.isAnimating),f=e=>{const n=t.find(e);if(void 0!==n)return n.el},p=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(e=>new Promise(t=>(0,i.c)(e,t))));return o("reveal",l),o("push",u),o("overlay",c),"undefined"!=typeof document&&document.addEventListener("ionBackButton",e=>{const t=h();t&&e.detail.register(r.MENU_BACK_BUTTON_PRIORITY,()=>t.close())}),{registerAnimation:o,get:n,getMenus:async()=>(await p(),t.map(e=>e.el)),getOpen:s,isEnabled:async e=>{const t=await n(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const r=await n(t);return r&&(r.swipeGesture=e),r},isAnimating:async()=>(await p(),d()),isOpen:async e=>{if(null!=e){const t=await n(e);return void 0!==t&&t.isOpen()}return void 0!==await s()},enable:async(e,t)=>{const r=await n(t);return r&&(r.disabled=!e),r},toggle:async e=>{const t=await n(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?n(e):s());return void 0!==t&&t.close()},open:async e=>{const t=await n(e);return!!t&&t.open()},_getOpenSync:h,_createAnimation:(t,n)=>{const r=e.get(t);if(!r)throw new Error("animation not registered");return r(n)},_register:e=>{t.indexOf(e)<0&&(e.disabled||a(e),t.push(e))},_unregister:e=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},_setOpen:async(e,t,n)=>{if(d())return!1;if(t){const t=await s();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,n)},_setActiveMenu:a}})()},4366:function(e,t,n){"use strict";n.r(t),n.d(t,{GESTURE_CONTROLLER:function(){return r.G},createGesture:function(){return c}});var r=n(5901);const i=(e,t,n,r)=>{const i=s(e)?{capture:!!r.capture,passive:!!r.passive}:!!r.capture;let o,a;return e.__zone_symbol__addEventListener?(o="__zone_symbol__addEventListener",a="__zone_symbol__removeEventListener"):(o="addEventListener",a="removeEventListener"),e[o](t,n,i),()=>{e[a](t,n,i)}},s=e=>{if(void 0===o)try{const t=Object.defineProperty({},"passive",{get:()=>{o=!0}});e.addEventListener("optsTest",()=>{},t)}catch(t){o=!1}return!!o};let o;const a=e=>e instanceof Document?e:e.ownerDocument,c=e=>{let t=!1,n=!1,s=!0,o=!1;const c=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),d=c.canStart,f=c.onWillStart,p=c.onStart,m=c.onEnd,g=c.notCaptured,y=c.onMove,v=c.threshold,w=c.passive,b=c.blurOnStart,_={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},I=((e,t,n)=>{const r=n*(Math.PI/180),i="x"===e,s=Math.cos(r),o=t*t;let a=0,c=0,u=!1,l=0;return{start(e,t){a=e,c=t,l=0,u=!0},detect(e,t){if(!u)return!1;const n=e-a,r=t-c,h=n*n+r*r;if(h<o)return!1;const d=Math.sqrt(h),f=(i?n:r)/d;return l=f>s?1:f<-s?-1:0,u=!1,!0},isGesture:()=>0!==l,getDirection:()=>l}})(c.direction,c.threshold,c.maxAngle),E=r.G.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),T=()=>{t&&(o=!1,y&&y(_))},S=()=>!(E&&!E.capture()||(t=!0,s=!1,_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime,f?f(_).then(k):k(),0)),k=()=>{b&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;null!==e&&e.blur&&e.blur()}})(),p&&p(_),s=!0},C=()=>{t=!1,n=!1,o=!1,s=!0,E.release()},A=e=>{const n=t,r=s;C(),r&&(u(_,e),n?m&&m(_):g&&g(_))},x=((e,t,n,r,s)=>{let o,c,u,l,h,d,f,p=0;const m=r=>{p=Date.now()+2e3,t(r)&&(!c&&n&&(c=i(e,"touchmove",n,s)),u||(u=i(r.target,"touchend",y,s)),l||(l=i(r.target,"touchcancel",y,s)))},g=r=>{p>Date.now()||t(r)&&(!d&&n&&(d=i(a(e),"mousemove",n,s)),f||(f=i(a(e),"mouseup",v,s)))},y=e=>{w(),r&&r(e)},v=e=>{b(),r&&r(e)},w=()=>{c&&c(),u&&u(),l&&l(),c=u=l=void 0},b=()=>{d&&d(),f&&f(),d=f=void 0},_=()=>{w(),b()},I=(t=!0)=>{t?(o||(o=i(e,"touchstart",m,s)),h||(h=i(e,"mousedown",g,s))):(o&&o(),h&&h(),o=h=void 0,_())};return{enable:I,stop:_,destroy:()=>{I(!1),r=n=t=void 0}}})(c.el,e=>{const t=h(e);return!(n||!s)&&(l(e,_),_.startX=_.currentX,_.startY=_.currentY,_.startTime=_.currentTime=t,_.velocityX=_.velocityY=_.deltaX=_.deltaY=0,_.event=e,(!d||!1!==d(_))&&(E.release(),!!E.start()&&(n=!0,0===v?S():(I.start(_.startX,_.startY),!0))))},e=>{t?!o&&s&&(o=!0,u(_,e),requestAnimationFrame(T)):(u(_,e),I.detect(_.currentX,_.currentY)&&(I.isGesture()&&S()||N()))},A,{capture:!1,passive:w}),N=()=>{C(),x.stop(),g&&g(_)};return{enable(e=!0){e||(t&&A(void 0),C()),x.enable(e)},destroy(){E.destroy(),x.destroy()}}},u=(e,t)=>{if(!t)return;const n=e.currentX,r=e.currentY,i=e.currentTime;l(t,e);const s=e.currentX,o=e.currentY,a=(e.currentTime=h(t))-i;if(a>0&&a<100){const t=(o-r)/a;e.velocityX=(s-n)/a*.7+.3*e.velocityX,e.velocityY=.7*t+.3*e.velocityY}e.deltaX=s-e.startX,e.deltaY=o-e.startY,e.event=t},l=(e,t)=>{let n=0,r=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];n=e.clientX,r=e.clientY}else void 0!==e.pageX&&(n=e.pageX,r=e.pageY)}t.currentX=n,t.currentY=r},h=e=>e.timeStamp||Date.now()},5133:function(e,t,n){"use strict";n.d(t,{B:function(){return je},C:function(){return d},H:function(){return D},a:function(){return g},b:function(){return be},c:function(){return Ue},e:function(){return te},f:function(){return Me},g:function(){return A},h:function(){return R},i:function(){return ee},j:function(){return ue},k:function(){return _e},p:function(){return p},r:function(){return Te},s:function(){return C},w:function(){return h}});let r,i,s,o=!1,a=!1,c=!1,u=!1,l=!1;const h="undefined"!=typeof window?window:{},d=h.CSS,f=h.document||{head:{}},p={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,n,r)=>e.addEventListener(t,n,r),rel:(e,t,n,r)=>e.removeEventListener(t,n,r),ce:(e,t)=>new CustomEvent(e,t)},m=(()=>(f.head.attachShadow+"").indexOf("[native")>-1)(),g=e=>Promise.resolve(e),y=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1})(),v=(e,t,n,r)=>{n&&n.map(([n,r,i])=>{const s=b(e,n),o=w(t,i),a=_(n);p.ael(s,r,o,a),(t.$rmListeners$=t.$rmListeners$||[]).push(()=>p.rel(s,r,o,a))})},w=(e,t)=>n=>{try{256&e.$flags$?e.$lazyInstance$[t](n):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,n])}catch(r){Ce(r)}},b=(e,t)=>4&t?f:8&t?h:16&t?f.body:e,_=e=>0!=(2&e),I="http://www.w3.org/1999/xlink",E=new WeakMap,T=(e,t,n)=>{let r=Ne.get(e);y&&n?(r=r||new CSSStyleSheet,r.replace(t)):r=t,Ne.set(e,r)},S=(e,t,n,r)=>{let i=k(t,n),s=Ne.get(i);if(e=11===e.nodeType?e:f,s)if("string"==typeof s){let n,o=E.get(e=e.head||e);if(o||E.set(e,o=new Set),!o.has(i)){if(e.host&&(n=e.querySelector(`[sty-id="${i}"]`)))n.innerHTML=s;else{if(p.$cssShim$){n=p.$cssShim$.createHostStyle(r,i,s,!!(10&t.$flags$));const e=n["s-sc"];e&&(i=e,o=null)}else n=f.createElement("style"),n.innerHTML=s;e.insertBefore(n,e.querySelector("link"))}o&&o.add(i)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return i},k=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),C=e=>Re.push(e),A=e=>Ee(e).$modeName$,x={},N=e=>"object"==(e=typeof e)||"function"===e,R=(e,t,...n)=>{let r=null,i=null,s=null,o=!1,a=!1,c=[];const u=t=>{for(let n=0;n<t.length;n++)r=t[n],Array.isArray(r)?u(r):null!=r&&"boolean"!=typeof r&&((o="function"!=typeof e&&!N(r))&&(r=String(r)),o&&a?c[c.length-1].$text$+=r:c.push(o?O(null,r):r),a=o)};if(u(n),t){t.key&&(i=t.key),t.name&&(s=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter(t=>e[t]).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,c,P);const l=O(e,null);return l.$attrs$=t,c.length>0&&(l.$children$=c),l.$key$=i,l.$name$=s,l},O=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),D={},P={forEach:(e,t)=>e.map(L).forEach(t),map:(e,t)=>e.map(L).map(t).map($)},L=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),$=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),R(e.vtag,t,...e.vchildren||[])}const t=O(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},F=(e,t,n,r,i,s)=>{if(n!==r){let a=ke(e,t),c=t.toLowerCase();if("class"===t){const t=e.classList,i=U(n),s=U(r);t.remove(...i.filter(e=>e&&!s.includes(e))),t.add(...s.filter(e=>e&&!i.includes(e)))}else if("style"===t){for(const t in n)r&&null!=r[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in r)n&&r[t]===n[t]||(t.includes("-")?e.style.setProperty(t,r[t]):e.style[t]=r[t])}else if("key"===t);else if("ref"===t)r&&r(e);else if(a||"o"!==t[0]||"n"!==t[1]){const u=N(r);if((a||u&&null!==r)&&!i)try{if(e.tagName.includes("-"))e[t]=r;else{let i=null==r?"":r;"list"===t?a=!1:null!=n&&e[t]==i||(e[t]=i)}}catch(o){}let l=!1;c!==(c=c.replace(/^xlink\:?/,""))&&(t=c,l=!0),null==r||!1===r?!1===r&&""!==e.getAttribute(t)||(l?e.removeAttributeNS(I,t):e.removeAttribute(t)):(!a||4&s||i)&&!u&&(r=!0===r?"":r,l?e.setAttributeNS(I,t,r):e.setAttribute(t,r))}else t="-"===t[2]?t.slice(3):ke(h,c)?c.slice(2):c[2]+t.slice(3),n&&p.rel(e,t,n,!1),r&&p.ael(e,t,r,!1)}},M=/\s/,U=e=>e?e.split(M):[],j=(e,t,n,r)=>{const i=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||x,o=t.$attrs$||x;for(r in s)r in o||F(i,r,s[r],void 0,n,t.$flags$);for(r in o)F(i,r,s[r],o[r],n,t.$flags$)},V=(e,t,n,a)=>{let l,h,d,p=t.$children$[n],m=0;if(o||(c=!0,"slot"===p.$tag$&&(r&&a.classList.add(r+"-s"),p.$flags$|=p.$children$?2:1)),null!==p.$text$)l=p.$elm$=f.createTextNode(p.$text$);else if(1&p.$flags$)l=p.$elm$=f.createTextNode("");else{if(u||(u="svg"===p.$tag$),l=p.$elm$=f.createElementNS(u?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&p.$flags$?"slot-fb":p.$tag$),u&&"foreignObject"===p.$tag$&&(u=!1),j(null,p,u),null!=r&&l["s-si"]!==r&&l.classList.add(l["s-si"]=r),p.$children$)for(m=0;m<p.$children$.length;++m)h=V(e,p,m,l),h&&l.appendChild(h);"svg"===p.$tag$?u=!1:"foreignObject"===l.tagName&&(u=!0)}return l["s-hn"]=s,3&p.$flags$&&(l["s-sr"]=!0,l["s-cr"]=i,l["s-sn"]=p.$name$||"",d=e&&e.$children$&&e.$children$[n],d&&d.$tag$===p.$tag$&&e.$elm$&&q(e.$elm$,!1)),l},q=(e,t)=>{p.$flags$|=1;const n=e.childNodes;for(let r=n.length-1;r>=0;r--){const e=n[r];e["s-hn"]!==s&&e["s-ol"]&&(W(e).insertBefore(e,G(e)),e["s-ol"].remove(),e["s-ol"]=void 0,c=!0),t&&q(e,t)}p.$flags$&=-2},B=(e,t,n,r,i,o)=>{let a,c=e["s-cr"]&&e["s-cr"].parentNode||e;for(c.shadowRoot&&c.tagName===s&&(c=c.shadowRoot);i<=o;++i)r[i]&&(a=V(null,n,i,e),a&&(r[i].$elm$=a,c.insertBefore(a,G(t))))},z=(e,t,n,r,i)=>{for(;t<=n;++t)(r=e[t])&&(i=r.$elm$,Z(r),a=!0,i["s-ol"]?i["s-ol"].remove():q(i,!0),i.remove())},H=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),G=e=>e&&e["s-ol"]||e,W=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,K=(e,t)=>{const n=t.$elm$=e.$elm$,r=e.$children$,i=t.$children$,s=t.$tag$,o=t.$text$;let a;null===o?(u="svg"===s||"foreignObject"!==s&&u,"slot"===s||j(e,t,u),null!==r&&null!==i?((e,t,n,r)=>{let i,s,o=0,a=0,c=0,u=0,l=t.length-1,h=t[0],d=t[l],f=r.length-1,p=r[0],m=r[f];for(;o<=l&&a<=f;)if(null==h)h=t[++o];else if(null==d)d=t[--l];else if(null==p)p=r[++a];else if(null==m)m=r[--f];else if(H(h,p))K(h,p),h=t[++o],p=r[++a];else if(H(d,m))K(d,m),d=t[--l],m=r[--f];else if(H(h,m))"slot"!==h.$tag$&&"slot"!==m.$tag$||q(h.$elm$.parentNode,!1),K(h,m),e.insertBefore(h.$elm$,d.$elm$.nextSibling),h=t[++o],m=r[--f];else if(H(d,p))"slot"!==h.$tag$&&"slot"!==m.$tag$||q(d.$elm$.parentNode,!1),K(d,p),e.insertBefore(d.$elm$,h.$elm$),d=t[--l],p=r[++a];else{for(c=-1,u=o;u<=l;++u)if(t[u]&&null!==t[u].$key$&&t[u].$key$===p.$key$){c=u;break}c>=0?(s=t[c],s.$tag$!==p.$tag$?i=V(t&&t[a],n,c,e):(K(s,p),t[c]=void 0,i=s.$elm$),p=r[++a]):(i=V(t&&t[a],n,a,e),p=r[++a]),i&&W(h.$elm$).insertBefore(i,G(h.$elm$))}o>l?B(e,null==r[f+1]?null:r[f+1].$elm$,n,r,a,f):a>f&&z(t,o,l)})(n,r,t,i):null!==i?(null!==e.$text$&&(n.textContent=""),B(n,null,t,i,0,i.length-1)):null!==r&&z(r,0,r.length-1),u&&"svg"===s&&(u=!1)):(a=n["s-cr"])?a.parentNode.textContent=o:e.$text$!==o&&(n.data=o)},Y=e=>{let t,n,r,i,s,o,a=e.childNodes;for(n=0,r=a.length;n<r;n++)if(t=a[n],1===t.nodeType){if(t["s-sr"])for(s=t["s-sn"],t.hidden=!1,i=0;i<r;i++)if(o=a[i].nodeType,a[i]["s-hn"]!==t["s-hn"]||""!==s){if(1===o&&s===a[i].getAttribute("slot")){t.hidden=!0;break}}else if(1===o||3===o&&""!==a[i].textContent.trim()){t.hidden=!0;break}Y(t)}},Q=[],X=e=>{let t,n,r,i,s,o,c=0,u=e.childNodes,l=u.length;for(;c<l;c++){if(t=u[c],t["s-sr"]&&(n=t["s-cr"])&&n.parentNode)for(r=n.parentNode.childNodes,i=t["s-sn"],o=r.length-1;o>=0;o--)n=r[o],n["s-cn"]||n["s-nr"]||n["s-hn"]===t["s-hn"]||(J(n,i)?(s=Q.find(e=>e.$nodeToRelocate$===n),a=!0,n["s-sn"]=n["s-sn"]||i,s?s.$slotRefNode$=t:Q.push({$slotRefNode$:t,$nodeToRelocate$:n}),n["s-sr"]&&Q.map(e=>{J(e.$nodeToRelocate$,n["s-sn"])&&(s=Q.find(e=>e.$nodeToRelocate$===n),s&&!e.$slotRefNode$&&(e.$slotRefNode$=s.$slotRefNode$))})):Q.some(e=>e.$nodeToRelocate$===n)||Q.push({$nodeToRelocate$:n}));1===t.nodeType&&X(t)}},J=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,Z=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(Z)},ee=e=>Ee(e).$hostElement$,te=(e,t,n)=>{const r=ee(e);return{emit:e=>ne(r,t,{bubbles:!!(4&n),composed:!!(2&n),cancelable:!!(1&n),detail:e})}},ne=(e,t,n)=>{const r=p.ce(t,n);return e.dispatchEvent(r),r},re=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise(t=>e.$onRenderResolve$=t))},ie=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return re(e,e.$ancestorComponent$),Ue(()=>se(e,t));e.$flags$|=512},se=(e,t)=>{const n=e.$lazyInstance$;let r;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map(([e,t])=>he(n,e,t)),e.$queuedListeners$=null),r=he(n,"componentWillLoad")),r=de(r,()=>he(n,"componentWillRender")),de(r,()=>oe(e,n,t))},oe=async(e,t,n)=>{const r=e.$hostElement$,i=r["s-rc"];n&&(e=>{const t=e.$cmpMeta$,n=e.$hostElement$,r=t.$flags$,i=S(m&&n.shadowRoot?n.shadowRoot:n.getRootNode(),t,e.$modeName$,n);10&r&&(n["s-sc"]=i,n.classList.add(i+"-h"),2&r&&n.classList.add(i+"-s"))})(e),ae(e,t),p.$cssShim$&&p.$cssShim$.updateHost(r),i&&(i.map(e=>e()),r["s-rc"]=void 0);{const t=r["s-p"],n=()=>ce(e);0===t.length?n():(Promise.all(t).then(n),e.$flags$|=4,t.length=0)}},ae=(e,t,n)=>{try{t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const n=e.$hostElement$,u=e.$cmpMeta$,l=e.$vnode$||O(null,null),h=(d=t)&&d.$tag$===D?t:R(null,null,t);var d;if(s=n.tagName,u.$attrsToReflect$&&(h.$attrs$=h.$attrs$||{},u.$attrsToReflect$.map(([e,t])=>h.$attrs$[t]=n[e])),h.$tag$=null,h.$flags$|=4,e.$vnode$=h,h.$elm$=l.$elm$=n.shadowRoot||n,r=n["s-sc"],i=n["s-cr"],o=m&&0!=(1&u.$flags$),a=!1,K(l,h),p.$flags$|=1,c){let e,t,n,r,i,s;X(h.$elm$);let o=0;for(;o<Q.length;o++)e=Q[o],t=e.$nodeToRelocate$,t["s-ol"]||(n=f.createTextNode(""),n["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=n,t));for(o=0;o<Q.length;o++)if(e=Q[o],t=e.$nodeToRelocate$,e.$slotRefNode$){for(r=e.$slotRefNode$.parentNode,i=e.$slotRefNode$.nextSibling,n=t["s-ol"];n=n.previousSibling;)if(s=n["s-nr"],s&&s["s-sn"]===t["s-sn"]&&r===s.parentNode&&(s=s.nextSibling,!s||!s["s-nr"])){i=s;break}(!i&&r!==t.parentNode||t.nextSibling!==i)&&t!==i&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),r.insertBefore(t,i))}else 1===t.nodeType&&(t.hidden=!0)}a&&Y(h.$elm$),p.$flags$&=-2,Q.length=0})(e,t)}catch(u){Ce(u,e.$hostElement$)}return null},ce=e=>{const t=e.$hostElement$,n=e.$lazyInstance$,r=e.$ancestorComponent$;64&e.$flags$?he(n,"componentDidUpdate"):(e.$flags$|=64,fe(t),he(n,"componentDidLoad"),e.$onReadyResolve$(t),r||le()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&Fe(()=>ie(e,!1)),e.$flags$&=-517},ue=e=>{{const t=Ee(e),n=t.$hostElement$.isConnected;return n&&2==(18&t.$flags$)&&ie(t,!1),n}},le=e=>{fe(f.documentElement),Fe(()=>ne(h,"appload",{detail:{namespace:"ionic"}}))},he=(e,t,n)=>{if(e&&e[t])try{return e[t](n)}catch(r){Ce(r)}},de=(e,t)=>e&&e.then?e.then(t):t(),fe=e=>e.classList.add("hydrated"),pe=(e,t,n,r,i,s,o)=>{let a,c,u,l;if(1===s.nodeType){for(a=s.getAttribute("c-id"),a&&(c=a.split("."),c[0]!==o&&"0"!==c[0]||(u={$flags$:0,$hostId$:c[0],$nodeId$:c[1],$depth$:c[2],$index$:c[3],$tag$:s.tagName.toLowerCase(),$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},t.push(u),s.removeAttribute("c-id"),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,e=u,r&&"0"===u.$depth$&&(r[u.$index$]=u.$elm$))),l=s.childNodes.length-1;l>=0;l--)pe(e,t,n,r,i,s.childNodes[l],o);if(s.shadowRoot)for(l=s.shadowRoot.childNodes.length-1;l>=0;l--)pe(e,t,n,r,i,s.shadowRoot.childNodes[l],o)}else if(8===s.nodeType)c=s.nodeValue.split("."),c[1]!==o&&"0"!==c[1]||(a=c[0],u={$flags$:0,$hostId$:c[1],$nodeId$:c[2],$depth$:c[3],$index$:c[4],$elm$:s,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===a?(u.$elm$=s.nextSibling,u.$elm$&&3===u.$elm$.nodeType&&(u.$text$=u.$elm$.textContent,t.push(u),s.remove(),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u,r&&"0"===u.$depth$&&(r[u.$index$]=u.$elm$))):u.$hostId$===o&&("s"===a?(u.$tag$="slot",s["s-sn"]=c[5]?u.$name$=c[5]:"",s["s-sr"]=!0,r&&(u.$elm$=f.createElement(u.$tag$),u.$name$&&u.$elm$.setAttribute("name",u.$name$),s.parentNode.insertBefore(u.$elm$,s),s.remove(),"0"===u.$depth$&&(r[u.$index$]=u.$elm$)),n.push(u),e.$children$||(e.$children$=[]),e.$children$[u.$index$]=u):"r"===a&&(r?s.remove():(i["s-cr"]=s,s["s-cn"]=!0))));else if(e&&"style"===e.$tag$){const t=O(null,s.textContent);t.$elm$=s,t.$index$="0",e.$children$=[t]}},me=(e,t)=>{if(1===e.nodeType){let n=0;for(;n<e.childNodes.length;n++)me(e.childNodes[n],t);if(e.shadowRoot)for(n=0;n<e.shadowRoot.childNodes.length;n++)me(e.shadowRoot.childNodes[n],t)}else if(8===e.nodeType){const n=e.nodeValue.split(".");"o"===n[0]&&(t.set(n[1]+"."+n[2],e),e.nodeValue="",e["s-en"]=n[3])}},ge=(e,t,n)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const r=Object.entries(t.$members$),i=e.prototype;if(r.map(([e,[r]])=>{31&r||2&n&&32&r?Object.defineProperty(i,e,{get(){return t=e,Ee(this).$instanceValues$.get(t);var t},set(n){((e,t,n,r)=>{const i=Ee(this),s=i.$hostElement$,o=i.$instanceValues$.get(t),a=i.$flags$,c=i.$lazyInstance$;var u,l;if(l=r.$members$[t][0],n=null==(u=n)||N(u)?u:4&l?"false"!==u&&(""===u||!!u):2&l?parseFloat(u):1&l?String(u):u,!(8&a&&void 0!==o||n===o)&&(i.$instanceValues$.set(t,n),c)){if(r.$watchers$&&128&a){const e=r.$watchers$[t];e&&e.map(e=>{try{c[e](n,o,t)}catch(r){Ce(r,s)}})}2==(18&a)&&ie(i,!1)}})(0,e,n,t)},configurable:!0,enumerable:!0}):1&n&&64&r&&Object.defineProperty(i,e,{value(...t){const n=Ee(this);return n.$onInstancePromise$.then(()=>n.$lazyInstance$[e](...t))}})}),1&n){const n=new Map;i.attributeChangedCallback=function(e,t,r){p.jmp(()=>{const t=n.get(e);this[t]=(null!==r||"boolean"!=typeof this[t])&&r})},e.observedAttributes=r.filter(([e,t])=>15&t[0]).map(([e,r])=>{const i=r[1]||e;return n.set(i,e),512&r[0]&&t.$attrsToReflect$.push([e,i]),i})}}return e},ye=e=>{he(e,"connectedCallback")},ve=e=>{if(0==(1&p.$flags$)){const t=Ee(e),r=t.$cmpMeta$,i=()=>{};if(1&t.$flags$)v(e,t,r.$listeners$),ye(t.$lazyInstance$);else{let i;if(t.$flags$|=1,i=e.getAttribute("s-id"),i){if(m&&1&r.$flags$){const t=S(e.shadowRoot,r,e.getAttribute("s-mode"));e.classList.remove(t+"-h",t+"-s")}((e,t,n,r)=>{const i=e.shadowRoot,s=[],o=i?[]:null,a=r.$vnode$=O(t,null);p.$orgLocNodes$||me(f.body,p.$orgLocNodes$=new Map),e["s-id"]=n,e.removeAttribute("s-id"),pe(a,s,[],o,e,e,n),s.map(e=>{const n=e.$hostId$+"."+e.$nodeId$,r=p.$orgLocNodes$.get(n),s=e.$elm$;r&&m&&""===r["s-en"]&&r.parentNode.insertBefore(s,r.nextSibling),i||(s["s-hn"]=t,r&&(s["s-ol"]=r,s["s-ol"]["s-nr"]=s)),p.$orgLocNodes$.delete(n)}),i&&o.map(e=>{e&&i.appendChild(e)})})(e,r.$tagName$,i,t)}i||12&r.$flags$&&we(e);{let n=e;for(;n=n.parentNode||n.host;)if(1===n.nodeType&&n.hasAttribute("s-id")&&n["s-p"]||n["s-p"]){re(t,t.$ancestorComponent$=n);break}}r.$members$&&Object.entries(r.$members$).map(([t,[n]])=>{if(31&n&&e.hasOwnProperty(t)){const n=e[t];delete e[t],e[t]=n}}),Fe(()=>(async(e,t,r,i,s)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(s=xe(r)).then){const e=()=>{};s=await s,e()}s.isProxied||(r.$watchers$=s.watchers,ge(s,r,2),s.isProxied=!0);const e=()=>{};t.$flags$|=8;try{new s(t)}catch(c){Ce(c)}t.$flags$&=-9,t.$flags$|=128,e(),ye(t.$lazyInstance$)}if(s.style){let i=s.style;"string"!=typeof i&&(i=i[t.$modeName$=(e=>Re.map(t=>t(e)).find(e=>!!e))(e)]);const o=k(r,t.$modeName$);if(!Ne.has(o)){const e=()=>{};8&r.$flags$&&(i=await n.e(5561).then(n.bind(n,5561)).then(e=>e.scopeCss(i,o,!1))),T(o,i,!!(1&r.$flags$)),e()}}}const o=t.$ancestorComponent$,a=()=>ie(t,!0);o&&o["s-rc"]?o["s-rc"].push(a):a()})(e,t,r))}i()}},we=e=>{const t=e["s-cr"]=f.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},be=(e,t={})=>{const n=[],r=t.exclude||[],i=h.customElements,s=f.head,o=s.querySelector("meta[charset]"),a=f.createElement("style"),c=[],u=f.querySelectorAll("[sty-id]");let l,d=!0,g=0;for(Object.assign(p,t),p.$resourcesUrl$=new URL(t.resourcesUrl||"./",f.baseURI).href,p.$flags$|=2;g<u.length;g++)T(u[g].getAttribute("sty-id"),u[g].innerHTML.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),!0);e.map(e=>e[1].map(t=>{const s={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};s.$members$=t[2],s.$listeners$=t[3],s.$attrsToReflect$=[],s.$watchers$={},!m&&1&s.$flags$&&(s.$flags$|=8);const o=s.$tagName$,a=class extends HTMLElement{constructor(e){super(e),Se(e=this,s),1&s.$flags$&&(m?e.attachShadow({mode:"open",delegatesFocus:!!(16&s.$flags$)}):"shadowRoot"in e||(e.shadowRoot=e))}connectedCallback(){l&&(clearTimeout(l),l=null),d?c.push(this):p.jmp(()=>ve(this))}disconnectedCallback(){p.jmp(()=>(e=>{if(0==(1&p.$flags$)){const t=Ee(e),n=t.$lazyInstance$;t.$rmListeners$&&(t.$rmListeners$.map(e=>e()),t.$rmListeners$=void 0),p.$cssShim$&&p.$cssShim$.removeHost(e),he(n,"disconnectedCallback")}})(this))}componentOnReady(){return Ee(this).$onReadyPromise$}};s.$lazyBundleId$=e[0],r.includes(o)||i.get(o)||(n.push(o),i.define(o,ge(a,s,1)))})),a.innerHTML=n+"{visibility:hidden}.hydrated{visibility:inherit}",a.setAttribute("data-styles",""),s.insertBefore(a,o?o.nextSibling:s.firstChild),d=!1,c.length?c.map(e=>e.connectedCallback()):p.jmp(()=>l=setTimeout(le,30))},_e=e=>{const t=new URL(e,p.$resourcesUrl$);return t.origin!==h.location.origin?t.href:t.pathname},Ie=new WeakMap,Ee=e=>Ie.get(e),Te=(e,t)=>Ie.set(t.$lazyInstance$=e,t),Se=(e,t)=>{const n={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return n.$onInstancePromise$=new Promise(e=>n.$onInstanceResolve$=e),n.$onReadyPromise$=new Promise(e=>n.$onReadyResolve$=e),e["s-p"]=[],e["s-rc"]=[],v(e,n,t.$listeners$),Ie.set(e,n)},ke=(e,t)=>t in e,Ce=(e,t)=>(0,console.error)(e,t),Ae=new Map,xe=(e,t,r)=>{const i=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,o=Ae.get(s);return o?o[i]:n(863)(`./${s}.entry.js`).then(e=>(Ae.set(s,e),e[i]),Ce)},Ne=new Map,Re=[],Oe=[],De=[],Pe=(e,t)=>n=>{e.push(n),l||(l=!0,t&&4&p.$flags$?Fe($e):p.raf($e))},Le=e=>{for(let n=0;n<e.length;n++)try{e[n](performance.now())}catch(t){Ce(t)}e.length=0},$e=()=>{Le(Oe),Le(De),(l=Oe.length>0)&&p.raf($e)},Fe=e=>g().then(e),Me=Pe(Oe,!1),Ue=Pe(De,!0),je={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5614:function(e,t,n){"use strict";n.d(t,{L:function(){return s},a:function(){return o},b:function(){return a},c:function(){return c},d:function(){return u},e:function(){return T},g:function(){return C},l:function(){return I},s:function(){return S},t:function(){return l}});var r=n(5133),i=n(5392);const s="ionViewWillEnter",o="ionViewDidEnter",a="ionViewWillLeave",c="ionViewDidLeave",u="ionViewWillUnload",l=e=>new Promise((t,n)=>{(0,r.c)(()=>{h(e),d(e).then(n=>{n.animation&&n.animation.destroy(),f(e),t(n)},t=>{f(e),n(t)})})}),h=e=>{const t=e.enteringEl,n=e.leavingEl;k(t,n,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),S(t,!1),t.style.setProperty("pointer-events","none"),n&&(S(n,!1),n.style.setProperty("pointer-events","none"))},d=async e=>{const t=await p(e);return t&&r.B.isBrowser?m(t,e):g(e)},f=e=>{const t=e.enteringEl,n=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==n&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"))},p=async e=>{if(e.leavingEl&&e.animated&&0!==e.duration)return e.animationBuilder?e.animationBuilder:"ios"===e.mode?(await Promise.resolve().then(n.bind(n,7438))).iosTransitionAnimation:(await Promise.resolve().then(n.bind(n,765))).mdTransitionAnimation},m=async(e,t)=>{await y(t,!0);const n=e(t.baseEl,t);b(t.enteringEl,t.leavingEl);const r=await w(n,t);return t.progressCallback&&t.progressCallback(void 0),r&&_(t.enteringEl,t.leavingEl),{hasCompleted:r,animation:n}},g=async e=>{const t=e.enteringEl,n=e.leavingEl;return await y(e,!1),b(t,n),_(t,n),{hasCompleted:!0}},y=async(e,t)=>{const n=(void 0!==e.deepWait?e.deepWait:t)?[T(e.enteringEl),T(e.leavingEl)]:[E(e.enteringEl),E(e.leavingEl)];await Promise.all(n),await v(e.viewIsReady,e.enteringEl)},v=async(e,t)=>{e&&await e(t)},w=(e,t)=>{const n=t.progressCallback,r=new Promise(t=>{e.onFinish(e=>t(1===e))});return n?(e.progressStart(!0),n(e)):e.play(),r},b=(e,t)=>{I(t,a),I(e,s)},_=(e,t)=>{I(e,o),I(t,c)},I=(e,t)=>{if(e){const n=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(n)}},E=e=>e?new Promise(t=>(0,i.c)(e,t)):Promise.resolve(),T=async e=>{const t=e;if(t){if(null!=t.componentOnReady&&null!=await t.componentOnReady())return;await Promise.all(Array.from(t.children).map(T))}},S=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},k=(e,t,n)=>{void 0!==e&&(e.style.zIndex="back"===n?"99":"101"),void 0!==t&&(t.style.zIndex="100")},C=e=>e.classList.contains("ion-page")?e:e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||e},4973:function(e,t,n){"use strict";n.d(t,{a:function(){return s},b:function(){return b},c:function(){return v},g:function(){return i},i:function(){return _}});var r=n(5133);const i=e=>o(e),s=(e,t)=>("string"==typeof e&&(t=e,e=void 0),i(e).includes(t)),o=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=a(e),t.forEach(t=>e.document.documentElement.classList.add(`plt-${t}`))),t},a=e=>Object.keys(g).filter(t=>g[t](e)),c=e=>!!p(e,/iPad/i)||!(!p(e,/Macintosh/i)||!l(e)),u=e=>p(e,/android|sink/i),l=e=>m(e,"(any-pointer:coarse)"),h=e=>d(e)||f(e),d=e=>!!(e.cordova||e.phonegap||e.PhoneGap),f=e=>{const t=e.Capacitor;return!(!t||!t.isNative)},p=(e,t)=>t.test(e.navigator.userAgent),m=(e,t)=>e.matchMedia(t).matches,g={ipad:c,iphone:e=>p(e,/iPhone/i),ios:e=>p(e,/iPhone|iPod/i)||c(e),android:u,phablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return r>390&&r<520&&i>620&&i<800},tablet:e=>{const t=e.innerWidth,n=e.innerHeight,r=Math.min(t,n),i=Math.max(t,n);return c(e)||(e=>u(e)&&!p(e,/mobile/i))(e)||r>460&&r<820&&i>780&&i<1400},cordova:d,capacitor:f,electron:e=>p(e,/electron/i),pwa:e=>!(!e.matchMedia("(display-mode: standalone)").matches&&!e.navigator.standalone),mobile:l,mobileweb:e=>l(e)&&!h(e),desktop:e=>!l(e),hybrid:h};class y{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const n=this.m.get(e);return void 0!==n?n:t}getBoolean(e,t=!1){const n=this.m.get(e);return void 0===n?t:"string"==typeof n?"true"===n:!!n}getNumber(e,t){const n=parseFloat(this.m.get(e));return isNaN(n)?void 0!==t?t:NaN:n}set(e,t){this.m.set(e,t)}}const v=new y;let w;const b=e=>e&&(0,r.g)(e)||w,_=(e={})=>{if("undefined"==typeof window)return;const t=window.document,n=window,i=n.Ionic=n.Ionic||{};o(n);const a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem("ionic-persist-config");return null!==t?JSON.parse(t):{}}catch(t){return{}}})(n)),{persistConfig:!1}),i.config),(e=>{const t={};return e.location.search.slice(1).split("&").map(e=>e.split("=")).map(([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)]).filter(([e])=>"ionic:"===e.substr(0,"ionic:".length)).map(([e,t])=>[e.slice("ionic:".length),t]).forEach(([e,n])=>{t[e]=n}),t})(n)),e);v.reset(a),v.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem("ionic-persist-config",JSON.stringify(t))}catch(n){return}})(n,a),i.config=v,i.mode=w=v.get("mode",t.documentElement.getAttribute("mode")||(s(n,"ios")?"ios":"md")),v.set("mode",w),t.documentElement.setAttribute("mode",w),t.documentElement.classList.add(w),v.getBoolean("_testing")&&v.set("animated",!1);const c=e=>e.tagName&&e.tagName.startsWith("ION-"),u=e=>["ios","md"].includes(e);(0,r.s)(e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(u(t))return t;c(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return w})}},7438:function(e,t,n){"use strict";n.r(t),n.d(t,{iosTransitionAnimation:function(){return h},shadow:function(){return o}});var r=n(6760),i=n(5614);n(5133);const s=e=>document.querySelector(`${e}.ion-cloned-element`),o=e=>e.shadowRoot||e,a=e=>{const t="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs"),n="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=t){const e=t.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=e?e.querySelector(n):null}return e.querySelector(n)},c=(e,t)=>{const n="ION-TABS"===e.tagName?e:e.querySelector("ion-tabs");let r=[];if(null!=n){const e=n.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=e&&(r=e.querySelectorAll("ion-buttons"))}else r=e.querySelectorAll("ion-buttons");for(const i of r){const e=i.closest("ion-header"),n=e&&!e.classList.contains("header-collapse-condense-inactive"),r=i.querySelector("ion-back-button"),s=i.classList.contains("buttons-collapse"),o="start"===i.slot||""===i.slot;if(null!==r&&o&&(s&&n&&t||!s))return r}return null},u=(e,t,n,i,a,c)=>{const u=t?`calc(100% - ${c.right+4}px)`:c.left-4+"px",l=t?"7px":"-7px",h=t?"-4px":"4px",d=t?"-4px":"4px",f=t?"right":"left",p=t?"left":"right",m=n?[{offset:0,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${l}, ${a.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${l}, ${a.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${h}, ${c.top-46}px, 0) scale(1)`}],g=n?[{offset:0,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${d}, ${c.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${d}, ${c.top-46}px, 0) scale(1)`}],y=(0,r.c)(),v=(0,r.c)(),w=s("ion-back-button"),b=o(w).querySelector(".button-text"),_=o(w).querySelector("ion-icon");w.text=i.text,w.mode=i.mode,w.icon=i.icon,w.color=i.color,w.disabled=i.disabled,w.style.setProperty("display","block"),w.style.setProperty("position","fixed"),v.addElement(_),y.addElement(b),y.beforeStyles({"transform-origin":`${f} center`}).beforeAddWrite(()=>{i.style.setProperty("display","none"),w.style.setProperty(f,u)}).afterAddWrite(()=>{i.style.setProperty("display",""),w.style.setProperty("display","none"),w.style.removeProperty(f)}).keyframes(m),v.beforeStyles({"transform-origin":`${p} center`}).keyframes(g),e.addAnimation([y,v])},l=(e,t,n,i,o,a)=>{const c=t?`calc(100% - ${o.right}px)`:`${o.left}px`,u=t?"-18px":"18px",l=t?"right":"left",h=n?[{offset:0,opacity:0,transform:`translate3d(${u}, ${a.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${o.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${u}, ${a.top-4}px, 0) scale(0.5)`}],d=s("ion-title"),f=(0,r.c)();d.innerText=i.innerText,d.size=i.size,d.color=i.color,f.addElement(d),f.beforeStyles({"transform-origin":`${l} center`,height:"46px",display:"",position:"relative",[l]:c}).beforeAddWrite(()=>{i.style.setProperty("display","none")}).afterAddWrite(()=>{i.style.setProperty("display",""),d.style.setProperty("display","none")}).keyframes(h),e.addAnimation(f)},h=(e,t)=>{try{const n="cubic-bezier(0.32,0.72,0,1)",s="opacity",h="transform",d="0%",f=.8,p="rtl"===e.ownerDocument.dir,m=p?"-99.5%":"99.5%",g=p?"33%":"-33%",y=t.enteringEl,v=t.leavingEl,w="back"===t.direction,b=y.querySelector(":scope > ion-content"),_=y.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),I=y.querySelectorAll(":scope > ion-header > ion-toolbar"),E=(0,r.c)(),T=(0,r.c)();if(E.addElement(y).duration(t.duration||540).easing(t.easing||n).fill("both").beforeRemoveClass("ion-page-invisible"),v&&e){const t=(0,r.c)();t.addElement(e),E.addAnimation(t)}if(b||0!==I.length||0!==_.length?(T.addElement(b),T.addElement(_)):T.addElement(y.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),E.addAnimation(T),w?T.beforeClearStyles([s]).fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(s,f,1):T.beforeClearStyles([s]).fromTo("transform",`translateX(${m})`,`translateX(${d})`),b){const e=o(b).querySelector(".transition-effect");if(e){const t=e.querySelector(".transition-cover"),n=e.querySelector(".transition-shadow"),i=(0,r.c)(),o=(0,r.c)(),a=(0,r.c)();i.addElement(e).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),o.addElement(t).beforeClearStyles([s]).fromTo(s,0,.1),a.addElement(n).beforeClearStyles([s]).fromTo(s,.03,.7),i.addAnimation([o,a]),T.addAnimation([i])}}const S=y.querySelector("ion-header.header-collapse-condense"),{forward:k,backward:C}=((e,t,n,r,i)=>{const s=c(r,n),o=a(i),h=a(r),d=c(i,n),f=null!==s&&null!==o&&!n,p=null!==h&&null!==d&&n;if(f){const r=o.getBoundingClientRect(),i=s.getBoundingClientRect();l(e,t,n,o,r,i),u(e,t,n,s,r,i)}else if(p){const r=h.getBoundingClientRect(),i=d.getBoundingClientRect();l(e,t,n,h,r,i),u(e,t,n,d,r,i)}return{forward:f,backward:p}})(E,p,w,y,v);if(I.forEach(e=>{const t=(0,r.c)();t.addElement(e),E.addAnimation(t);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const i=(0,r.c)(),a=Array.from(e.querySelectorAll("ion-buttons,[menuToggle]")),c=e.closest("ion-header"),u=c&&c.classList.contains("header-collapse-condense-inactive");let l;l=a.filter(w?e=>{const t=e.classList.contains("buttons-collapse");return t&&!u||!t}:e=>!e.classList.contains("buttons-collapse")),i.addElement(l);const h=(0,r.c)();h.addElement(e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const f=(0,r.c)();f.addElement(o(e).querySelector(".toolbar-background"));const y=(0,r.c)(),v=e.querySelector("ion-back-button");if(v&&y.addElement(v),t.addAnimation([n,i,h,f,y]),i.fromTo(s,.01,1),h.fromTo(s,.01,1),w)u||n.fromTo("transform",`translateX(${g})`,`translateX(${d})`).fromTo(s,.01,1),h.fromTo("transform",`translateX(${g})`,`translateX(${d})`),y.fromTo(s,.01,1);else if(S||n.fromTo("transform",`translateX(${m})`,`translateX(${d})`).fromTo(s,.01,1),h.fromTo("transform",`translateX(${m})`,`translateX(${d})`),f.beforeClearStyles([s,"transform"]),(null==c?void 0:c.translucent)?f.fromTo("transform",p?"translateX(-100%)":"translateX(100%)","translateX(0px)"):f.fromTo(s,.01,"var(--opacity)"),k||y.fromTo(s,.01,1),v&&!k){const e=(0,r.c)();e.addElement(o(v).querySelector(".button-text")).fromTo("transform",p?"translateX(-100px)":"translateX(100px)","translateX(0px)"),t.addAnimation(e)}}),v){const e=(0,r.c)(),t=v.querySelector(":scope > ion-content"),n=v.querySelectorAll(":scope > ion-header > ion-toolbar"),a=v.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(t||0!==n.length||0!==a.length?(e.addElement(t),e.addElement(a)):e.addElement(v.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),E.addAnimation(e),w){e.beforeClearStyles([s]).fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)");const t=(0,i.g)(v);E.afterAddWrite(()=>{"normal"===E.getDirection()&&t.style.setProperty("display","none")})}else e.fromTo("transform",`translateX(${d})`,`translateX(${g})`).fromTo(s,1,f);if(t){const n=o(t).querySelector(".transition-effect");if(n){const t=n.querySelector(".transition-cover"),i=n.querySelector(".transition-shadow"),o=(0,r.c)(),a=(0,r.c)(),c=(0,r.c)();o.addElement(n).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),a.addElement(t).beforeClearStyles([s]).fromTo(s,.1,0),c.addElement(i).beforeClearStyles([s]).fromTo(s,.7,.03),o.addAnimation([a,c]),e.addAnimation([o])}}n.forEach(e=>{const t=(0,r.c)();t.addElement(e);const n=(0,r.c)();n.addElement(e.querySelector("ion-title"));const i=(0,r.c)(),a=e.querySelectorAll("ion-buttons,[menuToggle]"),c=e.closest("ion-header"),u=c&&c.classList.contains("header-collapse-condense-inactive"),l=Array.from(a).filter(e=>{const t=e.classList.contains("buttons-collapse");return t&&!u||!t});i.addElement(l);const f=(0,r.c)(),m=e.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");m.length>0&&f.addElement(m);const y=(0,r.c)();y.addElement(o(e).querySelector(".toolbar-background"));const v=(0,r.c)(),b=e.querySelector("ion-back-button");if(b&&v.addElement(b),t.addAnimation([n,i,f,v,y]),E.addAnimation(t),v.fromTo(s,.99,0),i.fromTo(s,.99,0),f.fromTo(s,.99,0),w){if(u||n.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)").fromTo(s,.99,0),f.fromTo("transform",`translateX(${d})`,p?"translateX(-100%)":"translateX(100%)"),y.beforeClearStyles([s,"transform"]),(null==c?void 0:c.translucent)?y.fromTo("transform","translateX(0px)",p?"translateX(-100%)":"translateX(100%)"):y.fromTo(s,"var(--opacity)",0),b&&!C){const e=(0,r.c)();e.addElement(o(b).querySelector(".button-text")).fromTo("transform",`translateX(${d})`,`translateX(${(p?-124:124)+"px"})`),t.addAnimation(e)}}else u||n.fromTo("transform",`translateX(${d})`,`translateX(${g})`).fromTo(s,.99,0).afterClearStyles([h,s]),f.fromTo("transform",`translateX(${d})`,`translateX(${g})`).afterClearStyles([h,s]),v.afterClearStyles([s]),n.afterClearStyles([s]),i.afterClearStyles([s])})}return E}catch(n){throw n}}},765:function(e,t,n){"use strict";n.r(t),n.d(t,{mdTransitionAnimation:function(){return s}});var r=n(6760),i=n(5614);n(5133);const s=(e,t)=>{const n="back"===t.direction,s=t.leavingEl,o=(0,i.g)(t.enteringEl),a=o.querySelector("ion-toolbar"),c=(0,r.c)();if(c.addElement(o).fill("both").beforeRemoveClass("ion-page-invisible"),n?c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):c.duration(t.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),a){const e=(0,r.c)();e.addElement(a),c.addAnimation(e)}if(s&&n){c.duration(t.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const e=(0,r.c)();e.addElement((0,i.g)(s)).onFinish(t=>{1===t&&e.elements.length>0&&e.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),c.addAnimation(e)}return c}},1092:function(e,t,n){"use strict";n.d(t,{B:function(){return P},a:function(){return u},b:function(){return l},c:function(){return p},d:function(){return T},e:function(){return g},f:function(){return k},g:function(){return x},h:function(){return a},i:function(){return R},l:function(){return h},m:function(){return d},p:function(){return f},s:function(){return D},t:function(){return m}});var r=n(4973),i=n(8876),s=n(5392);let o=0;const a=new WeakMap,c=e=>({create:t=>y(e,t),dismiss:(t,n,r)=>_(document,t,n,e,r),getTop:async()=>I(document,e)}),u=c("ion-alert"),l=c("ion-action-sheet"),h=c("ion-loading"),d=c("ion-modal"),f=c("ion-picker"),p=c("ion-popover"),m=c("ion-toast"),g=e=>{"undefined"!=typeof document&&b(document);const t=o++;e.overlayIndex=t,e.hasAttribute("id")||(e.id=`ion-overlay-${t}`)},y=(e,t)=>"undefined"!=typeof customElements?customElements.whenDefined(e).then(()=>{const n=document.createElement(e);return n.classList.add("overlay-hidden"),Object.assign(n,t),C(document).appendChild(n),new Promise(e=>(0,s.c)(n,e))}):Promise.resolve(),v='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',w="input:not([type=hidden]), textarea, button, select",b=e=>{0===o&&(o=1,e.addEventListener("focus",t=>((e,t)=>{const n=I(t),r=e.target;if(n&&r)if(n===r)n.lastFocus=void 0;else{const e=(0,s.g)(n);if(!e.contains(r))return;const i=e.querySelector(".ion-overlay-wrapper");if(!i)return;if(i.contains(r))n.lastFocus=r;else{const e=n.lastFocus;((e,t)=>{let n=e.querySelector(v);const r=n&&n.shadowRoot;r&&(n=r.querySelector(w)||n),n?n.focus():t.focus()})(i,n),e===t.activeElement&&((e,t)=>{const n=Array.from(e.querySelectorAll(v));let r=n.length>0?n[n.length-1]:null;const i=r&&r.shadowRoot;i&&(r=i.querySelector(w)||r),r?r.focus():t.focus()})(i,n),n.lastFocus=t.activeElement}}})(t,e),!0),e.addEventListener("ionBackButton",t=>{const n=I(e);n&&n.backdropDismiss&&t.detail.register(i.OVERLAY_BACK_BUTTON_PRIORITY,()=>n.dismiss(void 0,P))}),e.addEventListener("keyup",t=>{if("Escape"===t.key){const t=I(e);t&&t.backdropDismiss&&t.dismiss(void 0,P)}}))},_=(e,t,n,r,i)=>{const s=I(e,r,i);return s?s.dismiss(t,n):Promise.reject("overlay does not exist")},I=(e,t,n)=>{const r=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter(e=>e.overlayIndex>0)))(e,t);return void 0===n?r[r.length-1]:r.find(e=>e.id===n)},E=(e=!1)=>{const t=C(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},T=async(e,t,n,i,s)=>{if(e.presented)return;E(!0),e.presented=!0,e.willPresent.emit();const o=(0,r.b)(e),a=e.enterAnimation?e.enterAnimation:r.c.get(t,"ios"===o?n:i);await A(e,a,e.el,s)&&e.didPresent.emit(),"ION-TOAST"!==e.el.tagName&&S(e.el),e.keyboardClose&&e.el.focus()},S=async e=>{let t=document.activeElement;if(!t)return;const n=t&&t.shadowRoot;n&&(t=n.querySelector(w)||t),await e.onDidDismiss(),t.focus()},k=async(e,t,n,i,s,o,c)=>{if(!e.presented)return!1;E(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:n});const u=(0,r.b)(e),l=e.leaveAnimation?e.leaveAnimation:r.c.get(i,"ios"===u?s:o);"gesture"!==n&&await A(e,l,e.el,c),e.didDismiss.emit({data:t,role:n}),a.delete(e)}catch(u){console.error(u)}return e.el.remove(),!0},C=e=>e.querySelector("ion-app")||e.body,A=async(e,t,n,i)=>{n.classList.remove("overlay-hidden");const s=t(n.shadowRoot||e.el,i);e.animated&&r.c.getBoolean("animated",!0)||s.duration(0),e.keyboardClose&&s.beforeAddWrite(()=>{const e=n.ownerDocument.activeElement;e&&e.matches("input, ion-input, ion-textarea")&&e.blur()});const o=a.get(e)||[];return a.set(e,[...o,s]),await s.play(),!0},x=(e,t)=>{let n;const r=new Promise(e=>n=e);return N(e,t,e=>{n(e.detail)}),r},N=(e,t,n)=>{const r=i=>{(0,s.b)(e,t,r),n(i)};(0,s.a)(e,t,r)},R=e=>"cancel"===e||e===P,O=e=>e(),D=(e,t)=>{if("function"==typeof e)return r.c.get("_zoneGate",O)(()=>{try{return e(t)}catch(n){console.error(n)}})},P="backdrop"},2837:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(3106);r.Z.registerVersion("firebase","9.1.0","app-compat")},4460:function(e,t,n){"use strict";n.r(t);var r=n(3106),i=n(9870),s=n(3477),o=n(1855),a=n(2965),c=n(1605);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},l=new i.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),h=new a.Yd("@firebase/auth");function d(e,...t){h.logLevel<=a.in.ERROR&&h.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}function f(e,...t){throw y(e,...t)}function p(e,...t){return y(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new i.LL("auth","Firebase",r).create(t,{appName:e.name})}function g(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&f(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return l.create(e,...t)}function v(e,t,...n){if(!e)throw y(t,...n)}function w(e){const t="INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function b(e,t){e||w(t)}const _=new Map;function I(e){b(e instanceof Function,"Expected a class definition");let t=_.get(e);return t?(b(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,_.set(e,t),t)}function E(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===S()||"https:"===S()}function S(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class k{constructor(e,t){this.shortDelay=e,this.longDelay=t,b(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(T()||(0,i.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function C(e,t){b(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class A{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const x={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},N=new k(3e4,6e4);function R(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function O(e,t,n,r,s={}){return D(e,s,()=>{let s={},o={};r&&("GET"===t?o=r:s={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},o)).slice(1),c=new(A.headers());return c.set("Content-Type","application/json"),c.set("X-Client-Version",e._getSdkClientVersion()),e.languageCode&&c.set("X-Firebase-Locale",e.languageCode),A.fetch()(L(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},s))})}async function D(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},x),t);try{const t=new $(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw F(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw F(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw F(e,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw m(e,a,o);f(e,a)}}catch(s){if(s instanceof i.ZR)throw s;f(e,"network-request-failed")}}async function P(e,t,n,r,i={}){const s=await O(e,t,n,r,i);return"mfaPendingCredential"in s&&f(e,"multi-factor-auth-required",{serverResponse:s}),s}function L(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?C(e.config,i):`${e.config.apiScheme}://${i}`}class ${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(p(this.auth,"timeout")),N.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function F(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=p(e,t,r);return i.customData._tokenResponse=n,i}function M(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function U(e){return 1e3*Number(e)}function j(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(n);return e?JSON.parse(e):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",s),null}}async function V(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof i.ZR&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}class q{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&this.schedule(!0))}this.schedule()}}class B{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=M(this.lastLoginAt),this.creationTime=M(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function z(e){var t;const n=e.auth,r=await e.getIdToken(),i=await V(e,async function(e,t){return O(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));v(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=(0,o._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[],c=(u=a,[...e.providerData.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var u;const l=!!e.isAnonymous&&!(e.email&&s.passwordHash||(null==c?void 0:c.length)),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new B(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(e,h)}class H{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(void 0!==e.idToken,"internal-error"),v(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=j(e);return v(t,"internal-error"),v(void 0!==t.exp,"internal-error"),v(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return v(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await D(e,{},()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=L(e,r,"/v1/token",`key=${s}`);return A.fetch()(o,{method:"POST",headers:{"X-Client-Version":e._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new H;return n&&(v("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(v("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(v("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new H,this.toJSON())}_performRefresh(){return w("not implemented")}}function G(e,t){v("string"==typeof e||void 0===e,"internal-error",{appName:t})}class W{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,o._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new q(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.metadata=new B(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await V(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=(0,i.m9)(e),r=await n.getIdToken(t),s=j(r);v(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"==typeof s.firebase?s.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:M(U(s.auth_time)),issuedAtTime:M(U(s.iat)),expirationTime:M(U(s.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=(0,i.m9)(e);await z(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new W(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await z(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await V(this,async function(e,t){return O(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,u;const l=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:w,emailVerified:b,isAnonymous:_,providerData:I,stsTokenManager:E}=t;v(w&&E,e,"internal-error");const T=H.fromJSON(this.name,E);v("string"==typeof w,e,"internal-error"),G(l,e.name),G(h,e.name),v("boolean"==typeof b,e,"internal-error"),v("boolean"==typeof _,e,"internal-error"),G(d,e.name),G(f,e.name),G(p,e.name),G(m,e.name),G(g,e.name),G(y,e.name);const S=new W({uid:w,auth:e,email:h,emailVerified:b,displayName:l,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(S.providerData=I.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){const r=new H;r.updateFromServerResponse(t);const i=new W({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await z(i),i}}const K=(()=>{class e{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function Y(e,t,n){return`firebase:${e}:${t}:${n}`}class Q{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Y(this.userKey,r.apiKey,i),this.fullPersistenceKey=Y("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?W._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Q(I(K),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||I(K);const s=Y(n,e.config.apiKey,e.name);let o=null;for(const u of t)try{const t=await u._get(s);if(t){const n=W._fromJSON(e,t);u!==i&&(o=n),i=u;break}}catch(c){}const a=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(c){}})),new Q(i,e,n)):new Q(i,e,n)}}function X(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(te(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(re(t))return"Blackberry";if(ie(t))return"Webos";if(Z(t))return"Safari";if((t.includes("chrome/")||ee(t))&&!t.includes("edge/"))return"Chrome";if(ne(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function J(e=(0,i.z$)()){return/firefox\//i.test(e)}function Z(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ee(e=(0,i.z$)()){return/crios\//i.test(e)}function te(e=(0,i.z$)()){return/iemobile/i.test(e)}function ne(e=(0,i.z$)()){return/android/i.test(e)}function re(e=(0,i.z$)()){return/blackberry/i.test(e)}function ie(e=(0,i.z$)()){return/webos/i.test(e)}function se(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)}function oe(e=(0,i.z$)()){return se(e)||ne(e)||ie(e)||re(e)||/windows phone/i.test(e)||te(e)}function ae(e,t=[]){let n;switch(e){case"Browser":n=X((0,i.z$)());break;case"Worker":n=`${X((0,i.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class ce{constructor(e,t){this.app=e,this.config=t,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new le(this),this.idTokenSubscription=new le(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=t.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=I(t)),this._initializationPromise=this.queue(async()=>{var n;this._deleted||(this.persistenceManager=await Q.create(this,e),this._deleted||((null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)&&await this._popupRedirectResolver._initialize(this),await this.initializeCurrentUser(t),this._deleted||(this._isInitialized=!0)))}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e)):void 0}async initializeCurrentUser(e){var t;let n=await this.assertedPersistence.getCurrentUser();if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null==n?void 0:n._redirectEventId,s=await this.tryRedirectSignIn(e);r&&r!==i||!(null==s?void 0:s.user)||(n=s.user)}return n?n._redirectEventId?(v(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)):this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await z(e)}catch(t){if("auth/network-request-failed"!==t.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.m9)(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(I(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&I(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=await Q.create(this,[I(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return v(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ae(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function ue(e){return(0,i.m9)(e)}class le{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)(e=>this.observer=e)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function he(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function de(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class fe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return w("not implemented")}_getIdTokenResponse(e){return w("not implemented")}_linkToIdToken(e,t){return w("not implemented")}_getReauthenticationResolver(e){return w("not implemented")}}async function pe(e,t){return O(e,"POST","/v1/accounts:resetPassword",R(e,t))}async function me(e,t){return O(e,"POST","/v1/accounts:update",t)}async function ge(e,t){return O(e,"POST","/v1/accounts:sendOobCode",R(e,t))}class ye extends fe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ye(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new ye(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPassword",R(e,t))}(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))}(e,{email:this._email,oobCode:this._password});default:f(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return me(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return P(e,"POST","/v1/accounts:signInWithEmailLink",R(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:f(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ve(e,t){return P(e,"POST","/v1/accounts:signInWithIdp",R(e,t))}class we extends fe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new we(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):f("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,o._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new we(n,r);return Object.assign(s,i),s}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.xO)(t)}return e}}const be={USER_NOT_FOUND:"user-not-found"};class _e extends fe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _e({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _e({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await P(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,t));if(n.temporaryProof)throw F(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return P(e,"POST","/v1/accounts:signInWithPhoneNumber",R(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),be)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new _e({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Ie{constructor(e){var t,n,r,s,o,a;const c=(0,i.zd)((0,i.pd)(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);v(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,i.zd)((0,i.pd)(e)).link,n=t?(0,i.zd)((0,i.pd)(t)).deep_link_id:null,r=(0,i.zd)((0,i.pd)(e)).deep_link_id;return(r?(0,i.zd)((0,i.pd)(r)).link:null)||r||n||t||e}(e);try{return new Ie(t)}catch(n){return null}}}let Ee=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return ye._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Ie.parseLink(t);return v(n,"argument-error"),ye._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Te{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Se extends Te{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ke extends Se{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return v("providerId"in t&&"signInMethod"in t,"argument-error"),we._fromParams(t)}credential(e){return this._credential(e)}_credential(e){return v(e.idToken||e.accessToken,"argument-error"),we._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return ke.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return ke.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=e;if(!(n||r||t||i))return null;if(!o)return null;try{return new ke(o)._credential({idToken:t,accessToken:n,rawNonce:s,pendingToken:i})}catch(a){return null}}}let Ce=(()=>{class e extends Se{constructor(){super("facebook.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),Ae=(()=>{class e extends Se{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),xe=(()=>{class e extends Se{constructor(){super("github.com")}static credential(t){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class Ne extends fe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ve(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ve(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ve(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Ne(n,i):null}static _create(e,t){return new Ne(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Re=(()=>{class e extends Se{constructor(){super("twitter.com")}static credential(t,n){return we._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();async function Oe(e,t){return P(e,"POST","/v1/accounts:signUp",R(e,t))}class De{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await W._fromIdTokenResponse(e,n,r),s=Pe(n);return new De({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pe(n);return new De({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pe(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Le extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),this.appName=e.name,this.code=t.code,this.tenantId=null!==(i=e.tenantId)&&void 0!==i?i:void 0,this.serverResponse=t.customData.serverResponse}static _fromErrorAndOperation(e,t,n,r){return new Le(e,t,n,r)}}function $e(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Le._fromErrorAndOperation(e,n,t,r);throw n})}function Fe(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}async function Me(e,t,n=!1){const r=await V(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return De._forOperation(e,"link",r)}async function Ue(e,t,n){await z(t);const r=!1===e?"provider-already-linked":"no-such-provider";v(Fe(t.providerData).has(n)===e,t.auth,r)}async function je(e,t,n=!1){const{auth:r}=e;try{const i=await V(e,$e(r,"reauthenticate",t,e),n);v(i.idToken,r,"internal-error");const s=j(i.idToken);v(s,r,"internal-error");const{sub:o}=s;return v(e.uid===o,r,"user-mismatch"),De._forOperation(e,"reauthenticate",i)}catch(i){throw"auth/user-not-found"===(null==i?void 0:i.code)&&f(r,"user-mismatch"),i}}async function Ve(e,t,n=!1){const r=await $e(e,"signIn",t),i=await De._fromIdTokenResponse(e,"signIn",r);return n||await e._updateCurrentUser(i.user),i}async function qe(e,t){return Ve(ue(e),t)}async function Be(e,t){const n=(0,i.m9)(e);return await Ue(!1,n,t.providerId),Me(n,t)}async function ze(e,t){return je((0,i.m9)(e),t)}class He{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Ge._fromServerResponse(e,t):f(e,"internal-error")}}class Ge extends He{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Ge(t)}}function We(e,t,n){var r;v((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),v(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(v(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iosBundleId=n.iOS.bundleId),n.android&&(v(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ke(e,t){const n=(0,i.m9)(e),r=await pe(n,{oobCode:t}),s=r.requestType;switch(v(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":v(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":v(r.mfaInfo,n,"internal-error");default:v(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=He._fromServerResponse(ue(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:s}}async function Ye(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await V(e,me(r,i));await e._updateTokensIfNecessary(s,!0)}class Qe{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class Xe extends Qe{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Je extends Qe{constructor(e,t){super(e,"facebook.com",t)}}class Ze extends Xe{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class et extends Qe{constructor(e,t){super(e,"google.com",t)}}class tt extends Xe{constructor(e,t,n){super(e,"twitter.com",t,n)}}function nt(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=j(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Qe(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Je(s,i);case"github.com":return new Ze(s,i);case"google.com":return new et(s,i);case"twitter.com":return new tt(s,i,e.screenName||null);case"custom":case"anonymous":return new Qe(s,null);default:return new Qe(s,r,i)}}(n)}class rt{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new rt("enroll",e)}static _fromMfaPendingCredential(e){return new rt("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return rt._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return rt._fromIdtoken(e.multiFactorSession.idToken)}return null}}class it{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=ue(e),r=(t.serverResponse.mfaInfo||[]).map(e=>He._fromServerResponse(n,e));v(t.serverResponse.mfaPendingCredential,n,"internal-error");const i=rt._fromMfaPendingCredential(t.serverResponse.mfaPendingCredential);return new it(i,r,async e=>{const r=await e._process(n,i);delete t.serverResponse.mfaInfo,delete t.serverResponse.mfaPendingCredential;const s=Object.assign(Object.assign({},t.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=await De._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return v(t.user,n,"internal-error"),De._forOperation(t.user,t.operationType,s);default:f(n,"internal-error")}})}async resolveSignIn(e){return this.signInResolver(e)}}class st{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>He._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new st(e)}async getSession(){return rt._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await V(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"==typeof e?e:e.uid,n=await this.user.getIdToken(),r=await V(this.user,(i=this.user.auth,s={idToken:n,mfaEnrollmentId:t},O(i,"POST","/v2/accounts/mfaEnrollment:withdraw",R(i,s))));var i,s;this.enrolledFactors=this.enrolledFactors.filter(({uid:e})=>e!==t),await this.user._updateTokensIfNecessary(r);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==o.code)throw o}}}const ot=new WeakMap;class at{constructor(e,t){this.storage=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}}const ct=(()=>{class e extends at{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,i.z$)();return Z(e)||se(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=oe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.w1)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}return e.type="LOCAL",e})(),ut=(()=>{class e extends at{constructor(){super(window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let lt=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map(async e=>e(t.origin,i)),a=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function ht(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class dt{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((o,a)=>{const c=ht("",20);r.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function ft(){return window}function pt(){return void 0!==ft().WorkerGlobalScope&&"function"==typeof ft().importScripts}const mt="firebaseLocalStorageDb";class gt{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yt(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function vt(){const e=indexedDB.open(mt,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains("firebaseLocalStorage")?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(mt);return new gt(e).toPromise()}(),t(await vt()))})})}async function wt(e,t,n){const r=yt(e,!0).put({fbase_key:t,value:n});return new gt(r).toPromise()}function bt(e,t){const n=yt(e,!0).delete(t);return new gt(n).toPromise()}const _t=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await vt()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pt()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lt._getInstance(pt()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new dt(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vt();return await wt(e,"__sak","1"),await bt(e,"__sak"),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>wt(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=yt(e,!1).get(t),r=await new gt(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>bt(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=yt(e,!1).getAll();return new gt(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function It(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,s;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=p("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(s=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==s?s:document).appendChild(r)})}function Et(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Tt{constructor(e){this.auth=e,this.counter=1e12,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new St(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||1e12;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||1e12))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;return null===(t=this._widgets.get(e||1e12))||void 0===t||t.execute(),""}}class St{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;v(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kt=Et("rcb"),Ct=new k(3e4,6e4);class At{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ft().grecaptcha}load(e,t=""){return v(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(ft().grecaptcha):new Promise((n,r)=>{const s=ft().setTimeout(()=>{r(p(e,"network-request-failed"))},Ct.get());ft()[kt]=()=>{ft().clearTimeout(s),delete ft()[kt];const i=ft().grecaptcha;if(!i)return void r(p(e,"internal-error"));const o=i.render;i.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(i)},It(`https://www.google.com/recaptcha/api.js??${(0,i.xO)({onload:kt,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),r(p(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!ft().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class xt{async load(e){return new Tt(e)}clearedOneInstance(){}}const Nt={theme:"light",type:"image"};class Rt{constructor(e,t=Object.assign({},Nt),n){this.parameters=t,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ue(n),this.isInvisible="invisible"===this.parameters.size,v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;v(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xt:new At,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha();return t.getResponse(e)||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){v(!this.parameters.sitekey,this.auth,"argument-error"),v(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),v("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=ft()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){v(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){v(T()&&!pt(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await O(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);v(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return v(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ot{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_e._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Dt(e,t,n){var r;const i=await n.verify();try{let s;if(v("string"==typeof i,e,"argument-error"),v("recaptcha"===n.type,e,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s)return v("enroll"===t.type,e,"internal-error"),(await function(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:start",R(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{v("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return v(n,e,"missing-multi-factor-info"),(await function(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:start",R(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return O(e,"POST","/v1/accounts:sendVerificationCode",R(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}let Pt=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ue(t)}verifyPhoneNumber(e,t){return Dt(this.auth,e,(0,i.m9)(t))}static credential(e,t){return _e._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?_e._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function Lt(e,t){return t?I(t):(v(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class $t extends fe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ve(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ve(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ve(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ft(e){return Ve(e.auth,new $t(e),e.bypassAuthState)}function Mt(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),je(n,new $t(e),e.bypassAuthState)}async function Ut(e){const{auth:t,user:n}=e;return v(n,t,"internal-error"),Me(n,new $t(e),e.bypassAuthState)}class jt{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ft;case"linkViaPopup":case"linkViaRedirect":return Ut;case"reauthViaPopup":case"reauthViaRedirect":return Mt;default:f(this.auth,"internal-error")}}resolve(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){b(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vt=new k(2e3,1e4);let qt=(()=>{class e extends jt{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return v(e,this.auth,"internal-error"),e}async onExecution(){b(1===this.filter.length,"Popup operations only handle one event");const e=ht();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(p(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Vt.get())};e()}}return e.currentPopupAction=null,e})();const Bt=new Map;class zt extends jt{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Bt.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Wt(t),r="true"===await Gt(e)._get(n);return await Gt(e)._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Bt.set(this.auth._key(),e)}return e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ht(e,t){return Gt(e)._set(Wt(t),"true")}function Gt(e){return I(e._redirectPersistence)}function Wt(e){return Y("pendingRedirect",e.config.apiKey,e.name)}async function Kt(e,t,n=!1){const r=ue(e),i=Lt(r,t),s=new zt(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Yt(e){const t=ht(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Qt{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jt(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Jt(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(p(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xt(e))}saveEventToCache(e){this.cachedEventUids.add(Xt(e)),this.lastProcessedEventTime=Date.now()}}function Xt(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Jt({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}async function Zt(e,t={}){return O(e,"GET","/v1/projects",t)}const en=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tn=/^https?/;function nn(e){const t=E(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!tn.test(n))return!1;if(en.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rn=new k(3e4,6e4);function sn(){const e=ft().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let on=null;function an(e){return on=on||function(e){return new Promise((t,n)=>{var r,i,s;function o(){sn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sn(),n(p(e,"network-request-failed"))},timeout:rn.get()})}if(null===(i=null===(r=ft().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ft().gapi)||void 0===s?void 0:s.load)){const t=Et("iframefcb");return ft()[t]=()=>{gapi.load?o():n(p(e,"network-request-failed"))},It(`https://apis.google.com/js/api.js?onload=${t}`)}o()}}).catch(e=>{throw on=null,e})}(e),on}const cn=new k(5e3,15e3),un={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ln=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hn(e){const t=e.config;v(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?C(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:s.SDK_VERSION},o=ln.get(e.config.apiHost);o&&(r.eid=o);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}const dn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fn{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function pn(e,t,n,r,o,a){v(e.config.authDomain,e,"auth-domain-config-required"),v(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:o};if(t instanceof Te){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof Se){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const u=c;for(const i of Object.keys(u))void 0===u[i]&&delete u[i];return`${function({config:e}){return e.emulator?C(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,i.xO)(u).slice(1)}`}class mn extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new mn(e)}_finalizeEnroll(e,t,n){return function(e,t){return O(e,"POST","/v2/accounts/mfaEnrollment:finalize",R(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return O(e,"POST","/v2/accounts/mfaSignIn:finalize",R(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gn=(()=>{class e{constructor(){}static assertion(e){return mn._fromCredential(e)}}return e.FACTOR_ID="phone",e})();class yn{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vn(){return window}(0,s._registerComponent)(new c.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(e=>{v(r&&!r.includes(":"),"invalid-api-key",{appName:e.name}),v(!(null==i?void 0:i.includes(":")),"argument-error",{appName:e.name});const n={apiKey:r,authDomain:i,clientPlatform:"Browser",apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ae("Browser")},s=new ce(e,n);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(I);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new c.wA("auth-internal",e=>{return t=ue(e.getProvider("auth").getImmediate()),new yn(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)("@firebase/auth","0.18.0",void 0);class wn extends Qt{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}async function bn(e){const t=await In()._get(En(e));return t&&await In()._remove(En(e)),t}function _n(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function In(){return I(ct)}function En(e){return Y("authEvent",e.config.apiKey,e.name)}function Tn(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,i.zd)(n.join("?"))}function Sn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:p("no-auth-event")}}function kn(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Cn(e=(0,i.z$)()){return!("file:"!==kn()&&"ionic:"!==kn()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function An(){try{const e=self.localStorage,t=ht();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,i.z$)()){return(0,i.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,i.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,i.hl)()}catch(e){return xn()&&(0,i.hl)()}return!1}function xn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Nn(){return("http:"===kn()||"https:"===kn()||(0,i.ru)()||Cn())&&!((0,i.b$)()||(0,i.UG)())&&An()&&!xn()}function Rn(){return Cn()&&"undefined"!=typeof document}const On={LOCAL:"local",NONE:"none",SESSION:"session"},Dn=v;async function Pn(e){await e._initializationPromise;const t=Ln(),n=Y("persistence",e.config.apiKey,e.name);(null==t?void 0:t.sessionStorage)&&t.sessionStorage.setItem(n,e._getPersistence())}function Ln(){return"undefined"!=typeof window?window:null}const $n=v;class Fn{constructor(){this.browserResolver=I(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ut,this._completeRedirectFn=Kt}async _openPopup(e,t,n,r){var s;return b(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),function(e,t,n,r=500,s=600){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const u=Object.assign(Object.assign({},dn),{width:r.toString(),height:s.toString(),top:o,left:a}),l=(0,i.z$)().toLowerCase();n&&(c=ee(l)?"_blank":n),J(l)&&(t=t||"http://localhost",u.scrollbars="yes");const h=Object.entries(u).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,i.z$)()){var t;return se(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(l)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new fn(null);const d=window.open(t||"",c,h);v(d,e,"popup-blocked");try{d.focus()}catch(f){}return new fn(d)}(e,pn(e,t,n,E(),r),ht())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=pn(e,t,n,E(),r),ft().location.href=i,new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(b(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n}async initAndGetManager(e){const t=await async function(e){const t=await an(e),n=ft().gapi;return v(n,e,"internal-error"),t.open({where:document.body,url:hn(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:un,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=p(e,"network-request-failed"),s=ft().setTimeout(()=>{r(i)},cn.get());function o(){ft().clearTimeout(s),n(t)}t.ping(o).then(o,()=>{r(i)})}))}(e),n=new Qt(e);return t.register("authEvent",t=>(v(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),f(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Zt(e);for(const r of t)try{if(nn(r))return}catch(n){}f(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oe()||Z()||se()}}),this.cordovaResolver=I(class{constructor(){this._redirectPersistence=ut,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Kt}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new wn(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){f(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,u,l;const h=vn();v("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),v(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),v("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(c=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),v("function"==typeof(null===(l=null===(u=null==h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const s=await this._initialize(e);await s.initialized(),s.resetRedirect(),Bt.clear(),await this._originValidation(e);const o=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:_n(),postBody:null,tenantId:e.tenantId,error:p(e,"no-auth-event")}}(e,n,r);await function(e,t){return In()._set(En(e),t)}(e,o);const a=await async function(e,t,n){var r;const{BuildInfo:i}=vn();b(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(b(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")}(t.sessionId),o={};return se()?o.ibi=i.packageName:ne()?o.apn=i.packageName:f(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,pn(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}(e,o,t);return async function(e,t,n){const{cordova:r}=vn();let i=()=>{};try{await new Promise((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout(()=>{o(p(e,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(c),document.addEventListener("resume",u,!1),ne()&&document.addEventListener("visibilitychange",l,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}}(e,s,await function(e){const{cordova:t}=vn();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let s=null;r?t.plugins.browsertab.openUrl(e):s=t.InAppBrowser.open(e,function(e=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(s)})})}(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=vn(),n={};se()?n.iosBundleId=t.packageName:ne()?n.androidPackageName=t.packageName:f(e,"operation-not-supported-in-this-environment"),await Zt(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=vn(),s=setTimeout(async()=>{await bn(e),t.onEvent(Sn())},500),o=async n=>{clearTimeout(s);const r=await bn(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Tn(e),n=t.link?decodeURIComponent(t.link):void 0,r=Tn(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Tn(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Tn(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null==s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?p(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||Sn())};void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,o);const a=r,c=`${i.packageName.toLowerCase()}://`;vn().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"==typeof a)try{a(e)}catch(t){console.error(t)}}}}),this.underlyingResolver=null,this._redirectPersistence=ut,this._completeRedirectFn=Kt}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Rn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $n(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Rn()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Mn(e){return e.unwrap()}function Un(e){const{_tokenResponse:t}=e instanceof i.ZR?e.customData:e;if(!t)return null;if(!(e instanceof i.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Pt.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=Ae;break;case"facebook.com":r=Ce;break;case"github.com":r=xe;break;case"twitter.com":r=Re;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Ne._create(n,o):we._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new ke(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof i.ZR?r.credentialFromError(e):r.credentialFromResult(e)}async function jn(e,t){let n;try{n=await t}catch(a){throw a instanceof i.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new qn(e,function(e,t){var n;const r=(0,i.m9)(e),s=t;return v(t.operationType,r,"argument-error"),v(null===(n=s.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),it._fromError(r,s)}(e,t));else if(r){const e=Un(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,a),a}const{operationType:r,user:s}=n;return{operationType:r,credential:(o=n,Un(o)),additionalUserInfo:nt(n),user:Bn.getOrCreate(s)};var o}async function Vn(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>jn(e,n.confirm(t))}}class qn{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return jn(Mn(this.auth),this.resolver.resolveSignIn(e))}}class Bn{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,i.m9)(e);return ot.has(t)||ot.set(t,st._fromUser(t)),ot.get(t)}(e)}static getOrCreate(e){return Bn.USER_MAP.has(e)||Bn.USER_MAP.set(e,new Bn(e)),Bn.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return jn(this.auth,Be(this._delegate,e))}async linkWithPhoneNumber(e,t){return Vn(this.auth,async function(e,t,n){const r=(0,i.m9)(e);await Ue(!1,r,"phone");const s=await Dt(r.auth,t,(0,i.m9)(n));return new Ot(s,e=>Be(r,e))}(this._delegate,e,t))}async linkWithPopup(e){return jn(this.auth,async function(e,t,n){const r=(0,i.m9)(e);g(r.auth,t,Te);const s=Lt(r.auth,n);return new qt(r.auth,"linkViaPopup",t,s,r).executeNotNull()}(this._delegate,e,Fn))}async linkWithRedirect(e){return await Pn(ue(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,i.m9)(e);g(r.auth,t,Te);const s=Lt(r.auth,n);await Ue(!1,r,t.providerId),await Ht(s,r.auth);const o=await Yt(r);return s._openRedirect(r.auth,t,"linkViaRedirect",o)}(e,t,n)}(this._delegate,e,Fn)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return jn(this.auth,ze(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Vn(this.auth,async function(e,t,n){const r=(0,i.m9)(e),s=await Dt(r.auth,t,(0,i.m9)(n));return new Ot(s,e=>ze(r,e))}(this._delegate,e,t))}reauthenticateWithPopup(e){return jn(this.auth,async function(e,t,n){const r=(0,i.m9)(e);g(r.auth,t,Te);const s=Lt(r.auth,n);return new qt(r.auth,"reauthViaPopup",t,s,r).executeNotNull()}(this._delegate,e,Fn))}async reauthenticateWithRedirect(e){return await Pn(ue(this.auth)),function(e,t,n){return async function(e,t,n){const r=(0,i.m9)(e);g(r.auth,t,Te);const s=Lt(r.auth,n);await Ht(s,r.auth);const o=await Yt(r);return s._openRedirect(r.auth,t,"reauthViaRedirect",o)}(e,t,n)}(this._delegate,e,Fn)}sendEmailVerification(e){return async function(e,t){const n=(0,i.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&We(n.auth,r,t);const{email:s}=await async function(e,t){return ge(e,t)}(n.auth,r);s!==e.email&&await e.reload()}(this._delegate,e)}async unlink(e){return await async function(e,t){const n=(0,i.m9)(e);await Ue(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return O(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=Fe(r||[]);return n.providerData=n.providerData.filter(e=>s.has(e.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}(this._delegate,e),this}updateEmail(e){return function(e,t){return Ye((0,i.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Ye((0,i.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Me((0,i.m9)(e),t)}(this._delegate,e)}updateProfile(e){return async function(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.m9)(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await V(r,async function(e,t){return O(e,"POST","/v1/accounts:update",t)}(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return async function(e,t,n){const r=(0,i.m9)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&We(r.auth,s,n);const{email:o}=await async function(e,t){return ge(e,t)}(r.auth,s);o!==e.email&&await e.reload()}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bn.USER_MAP=new WeakMap;const zn=v;let Hn=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;zn(n,"invalid-api-key",{appName:e.name});let r=[K];if("undefined"!=typeof window){r=function(e,t){const n=Ln();if(!(null==n?void 0:n.sessionStorage))return[];const r=Y("persistence",e,t);switch(n.sessionStorage.getItem(r)){case On.NONE:return[K];case On.LOCAL:return[_t,ut];case On.SESSION:return[ut];default:return[]}}(n,e.name);for(const e of[_t,ct,ut])r.includes(e)||r.push(e)}zn(n,"invalid-api-key",{appName:e.name});const i="undefined"!=typeof window?Fn:void 0;this._delegate=t.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=ue(e);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=he(t),{host:o,port:a}=function(e){const t=he(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:de(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:de(t)}}}(t);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),function(e){function t(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"==typeof window||"undefined"==typeof document||e||("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}(i)}(this._delegate,e,t)}applyActionCode(e){return async function(e,t){await async function(e,t){return O(e,"POST","/v1/accounts:update",R(e,t))}((0,i.m9)(e),{oobCode:t})}(this._delegate,e)}checkActionCode(e){return Ke(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await pe((0,i.m9)(e),{oobCode:t,newPassword:n})}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return jn(this._delegate,async function(e,t,n){const r=ue(e),i=await Oe(r,{returnSecureToken:!0,email:t,password:n}),s=await De._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return async function(e,t){const n={identifier:t,continueUri:T()?E():"http://localhost"},{signinMethods:r}=await async function(e,t){return O(e,"POST","/v1/accounts:createAuthUri",R(e,t))}((0,i.m9)(e),n);return r||[]}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Ie.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}async getRedirectResult(){zn(Nn(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await ue(e)._initializationPromise,Kt(e,t,!1)}(this._delegate,Fn);return e?jn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){ue(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=Gn(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=Gn(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=(0,i.m9)(e),s={requestType:"EMAIL_SIGNIN",email:t};v(n.handleCodeInApp,r,"argument-error"),n&&We(r,s,n),await async function(e,t){return ge(e,t)}(r,s)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=(0,i.m9)(e),s={requestType:"PASSWORD_RESET",email:t};n&&We(r,s,n),await async function(e,t){return ge(e,t)}(r,s)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Dn(Object.values(On).includes(t),e,"invalid-persistence-type"),(0,i.b$)()?Dn(t!==On.SESSION,e,"unsupported-persistence-type"):(0,i.UG)()?Dn(t===On.NONE,e,"unsupported-persistence-type"):xn()?Dn(t===On.NONE||t===On.LOCAL&&(0,i.hl)(),e,"unsupported-persistence-type"):Dn(t===On.NONE||An(),e,"unsupported-persistence-type")}(this._delegate,e),e){case On.SESSION:t=ut;break;case On.LOCAL:t=await I(_t)._isAvailable()?_t:ct;break;case On.NONE:t=K;break;default:return f("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return jn(this._delegate,async function(e){var t;const n=ue(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new De({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await Oe(n,{returnSecureToken:!0}),i=await De._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return jn(this._delegate,qe(this._delegate,e))}signInWithCustomToken(e){return jn(this._delegate,async function(e,t){const n=ue(e),r=await async function(e,t){return P(e,"POST","/v1/accounts:signInWithCustomToken",R(e,t))}(n,{token:t,returnSecureToken:!0}),i=await De._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}(this._delegate,e))}signInWithEmailAndPassword(e,t){return jn(this._delegate,function(e,t,n){return qe((0,i.m9)(e),Ee.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return jn(this._delegate,async function(e,t,n){const r=(0,i.m9)(e),s=Ee.credentialWithLink(t,n||E());return v(s._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),qe(r,s)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Vn(this._delegate,async function(e,t,n){const r=ue(e),s=await Dt(r,t,(0,i.m9)(n));return new Ot(s,e=>qe(r,e))}(this._delegate,e,t))}async signInWithPopup(e){return zn(Nn(),this._delegate,"operation-not-supported-in-this-environment"),jn(this._delegate,async function(e,t,n){const r=ue(e);g(e,t,Te);const i=Lt(r,n);return new qt(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Fn))}async signInWithRedirect(e){return zn(Nn(),this._delegate,"operation-not-supported-in-this-environment"),await Pn(this._delegate),function(e,t,n){return async function(e,t,n){const r=ue(e);g(e,t,Te);const i=Lt(r,n);return await Ht(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}(this._delegate,e,Fn)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ke((0,i.m9)(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=On,e})();function Gn(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Bn.getOrCreate(e)),error:t,complete:n}}class Wn{constructor(){this.providerId="phone",this._delegate=new Pt(Mn(r.Z.auth()))}static credential(e,t){return Pt.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}Wn.PHONE_SIGN_IN_METHOD=Pt.PHONE_SIGN_IN_METHOD,Wn.PROVIDER_ID=Pt.PROVIDER_ID;const Kn=v;var Yn;(Yn=r.Z).INTERNAL.registerComponent(new c.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Hn(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ee,FacebookAuthProvider:Ce,GithubAuthProvider:xe,GoogleAuthProvider:Ae,OAuthProvider:ke,PhoneAuthProvider:Wn,PhoneMultiFactorGenerator:gn,RecaptchaVerifier:class{constructor(e,t,n=r.Z.app()){var i;Kn(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Rt(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:Re,Auth:Hn,AuthCredential:fe,Error:i.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Yn.registerVersion("@firebase/auth-compat","0.1.3")},9923:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(6006),i=n(7078);class s extends r.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.N;return this._value}next(e){super.next(this._value=e)}}},3948:function(e,t,n){"use strict";n.d(t,{y:function(){return u}});var r=n(8744),i=n(9754),s=n(5669),o=n(7631),a=n(7846),c=n(6633);let u=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:o}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(s.c)}(e,t,n);if(a.add(o?o.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=l(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[o.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=l(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function l(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},5669:function(e,t,n){"use strict";n.d(t,{c:function(){return s}});var r=n(6633),i=n(3863);const s={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},6006:function(e,t,n){"use strict";n.d(t,{Yc:function(){return u},xQ:function(){return l}});var r=n(3948),i=n(8744),s=n(9734),o=n(7078),a=n(2417),c=n(9754);class u extends i.L{constructor(e){super(e),this.destination=e}}let l=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new u(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new o.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new o.N;return this.hasError?(e.error(this.thrownError),s.w.EMPTY):this.isStopped?(e.complete(),s.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends l{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):s.w.EMPTY}}},2417:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(9734);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},8744:function(e,t,n){"use strict";n.d(t,{L:function(){return u}});var r=n(3673),i=n(5669),s=n(9734),o=n(9754),a=n(6633),c=n(3863);class u extends s.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof u?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,e,t,n)}}[o.b](){return this}static create(e,t,n){const r=new u(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class l extends u{constructor(e,t,n,s){let o;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?o=t:t&&(o=t.next,n=t.error,s=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},9734:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(9622),i=n(153),s=n(3673);const o=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,s.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function u(e){return e.reduce((e,t)=>e.concat(t instanceof o?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},6633:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},6790:function(e,t,n){"use strict";n.d(t,{IY:function(){return o},Ds:function(){return a},ft:function(){return c}});var r=n(8744),i=n(3948),s=n(7040);class o extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,s.s)(e)(t)}catch(r){t.error(r)}return n}},955:function(e,t,n){"use strict";n.d(t,{c:function(){return a},N:function(){return c}});var r=n(6006),i=n(3948),s=n(9734),o=n(5290);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new s.w,e.add(this.source.subscribe(new u(this.getSubject(),this))),e.closed&&(this._connection=null,e=s.w.EMPTY)),e}refCount(){return(0,o.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class u extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},8895:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(267),i=n(4540);function s(...e){return(0,i.J)(1)((0,r.of)(...e))}},3974:function(e,t,n){"use strict";n.d(t,{E:function(){return i},c:function(){return s}});var r=n(3948);const i=new r.y(e=>e.complete());function s(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},2850:function(e,t,n){"use strict";n.d(t,{D:function(){return h}});var r=n(3948),i=n(7040),s=n(9734),o=n(7631),a=n(9112),c=n(5389),u=n(8253),l=n(1292);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[o.L]}(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>{const i=e[o.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,u.t)(e))return function(e,t){return new r.y(n=>{const r=new s.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,l.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6431:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var r=n(3948),i=n(4537),s=n(9112);function o(e,t){return t?(0,s.r)(e,t):new r.y((0,i.V)(e))}},636:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(3948),i=n(7204),s=n(4540),o=n(6431);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,s.J)(t)((0,o.n)(e,n))}},267:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(7204),i=n(6431),s=n(9112);function o(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,s.r)(e,t)):(0,i.n)(e)}},395:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(8744);function i(e=null){return t=>t.lift(new s(e))}class s{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new o(e,this.defaultValue))}}class o extends r.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7689:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(8744);function i(e,t){return n=>n.lift(new s(e,t))}class s{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new o(e,this.compare,this.keySelector))}}class o extends r.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}},3305:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(8744);function i(e,t){return function(n){return n.lift(new s(e,t))}}class s{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.predicate,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}},3987:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r=n(6507),i=n(3305),s=n(9917),o=n(395),a=n(3369),c=n(7846);function u(e,t){const n=arguments.length>=2;return u=>u.pipe(e?(0,i.h)((t,n)=>e(t,n,u)):c.y,(0,s.q)(1),n?(0,o.d)(t):(0,a.T)(()=>new r.K))}},8561:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(8744);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}}class s{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new o(e,this.project,this.thisArg))}}class o extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},4540:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(6513),i=n(7846);function s(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},6513:function(e,t,n){"use strict";n.d(t,{zg:function(){return o}});var r=n(8561),i=n(2850),s=n(6790);function o(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends s.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new s.IY(this),n=this.destination;n.add(t);const r=(0,s.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},7338:function(e,t,n){"use strict";n.d(t,{ht:function(){return l},QV:function(){return c}});var r=n(8744),i=n(3974),s=n(267),o=n(3948);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return e=this.error,new o.y(t=>t.error(e));case"C":return(0,i.c)()}var e;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function c(e,t=0){return function(n){return n.lift(new u(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class u{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new l(e,this.scheduler,this.delay))}}class l extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},5290:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(8744);function i(){return function(e){return e.lift(new s(e))}}class s{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new o(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},1310:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(8744);function i(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}}class s{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new o(e,this.accumulator,this.seed,this.hasSeed))}}class o extends r.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},3543:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(8895),i=n(7204);function s(...e){const t=e[e.length-1];return(0,i.K)(t)?(e.pop(),n=>(0,r.z)(e,n,t)):t=>(0,r.z)(e,t)}},6515:function(e,t,n){"use strict";n.d(t,{R:function(){return p}});var r=n(3948);let i=1;const s=Promise.resolve(),o={};function a(e){return e in o&&(delete o[e],!0)}const c={setImmediate(e){const t=i++;return o[t]=!0,s.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var u=n(5464),l=n(708);const h=new class extends l.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends u.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9622);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new m(e,t))}}class m{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},2812:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(8561),i=n(2850),s=n(6790);function o(e,t){return"function"==typeof t?n=>n.pipe(o((n,s)=>(0,i.D)(e(n,s)).pipe((0,r.U)((e,r)=>t(n,e,s,r))))):t=>t.lift(new a(e))}class a{constructor(e){this.project=e}call(e,t){return t.subscribe(new c(e,this.project))}}class c extends s.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new s.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,s.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}},9917:function(e,t,n){"use strict";n.d(t,{q:function(){return o}});var r=n(8744),i=n(9862),s=n(3974);function o(e){return t=>0===e?(0,s.c)():t.lift(new a(e))}class a{constructor(e){if(this.total=e,this.total<0)throw new i.W}call(e,t){return t.subscribe(new c(e,this.total))}}class c extends r.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}},6286:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(8744);function i(){}var s=n(3673);function o(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},3369:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(6507),i=n(8744);function s(e=c){return t=>t.lift(new o(e))}class o{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a(e,this.errorFactory))}}class a extends i.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function c(){return new r.K}},9112:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(3948),i=n(9734);function s(e,t){return new r.y(n=>{const r=new i.w;let s=0;return r.add(t.schedule(function(){s!==e.length?(n.next(e[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},5464:function(e,t,n){"use strict";n.d(t,{o:function(){return s}});var r=n(9734);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class s extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},708:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},8846:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(5464);const i=new(n(708).v)(r.o)},6511:function(e,t,n){"use strict";n.d(t,{c:function(){return o},N:function(){return s}});var r=n(5464),i=n(708);const s=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),o=s},5389:function(e,t,n){"use strict";n.d(t,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},7631:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9754:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},9862:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})()},6507:function(e,t,n){"use strict";n.d(t,{K:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})()},7078:function(e,t,n){"use strict";n.d(t,{N:function(){return r}});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},3863:function(e,t,n){"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:function(){return r}})},7846:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9622:function(e,t,n){"use strict";n.d(t,{k:function(){return r}});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},1292:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},3673:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},153:function(e,t,n){"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:function(){return r}})},8253:function(e,t,n){"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:function(){return r}})},7204:function(e,t,n){"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:function(){return r}})},7040:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(4537),i=n(3863),s=n(5389),o=n(7631),a=n(1292),c=n(8253),u=n(153);const l=e=>{if(e&&"function"==typeof e[o.L])return l=e,e=>{const t=l[o.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[s.hZ])return t=e,e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,u.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,l}},4537:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},2594:function(e,t,n){"use strict";n.d(t,{P:function(){return Dp}});var r=n(4271),i=n(8846),s=n(3948),o=n(2850),a=n(267),c=n(1106),u=n(3543),l=n(8744);function h(){return e=>e.lift(new d)}class d{call(e,t){return t.subscribe(new f(e))}}class f extends l.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var p,m=n(8561),g=n(1310),y=n(7689),v=n(3305),w=n(9106),b=n(6274),_=(n(4460),n(3106)),I=n(3477),E=n(1605),T=n(2965),S=n(9870),k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},C={},A=A||{},x=k||self;function N(){}function R(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function O(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var D="closure_uid_"+(1e9*Math.random()>>>0),P=0;function L(e,t,n){return e.call.apply(e.bind,arguments)}function $(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function F(e,t,n){return(F=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?L:$).apply(null,arguments)}function M(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function U(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function j(){this.s=this.s,this.o=this.o}var V={};j.prototype.s=!1,j.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,D)&&e[D]||(e[D]=++P)}(this);delete V[e]}},j.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},B=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function z(e){return Array.prototype.concat.apply([],arguments)}function H(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function G(e){return/^[\s\xa0]*$/.test(e)}var W,K=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Y(e,t){return-1!=e.indexOf(t)}function Q(e,t){return e<t?-1:e>t?1:0}e:{var X=x.navigator;if(X){var J=X.userAgent;if(J){W=J;break e}}W=""}function Z(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function ee(e){const t={};for(const n in e)t[n]=e[n];return t}var te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<te.length;t++)n=te[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function re(e){return re[" "](e),e}re[" "]=N;var ie,se,oe=Y(W,"Opera"),ae=Y(W,"Trident")||Y(W,"MSIE"),ce=Y(W,"Edge"),ue=ce||ae,le=Y(W,"Gecko")&&!(Y(W.toLowerCase(),"webkit")&&!Y(W,"Edge"))&&!(Y(W,"Trident")||Y(W,"MSIE"))&&!Y(W,"Edge"),he=Y(W.toLowerCase(),"webkit")&&!Y(W,"Edge");function de(){var e=x.document;return e?e.documentMode:void 0}e:{var fe="",pe=(se=W,le?/rv:([^\);]+)(\)|;)/.exec(se):ce?/Edge\/([\d\.]+)/.exec(se):ae?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(se):he?/WebKit\/(\S+)/.exec(se):oe?/(?:Version)[ \/]?(\S+)/.exec(se):void 0);if(pe&&(fe=pe?pe[1]:""),ae){var me=de();if(null!=me&&me>parseFloat(fe)){ie=String(me);break e}}ie=fe}var ge={};var ye=x.document&&ae&&(de()||parseInt(ie,10))||void 0,ve=function(){if(!x.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{x.addEventListener("test",N,t),x.removeEventListener("test",N,t)}catch(n){}return e}();function we(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function be(e,t){if(we.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(le){e:{try{re(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:_e[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&be.Z.h.call(this)}}we.prototype.h=function(){this.defaultPrevented=!0},U(be,we);var _e={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Te(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Ee,this.ca=this.fa=!1}function Se(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ke(e){this.src=e,this.g={},this.h=0}function Ce(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=q(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Se(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ae(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}ke.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Ae(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Te(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var xe="closure_lm_"+(1e6*Math.random()|0),Ne={};function Re(e,t,n,r,i){if(r&&r.once)return De(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Re(e,t[s],n,r,i);return null}return n=je(n),e&&e[Ie]?e.N(t,n,O(r)?!!r.capture:!!r,i):Oe(e,t,n,!1,r,i)}function Oe(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=O(i)?!!i.capture:!!i,a=Me(e);if(a||(e[xe]=a=new ke(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=Fe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ve||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent($e(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function De(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)De(e,t[s],n,r,i);return null}return n=je(n),e&&e[Ie]?e.O(t,n,O(r)?!!r.capture:!!r,i):Oe(e,t,n,!0,r,i)}function Pe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Pe(e,t[s],n,r,i);else r=O(r)?!!r.capture:!!r,n=je(n),e&&e[Ie]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=Ae(s=e.g[t],n,r,i))&&(Se(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=Me(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ae(t,n,r,i)),(n=-1<e?t[e]:null)&&Le(n))}function Le(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Ie])Ce(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($e(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Me(t))?(Ce(n,e),0==n.h&&(n.src=null,t[xe]=null)):Se(e)}}}function $e(e){return e in Ne?Ne[e]:Ne[e]="on"+e}function Fe(e,t){if(e.ca)e=!0;else{t=new be(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Le(e),e=n.call(r,t)}return e}function Me(e){return(e=e[xe])instanceof ke?e:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function je(e){return"function"==typeof e?e:(e[Ue]||(e[Ue]=function(t){return e.handleEvent(t)}),e[Ue])}function Ve(){j.call(this),this.i=new ke(this),this.P=this,this.I=null}function qe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new we(t,e);else if(t instanceof we)t.target=t.target||e;else{var i=t;ne(t=new we(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Be(o,r,!0,t)&&i}if(i=Be(o=t.g=e,r,!0,t)&&i,i=Be(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Be(o=t.g=n[s],r,!1,t)&&i}function Be(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,c=o.ia||o.src;o.fa&&Ce(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}U(Ve,j),Ve.prototype[Ie]=!0,Ve.prototype.removeEventListener=function(e,t,n,r){Pe(this,e,t,n,r)},Ve.prototype.M=function(){if(Ve.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Se(n[r]);delete t.g[e],t.h--}}this.I=null},Ve.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ve.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var ze=x.JSON.stringify;function He(){var e=Je;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ge,We=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ke,e=>e.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ye(e){x.setTimeout(()=>{throw e},0)}function Qe(e,t){Ge||function(){var e=x.Promise.resolve(void 0);Ge=function(){e.then(Ze)}}(),Xe||(Ge(),Xe=!0),Je.add(e,t)}var Xe=!1,Je=new class{constructor(){this.h=this.g=null}add(e,t){const n=We.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ze(){for(var e;e=He();){try{e.h.call(e.g)}catch(n){Ye(n)}var t=We;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Xe=!1}function et(e,t){Ve.call(this),this.h=e||1,this.g=t||x,this.j=F(this.kb,this),this.l=Date.now()}function tt(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function nt(e,t,n){if("function"==typeof e)n&&(e=F(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=F(e.handleEvent,e)}return 2147483647<Number(t)?-1:x.setTimeout(e,t||0)}function rt(e){e.g=nt(()=>{e.g=null,e.i&&(e.i=!1,rt(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}U(et,Ve),(p=et.prototype).da=!1,p.S=null,p.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),qe(this,"tick"),this.da&&(tt(this),this.start()))}},p.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},p.M=function(){et.Z.M.call(this),tt(this),delete this.g};class it extends j{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rt(this)}M(){super.M(),this.g&&(x.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(e){j.call(this),this.h=e,this.g={}}U(st,j);var ot=[];function at(e,t,n,r){Array.isArray(n)||(n&&(ot[0]=n.toString()),n=ot);for(var i=0;i<n.length;i++){var s=Re(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ct(e){Z(e.g,function(e,t){this.g.hasOwnProperty(t)&&Le(e)},e),e.g={}}function ut(){this.g=!0}function lt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ze(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}st.prototype.M=function(){st.Z.M.call(this),ct(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ut.prototype.Aa=function(){this.g=!1},ut.prototype.info=function(){};var ht={},dt=null;function ft(){return dt=dt||new Ve}function pt(e){we.call(this,ht.Ma,e)}function mt(e){const t=ft();qe(t,new pt(t,e))}function gt(e,t){we.call(this,ht.STAT_EVENT,e),this.stat=t}function yt(e){const t=ft();qe(t,new gt(t,e))}function vt(e,t){we.call(this,ht.Na,e),this.size=t}function wt(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return x.setTimeout(function(){e()},t)}ht.Ma="serverreachability",U(pt,we),ht.STAT_EVENT="statevent",U(gt,we),ht.Na="timingevent",U(vt,we);var bt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_t={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function It(){}function Et(){}It.prototype.h=null;var Tt,St={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kt(){we.call(this,"d")}function Ct(){we.call(this,"c")}function At(){}function xt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new st(this),this.P=Rt,this.W=new et(e=ue?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}U(kt,we),U(Ct,we),U(At,It),At.prototype.g=function(){return new XMLHttpRequest},At.prototype.i=function(){return{}},Tt=new At;var Rt=45e3,Ot={},Dt={};function Pt(e,t,n){e.K=1,e.v=rn(Xt(t)),e.s=n,e.U=!0,Lt(e,null)}function Lt(e,t){e.F=Date.now(),Ut(e),e.A=Xt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),yn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Nt,e.g=yr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new it(F(e.Ia,e,e.g),e.O)),at(e.V,e.g,"readystatechange",e.gb),t=e.H?ee(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),mt(1),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function $t(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function Ft(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Mt(e,n),r==Dt){4==t&&(e.o=4,yt(14),i=!1),lt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ot){e.o=4,yt(15),lt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lt(e.j,e.m,r,null),zt(e,r)}$t(e)&&r!=Dt&&r!=Ot&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,yt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ur(t),t.L=!0,yt(11))):(lt(e.j,e.m,n,"[Invalid Chunked Response]"),Bt(e),qt(e))}function Mt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Dt:(n=Number(t.substring(n,r)),isNaN(n)?Ot:(r+=1)+n>t.length?Dt:(t=t.substr(r,n),e.C=r+n,t))}function Ut(e){e.Y=Date.now()+e.P,jt(e,e.P)}function jt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=wt(F(e.eb,e),t)}function Vt(e){e.B&&(x.clearTimeout(e.B),e.B=null)}function qt(e){0==e.l.G||e.I||dr(e.l,e)}function Bt(e){Vt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,tt(e.W),ct(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function zt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||En(n.i,e)))if(n.I=e.N,!e.J&&En(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hr(n),er(n)}cr(n),yt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=wt(F(n.ab,n),6e3));if(1>=In(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else pr(n,11)}else if((e.J||n.g==e)&&hr(n),!G(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Y(e,"spdy")||Y(e,"quic")||Y(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Tn(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,nn(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=gr(r,r.H?r.la:null,r.W),o.J){Sn(r.i,o);var a=o,c=r.K;c&&a.setTimeout(c),a.B&&(Vt(a),Ut(a)),r.g=o}else ar(r);0<n.l.length&&rr(n)}else"stop"!=u[0]&&"close"!=u[0]||pr(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?pr(n,7):Zn(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}mt(4)}catch(u){}}function Ht(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(R(e)||"string"==typeof e)B(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(R(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(R(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Gt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Gt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Wt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Kt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Kt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Kt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(p=xt.prototype).setTimeout=function(e){this.P=e},p.gb=function(e){e=e.target;const t=this.L;t&&3==Kn(e)?t.l():this.Ia(e)},p.Ia=function(e){try{if(e==this.g)e:{const l=Kn(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||ue||this.g&&(this.h.h||this.g.ga()||Yn(this.g)))){this.I||4!=l||7==t||mt(8==t||0>=h?3:2),Vt(this);var n=this.g.ba();this.N=n;t:if($t(this)){var r=Yn(this.g);e="";var i=r.length,s=4==Kn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Bt(this),qt(this);var o="";break t}this.h.i=new x.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,yt(12),Bt(this),qt(this);break e}lt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zt(this,n)}this.U?(Ft(this,l,o),ue&&this.i&&3==l&&(at(this.V,this.W,"tick",this.fb),this.W.start())):(lt(this.j,this.m,o,null),zt(this,o)),4==l&&Bt(this),this.i&&!this.I&&(4==l?dr(this.l,this):(this.i=!1,Ut(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,yt(12)):(this.o=0,yt(13)),Bt(this),qt(this)}}}catch(l){}},p.fb=function(){if(this.g){var e=Kn(this.g),t=this.g.ga();this.C<t.length&&(Vt(this),Ft(this,e,t),this.i&&4!=e&&Ut(this))}},p.cancel=function(){this.I=!0,Bt(this)},p.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(mt(3),yt(17)),Bt(this),this.o=2,qt(this)):jt(this,this.Y-e)},(p=Gt.prototype).R=function(){Wt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},p.T=function(){return Wt(this),this.g.concat()},p.get=function(e,t){return Kt(this.h,e)?this.h[e]:t},p.set=function(e,t){Kt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},p.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Yt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qt){this.g=void 0!==t?t:e.g,Jt(this,e.j),this.s=e.s,Zt(this,e.i),en(this,e.m),this.l=e.l,t=e.h;var n=new fn;n.i=t.i,t.g&&(n.g=new Gt(t.g),n.h=t.h),tn(this,n),this.o=e.o}else e&&(n=String(e).match(Yt))?(this.g=!!t,Jt(this,n[1]||"",!0),this.s=sn(n[2]||""),Zt(this,n[3]||"",!0),en(this,n[4]),this.l=sn(n[5]||"",!0),tn(this,n[6]||"",!0),this.o=sn(n[7]||"")):(this.g=!!t,this.h=new fn(null,this.g))}function Xt(e){return new Qt(e)}function Jt(e,t,n){e.j=n?sn(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zt(e,t,n){e.i=n?sn(t,!0):t}function en(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tn(e,t,n){t instanceof fn?(e.h=t,function(e,t){t&&!e.j&&(pn(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),yn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=on(t,hn)),e.h=new fn(t,e.g))}function nn(e,t,n){e.h.set(t,n)}function rn(e){return nn(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function sn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function on(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,an),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function an(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Qt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(on(t,cn,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(on(t,cn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(on(n,"/"==n.charAt(0)?ln:un,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",on(n,dn)),e.join("")};var cn=/[#\/\?@]/g,un=/[#\?:]/g,ln=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function fn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pn(e){e.g||(e.g=new Gt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mn(e,t){pn(e),t=vn(e,t),Kt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Kt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Wt(e)))}function gn(e,t){return pn(e),t=vn(e,t),Kt(e.g.h,t)}function yn(e,t,n){mn(e,t),0<n.length&&(e.i=null,e.g.set(vn(e,t),H(n)),e.h+=n.length)}function vn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wn(e){this.l=e||bn,e=x.PerformanceNavigationTiming?0<(e=x.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(x.g&&x.g.Ea&&x.g.Ea()&&x.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(p=fn.prototype).add=function(e,t){pn(this),this.i=null,e=vn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},p.forEach=function(e,t){pn(this),this.g.forEach(function(n,r){B(n,function(n){e.call(t,n,r,this)},this)},this)},p.T=function(){pn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},p.R=function(e){pn(this);var t=[];if("string"==typeof e)gn(this,e)&&(t=z(t,this.g.get(vn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=z(t,e[n])}return t},p.set=function(e,t){return pn(this),this.i=null,gn(this,e=vn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},p.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},p.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var bn=10;function _n(e){return!!e.h||!!e.g&&e.g.size>=e.j}function In(e){return e.h?1:e.g?e.g.size:0}function En(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tn(e,t){e.g?e.g.add(t):e.h=t}function Sn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return H(e.i)}function Cn(){}function An(){this.g=new Cn}function xn(e,t,n){const r=n||"";try{Ht(e,function(e,n){let i=e;O(e)&&(i=ze(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Rn(e){this.l=e.$b||null,this.j=e.ib||!1}function On(e,t){Ve.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn.prototype.cancel=function(){if(this.i=kn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},Cn.prototype.stringify=function(e){return x.JSON.stringify(e,void 0)},Cn.prototype.parse=function(e){return x.JSON.parse(e,void 0)},U(Rn,It),Rn.prototype.g=function(){return new On(this.l,this.j)},Rn.prototype.i=function(e){return function(){return e}}({}),U(On,Ve);var Dn=0;function Pn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Ln(e){e.readyState=4,e.l=null,e.j=null,e.A=null,$n(e)}function $n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(p=On.prototype).open=function(e,t){if(this.readyState!=Dn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,$n(this)},p.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||x).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},p.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ln(this)),this.readyState=Dn},p.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==x.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Pn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},p.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ln(this):$n(this),3==this.readyState&&Pn(this)}},p.Ua=function(e){this.g&&(this.response=this.responseText=e,Ln(this))},p.Ta=function(e){this.g&&(this.response=e,Ln(this))},p.ha=function(){this.g&&Ln(this)},p.setRequestHeader=function(e,t){this.v.append(e,t)},p.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(On.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Fn=x.JSON.parse;function Mn(e){Ve.call(this),this.headers=new Gt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Un,this.K=this.L=!1}U(Mn,Ve);var Un="",jn=/^https?$/i,Vn=["POST","PUT"];function qn(e){return"content-type"==e.toLowerCase()}function Bn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,zn(e),Gn(e)}function zn(e){e.D||(e.D=!0,qe(e,"complete"),qe(e,"error"))}function Hn(e){if(e.h&&void 0!==A&&(!e.C[1]||4!=Kn(e)||2!=e.ba()))if(e.v&&4==Kn(e))nt(e.Fa,0,e);else if(qe(e,"readystatechange"),4==Kn(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(Yt)[1]||null;if(!i&&x.self&&x.self.location){var s=x.self.location.protocol;i=s.substr(0,s.length-1)}r=!jn.test(i?i.toLowerCase():"")}n=r}if(n)qe(e,"complete"),qe(e,"success");else{e.m=6;try{var o=2<Kn(e)?e.g.statusText:""}catch(a){o=""}e.j=o+" ["+e.ba()+"]",zn(e)}}finally{Gn(e)}}}function Gn(e,t){if(e.g){Wn(e);const r=e.g,i=e.C[0]?N:null;e.g=null,e.C=null,t||qe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Wn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(x.clearTimeout(e.A),e.A=null)}function Kn(e){return e.g?e.g.readyState:0}function Yn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Un:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Qn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Z(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):nn(e,t,n))}function Xn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jn(e){this.za=0,this.l=[],this.h=new ut,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xn("baseRetryDelayMs",5e3,e),this.$a=Xn("retryDelaySeedMs",1e4,e),this.Ya=Xn("forwardChannelMaxRetries",2,e),this.ra=Xn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new wn(e&&e.concurrentRequestLimit),this.Ca=new An,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zn(e){if(tr(e),3==e.G){var t=e.V++,n=Xt(e.F);nn(n,"SID",e.J),nn(n,"RID",t),nn(n,"TYPE","terminate"),sr(e,n),(t=new xt(e,e.h,t,void 0)).K=2,t.v=rn(Xt(n)),n=!1,x.navigator&&x.navigator.sendBeacon&&(n=x.navigator.sendBeacon(t.v.toString(),"")),!n&&x.Image&&((new Image).src=t.v,n=!0),n||(t.g=yr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ut(t)}mr(e)}function er(e){e.g&&(ur(e),e.g.cancel(),e.g=null)}function tr(e){er(e),e.u&&(x.clearTimeout(e.u),e.u=null),hr(e),e.i.cancel(),e.m&&("number"==typeof e.m&&x.clearTimeout(e.m),e.m=null)}function nr(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&rr(e)}function rr(e){_n(e.i)||e.m||(e.m=!0,Qe(e.Ha,e),e.C=0)}function ir(e,t){var n;n=t?t.m:e.V++;const r=Xt(e.F);nn(r,"SID",e.J),nn(r,"RID",n),nn(r,"AID",e.U),sr(e,r),e.o&&e.s&&Qn(r,e.o,e.s),n=new xt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=or(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Tn(e.i,n),Pt(n,r,t)}function sr(e,t){e.j&&Ht({},function(e,n){nn(t,n,e)})}function or(e,t,n){n=Math.min(e.l.length,n);var r=e.j?F(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{xn(a,e,"req"+n+"_")}catch(Yr){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function ar(e){e.g||e.u||(e.Y=1,Qe(e.Ga,e),e.A=0)}function cr(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=wt(F(e.Ga,e),fr(e,e.A)),e.A++,0))}function ur(e){null!=e.B&&(x.clearTimeout(e.B),e.B=null)}function lr(e){e.g=new xt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Xt(e.oa);nn(t,"RID","rpc"),nn(t,"SID",e.J),nn(t,"CI",e.N?"0":"1"),nn(t,"AID",e.U),sr(e,t),nn(t,"TYPE","xmlhttp"),e.o&&e.s&&Qn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=rn(Xt(t)),n.s=null,n.U=!0,Lt(n,e)}function hr(e){null!=e.v&&(x.clearTimeout(e.v),e.v=null)}function dr(e,t){var n=null;if(e.g==t){hr(e),ur(e),e.g=null;var r=2}else{if(!En(e.i,t))return;n=t.D,Sn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;qe(r=ft(),new vt(r,n,t,i)),rr(e)}else ar(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(In(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=wt(F(e.Ha,e,t),fr(e,e.C)),e.C++,0)))}(e,t)||2==r&&cr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:pr(e,5);break;case 4:pr(e,10);break;case 3:pr(e,6);break;default:pr(e,2)}}function fr(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function pr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=F(e.jb,e);n||(n=new Qt("//www.google.com/images/cleardot.gif"),x.location&&"http"==x.location.protocol||Jt(n,"https"),rn(n)),function(e,t){const n=new ut;if(x.Image){const r=new Image;r.onload=M(Nn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=M(Nn,n,r,"TestLoadImage: error",!1,t),r.onabort=M(Nn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=M(Nn,n,r,"TestLoadImage: timeout",!1,t),x.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else yt(2);e.G=0,e.j&&e.j.va(t),mr(e),tr(e)}function mr(e){e.G=0,e.I=-1,e.j&&(0==kn(e.i).length&&0==e.l.length||(e.i.i.length=0,H(e.l),e.l.length=0),e.j.ua())}function gr(e,t,n){let r=function(e){return e instanceof Qt?Xt(e):new Qt(e,void 0)}(n);if(""!=r.i)t&&Zt(r,t+"."+r.i),en(r,r.m);else{const e=x.location;r=function(e,t,n,r){var i=new Qt(null,void 0);return e&&Jt(i,e),t&&Zt(i,t),n&&en(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Z(e.aa,function(e,t){nn(r,t,e)}),n=e.sa,(t=e.D)&&n&&nn(r,t,n),nn(r,"VER",e.ma),sr(e,r),r}function yr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Mn(n&&e.Ba&&!e.qa?new Rn({ib:!0}):e.qa)).L=e.H,t}function vr(){}function wr(){if(ae&&!(10<=Number(ye)))throw Error("Environmental error: no available transport.")}function br(e,t){Ve.call(this),this.g=new Jn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!G(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!G(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Er(this)}function _r(e){kt.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ir(){Ct.call(this),this.status=1}function Er(e){this.g=e}(p=Mn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Tt.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:Tt),this.g.onreadystatechange=F(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Bn(this,s)}e=n||"";const i=new Gt(this.headers);r&&Ht(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=qn;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=x.FormData&&e instanceof x.FormData,!(0<=q(Vn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Wn(this),0<this.B&&((this.K=function(e){return ae&&function(){return e=ge,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=K(String(ie)).split("."),n=K("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=Q(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||Q(0==i[2].length,0==s[2].length)||Q(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=F(this.pa,this)):this.A=nt(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Bn(this,s)}},p.pa=function(){void 0!==A&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))},p.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,qe(this,"complete"),qe(this,"abort"),Gn(this))},p.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gn(this,!0)),Mn.Z.M.call(this)},p.Fa=function(){this.s||(this.F||this.v||this.l?Hn(this):this.cb())},p.cb=function(){Hn(this)},p.ba=function(){try{return 2<Kn(this)?this.g.status:-1}catch(se){return-1}},p.ga=function(){try{return this.g?this.g.responseText:""}catch(se){return""}},p.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Fn(t)}},p.Da=function(){return this.m},p.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(p=Jn.prototype).ma=8,p.G=1,p.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},p.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new xt(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=ee(s),ne(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=or(this,i,t),nn(n=Xt(this.F),"RID",e),nn(n,"CVER",22),this.D&&nn(n,"X-HTTP-Session-Id",this.D),sr(this,n),this.o&&s&&Qn(n,this.o,s),Tn(this.i,i),this.Ra&&nn(n,"TYPE","init"),this.ja?(nn(n,"$req",t),nn(n,"SID","null"),i.$=!0,Pt(i,n,null)):Pt(i,n,t),this.G=2}}else 3==this.G&&(e?ir(this,e):0==this.l.length||_n(this.i)||ir(this))},p.Ga=function(){if(this.u=null,lr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wt(F(this.bb,this),e)}},p.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,yt(10),er(this),lr(this))},p.ab=function(){null!=this.v&&(this.v=null,er(this),cr(this),yt(19))},p.jb=function(e){e?(this.h.info("Successfully pinged google.com"),yt(2)):(this.h.info("Failed to ping google.com"),yt(1))},(p=vr.prototype).xa=function(){},p.wa=function(){},p.va=function(){},p.ua=function(){},p.Oa=function(){},wr.prototype.g=function(e,t){return new br(e,t)},U(br,Ve),br.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Qe(F(e.hb,e,t))),yt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gr(e,null,e.W),rr(e)},br.prototype.close=function(){Zn(this.g)},br.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,nr(this.g,t)}else this.v?((t={}).__data__=ze(e),nr(this.g,t)):nr(this.g,e)},br.prototype.M=function(){this.g.j=null,delete this.j,Zn(this.g),delete this.g,br.Z.M.call(this)},U(_r,kt),U(Ir,Ct),U(Er,vr),Er.prototype.xa=function(){qe(this.g,"a")},Er.prototype.wa=function(e){qe(this.g,new _r(e))},Er.prototype.va=function(e){qe(this.g,new Ir(e))},Er.prototype.ua=function(){qe(this.g,"b")},wr.prototype.createWebChannel=wr.prototype.g,br.prototype.send=br.prototype.u,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,_t.COMPLETE="complete",Et.EventType=St,St.OPEN="a",St.CLOSE="b",St.ERROR="c",St.MESSAGE="d",Ve.prototype.listen=Ve.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.La,Mn.prototype.getLastErrorCode=Mn.prototype.Da,Mn.prototype.getStatus=Mn.prototype.ba,Mn.prototype.getResponseJson=Mn.prototype.Qa,Mn.prototype.getResponseText=Mn.prototype.ga,Mn.prototype.send=Mn.prototype.ea;var Tr=C.createWebChannelTransport=function(){return new wr},Sr=C.getStatEventTarget=function(){return ft()},kr=C.ErrorCode=bt,Cr=C.EventType=_t,Ar=C.Event=ht,xr=C.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Nr=C.FetchXmlHttpFactory=Rn,Rr=C.WebChannel=Et,Or=C.XhrIo=Mn;class Dr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dr.UNAUTHENTICATED=new Dr(null),Dr.GOOGLE_CREDENTIALS=new Dr("google-credentials-uid"),Dr.FIRST_PARTY=new Dr("first-party-uid"),Dr.MOCK_USER=new Dr("mock-user");let Pr="9.1.0";const Lr=new T.Yd("@firebase/firestore");function $r(){return Lr.logLevel}function Fr(e,...t){if(Lr.logLevel<=T.in.DEBUG){const n=t.map(jr);Lr.debug(`Firestore (${Pr}): ${e}`,...n)}}function Mr(e,...t){if(Lr.logLevel<=T.in.ERROR){const n=t.map(jr);Lr.error(`Firestore (${Pr}): ${e}`,...n)}}function Ur(e,...t){if(Lr.logLevel<=T.in.WARN){const n=t.map(jr);Lr.warn(`Firestore (${Pr}): ${e}`,...n)}}function jr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function Vr(e="Unexpected state"){const t=`FIRESTORE (${Pr}) INTERNAL ASSERTION FAILED: `+e;throw Mr(t),new Error(t)}function qr(e,t){e||Vr()}function Br(e,t){return e}const zr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Hr extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wr{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Kr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Dr.UNAUTHENTICATED))}shutdown(){}}class Yr{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qr{constructor(e){this.t=e,this.currentUser=Dr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gr,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Fr("FirebaseCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Fr("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gr)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Fr("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qr("string"==typeof t.accessToken),new Wr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qr(null===e||"string"==typeof e),new Dr(e)}}class Xr{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Dr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Jr{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Xr(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Dr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.g(e),this.p=e=>t.writeSequenceNumber(e))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function ei(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Zr.T=-1;class ti{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ei(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ni(e,t){return e<t?-1:e>t?1:0}function ri(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function ii(e){return e+"\0"}class si{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Hr(zr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return si.fromMillis(Date.now())}static fromDate(e){return si.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new si(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ni(this.nanoseconds,e.nanoseconds):ni(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oi(e)}static min(){return new oi(new si(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ai(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ci(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ui(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class li{constructor(e,t,n){void 0===t?t=0:t>e.length&&Vr(),void 0===n?n=e.length-t:n>e.length-t&&Vr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===li.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hi extends li{construct(e,t,n){return new hi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Hr(zr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new hi(t)}static emptyPath(){return new hi([])}}const di=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fi extends li{construct(e,t,n){return new fi(e,t,n)}static isValidIdentifier(e){return di.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Hr(zr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Hr(zr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Hr(zr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Hr(zr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fi(t)}static emptyPath(){return new fi([])}}class pi{constructor(e){this.fields=e,e.sort(fi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mi(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new mi(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ni(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const gi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yi(e){if(qr(!!e),"string"==typeof e){let t=0;const n=gi.exec(e);if(qr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vi(e.seconds),nanos:vi(e.nanos)}}function vi(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function wi(e){return"string"==typeof e?mi.fromBase64String(e):mi.fromUint8Array(e)}function bi(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _i(e){const t=e.mapValue.fields.__previous_value__;return bi(t)?_i(t):t}function Ii(e){const t=yi(e.mapValue.fields.__local_write_time__.timestampValue);return new si(t.seconds,t.nanos)}function Ei(e){return null==e}function Ti(e){return 0===e&&1/e==-1/0}function Si(e){return"number"==typeof e&&Number.isInteger(e)&&!Ti(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class ki{constructor(e){this.path=e}static fromPath(e){return new ki(hi.fromString(e))}static fromName(e){return new ki(hi.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===hi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ki(new hi(e.slice()))}}function Ci(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bi(e)?4:10:Vr()}function Ai(e,t){const n=Ci(e);if(n!==Ci(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ii(e).isEqual(Ii(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=yi(e.timestampValue),r=yi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return wi(e.bytesValue).isEqual(wi(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vi(e.geoPointValue.latitude)===vi(t.geoPointValue.latitude)&&vi(e.geoPointValue.longitude)===vi(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vi(e.integerValue)===vi(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vi(e.doubleValue),r=vi(t.doubleValue);return n===r?Ti(n)===Ti(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ri(e.arrayValue.values||[],t.arrayValue.values||[],Ai);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ai(n)!==ai(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ai(n[i],r[i])))return!1;return!0}(e,t);default:return Vr()}}function xi(e,t){return void 0!==(e.values||[]).find(e=>Ai(e,t))}function Ni(e,t){const n=Ci(e),r=Ci(t);if(n!==r)return ni(n,r);switch(n){case 0:return 0;case 1:return ni(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vi(e.integerValue||e.doubleValue),r=vi(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ri(e.timestampValue,t.timestampValue);case 4:return Ri(Ii(e),Ii(t));case 5:return ni(e.stringValue,t.stringValue);case 6:return function(e,t){const n=wi(e),r=wi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ni(n[i],r[i]);if(0!==e)return e}return ni(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ni(vi(e.latitude),vi(t.latitude));return 0!==n?n:ni(vi(e.longitude),vi(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ni(n[i],r[i]);if(e)return e}return ni(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=ni(r[o],s[o]);if(0!==e)return e;const t=Ni(n[r[o]],i[s[o]]);if(0!==t)return t}return ni(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Vr()}}function Ri(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ni(e,t);const n=yi(e),r=yi(t),i=ni(n.seconds,r.seconds);return 0!==i?i:ni(n.nanos,r.nanos)}function Oi(e){return Di(e)}function Di(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=yi(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?wi(e.bytesValue).toBase64():"referenceValue"in e?ki.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Di(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Di(e.fields[i])}`;return n+"}"}(e.mapValue):Vr();var t}function Pi(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Li(e){return!!e&&"integerValue"in e}function $i(e){return!!e&&"arrayValue"in e}function Fi(e){return!!e&&"nullValue"in e}function Mi(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ui(e){return!!e&&"mapValue"in e}function ji(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ci(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ji(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ji(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ui(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ji(t)}setAll(e){let t=fi.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ji(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ui(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ui(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ci(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Vi(ji(this.value))}}function qi(e){const t=[];return ci(e.fields,(e,n)=>{const r=new fi([e]);if(Ui(n)){const e=qi(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new pi(t)}class Bi{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Bi(e,0,oi.min(),Vi.empty(),0)}static newFoundDocument(e,t,n){return new Bi(e,1,t,n,0)}static newNoDocument(e,t){return new Bi(e,2,t,Vi.empty(),0)}static newUnknownDocument(e,t){return new Bi(e,3,t,Vi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Bi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Bi(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zi{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function Hi(e,t=null,n=[],r=[],i=null,s=null,o=null){return new zi(e,t,n,r,i,s,o)}function Gi(e){const t=Br(e);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>function(e){return e.field.canonicalString()+e.op.toString()+Oi(e.value)}(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ei(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=ss(t.startAt)),t.endAt&&(e+="|ub:",e+=ss(t.endAt)),t.A=e}return t.A}function Wi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!as(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Ai(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!us(e.startAt,t.startAt)&&us(e.endAt,t.endAt)}function Ki(e){return ki.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Yi extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,n):new Qi(e,t,n):"array-contains"===t?new es(e,n):"in"===t?new ts(e,n):"not-in"===t?new ns(e,n):"array-contains-any"===t?new rs(e,n):new Yi(e,t,n)}static R(e,t,n){return"in"===t?new Xi(e,n):new Ji(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Ni(t,this.value)):null!==t&&Ci(this.value)===Ci(t)&&this.P(Ni(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Vr()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Qi extends Yi{constructor(e,t,n){super(e,t,n),this.key=ki.fromName(n.referenceValue)}matches(e){const t=ki.comparator(e.key,this.key);return this.P(t)}}class Xi extends Yi{constructor(e,t){super(e,"in",t),this.keys=Zi(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ji extends Yi{constructor(e,t){super(e,"not-in",t),this.keys=Zi(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ki.fromName(e.referenceValue))}class es extends Yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $i(t)&&xi(t.arrayValue,this.value)}}class ts extends Yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&xi(this.value.arrayValue,t)}}class ns extends Yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!xi(this.value.arrayValue,t)}}class rs extends Yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$i(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>xi(this.value.arrayValue,e))}}class is{constructor(e,t){this.position=e,this.before=t}}function ss(e){return`${e.before?"b":"a"}:${e.position.map(e=>Oi(e)).join(",")}`}class os{constructor(e,t="asc"){this.field=e,this.dir=t}}function as(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function cs(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?ki.comparator(ki.fromName(o.referenceValue),n.key):Ni(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function us(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ai(e.position[n],t.position[n]))return!1;return!0}class ls{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function hs(e,t,n,r,i,s,o,a){return new ls(e,t,n,r,i,s,o,a)}function ds(e){return new ls(e)}function fs(e){return!Ei(e.limit)&&"F"===e.limitType}function ps(e){return!Ei(e.limit)&&"L"===e.limitType}function ms(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gs(e){for(const t of e.filters)if(t.v())return t.field;return null}function ys(e){return null!==e.collectionGroup}function vs(e){const t=Br(e);if(null===t.V){t.V=[];const e=gs(t),n=ms(t);if(null!==e&&null===n)e.isKeyField()||t.V.push(new os(e)),t.V.push(new os(fi.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.V.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new os(fi.keyField(),e))}}}return t.V}function ws(e){const t=Br(e);if(!t.S)if("F"===t.limitType)t.S=Hi(t.path,t.collectionGroup,vs(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of vs(t))e.push(new os(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new is(t.endAt.position,!t.endAt.before):null,r=t.startAt?new is(t.startAt.position,!t.startAt.before):null;t.S=Hi(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.S}function bs(e,t,n){return new ls(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _s(e,t){return Wi(ws(e),ws(t))&&e.limitType===t.limitType}function Is(e){return`${Gi(ws(e))}|lt:${e.limitType}`}function Es(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Oi(t.value)}`;var t}).join(", ")}]`),Ei(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: "+ss(e.startAt)),e.endAt&&(t+=", endAt: "+ss(e.endAt)),`Target(${t})`}(ws(e))}; limitType=${e.limitType})`}function Ts(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ki.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!cs(e.startAt,vs(e),t)||e.endAt&&cs(e.endAt,vs(e),t))}(e,t)}function Ss(e){return(t,n)=>{let r=!1;for(const i of vs(e)){const e=ks(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ks(e,t,n){const r=e.field.isKeyField()?ki.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ni(r,i):Vr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Vr()}}function Cs(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ti(t)?"-0":t}}function As(e){return{integerValue:""+e}}function xs(e,t){return Si(t)?As(t):Cs(e,t)}class Ns{constructor(){this._=void 0}}function Rs(e,t,n){return e instanceof Ps?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ls?$s(e,t):e instanceof Fs?Ms(e,t):function(e,t){const n=Ds(e,t),r=js(n)+js(e.C);return Li(n)&&Li(e.C)?As(r):Cs(e.N,r)}(e,t)}function Os(e,t,n){return e instanceof Ls?$s(e,t):e instanceof Fs?Ms(e,t):n}function Ds(e,t){return e instanceof Us?Li(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ps extends Ns{}class Ls extends Ns{constructor(e){super(),this.elements=e}}function $s(e,t){const n=Vs(t);for(const r of e.elements)n.some(e=>Ai(e,r))||n.push(r);return{arrayValue:{values:n}}}class Fs extends Ns{constructor(e){super(),this.elements=e}}function Ms(e,t){let n=Vs(t);for(const r of e.elements)n=n.filter(e=>!Ai(e,r));return{arrayValue:{values:n}}}class Us extends Ns{constructor(e,t){super(),this.N=e,this.C=t}}function js(e){return vi(e.integerValue||e.doubleValue)}function Vs(e){return $i(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qs{constructor(e,t){this.field=e,this.transform=t}}class Bs{constructor(e,t){this.version=e,this.transformResults=t}}class zs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zs}static exists(e){return new zs(void 0,e)}static updateTime(e){return new zs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hs(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Gs{}function Ws(e,t,n){e instanceof Js?function(e,t,n){const r=e.value.clone(),i=to(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zs?function(e,t,n){if(!Hs(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=to(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(eo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ks(e,t,n){e instanceof Js?function(e,t,n){if(!Hs(e.precondition,t))return;const r=e.value.clone(),i=no(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Xs(t),r).setHasLocalMutations()}(e,t,n):e instanceof Zs?function(e,t,n){if(!Hs(e.precondition,t))return;const r=no(e.fieldTransforms,n,t),i=t.data;i.setAll(eo(e)),i.setAll(r),t.convertToFoundDocument(Xs(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Hs(e.precondition,t)&&t.convertToNoDocument(oi.min())}(e,t)}function Ys(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ds(r.transform,e||null);null!=i&&(null==n&&(n=Vi.empty()),n.set(r.field,i))}return n||null}function Qs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ri(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ls&&t instanceof Ls||e instanceof Fs&&t instanceof Fs?ri(e.elements,t.elements,Ai):e instanceof Us&&t instanceof Us?Ai(e.C,t.C):e instanceof Ps&&t instanceof Ps}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Xs(e){return e.isFoundDocument()?e.version:oi.min()}class Js extends Gs{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Zs extends Gs{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function eo(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function to(e,t,n){const r=new Map;qr(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Os(o,a,n[i]))}return r}function no(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Rs(e,s,t))}return r}class ro extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class io extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class so{constructor(e){this.count=e}}var oo,ao;function co(e){switch(e){case zr.OK:return Vr();case zr.CANCELLED:case zr.UNKNOWN:case zr.DEADLINE_EXCEEDED:case zr.RESOURCE_EXHAUSTED:case zr.INTERNAL:case zr.UNAVAILABLE:case zr.UNAUTHENTICATED:return!1;case zr.INVALID_ARGUMENT:case zr.NOT_FOUND:case zr.ALREADY_EXISTS:case zr.PERMISSION_DENIED:case zr.FAILED_PRECONDITION:case zr.ABORTED:case zr.OUT_OF_RANGE:case zr.UNIMPLEMENTED:case zr.DATA_LOSS:return!0;default:return Vr()}}function uo(e){if(void 0===e)return Mr("GRPC error has no .code"),zr.UNKNOWN;switch(e){case oo.OK:return zr.OK;case oo.CANCELLED:return zr.CANCELLED;case oo.UNKNOWN:return zr.UNKNOWN;case oo.DEADLINE_EXCEEDED:return zr.DEADLINE_EXCEEDED;case oo.RESOURCE_EXHAUSTED:return zr.RESOURCE_EXHAUSTED;case oo.INTERNAL:return zr.INTERNAL;case oo.UNAVAILABLE:return zr.UNAVAILABLE;case oo.UNAUTHENTICATED:return zr.UNAUTHENTICATED;case oo.INVALID_ARGUMENT:return zr.INVALID_ARGUMENT;case oo.NOT_FOUND:return zr.NOT_FOUND;case oo.ALREADY_EXISTS:return zr.ALREADY_EXISTS;case oo.PERMISSION_DENIED:return zr.PERMISSION_DENIED;case oo.FAILED_PRECONDITION:return zr.FAILED_PRECONDITION;case oo.ABORTED:return zr.ABORTED;case oo.OUT_OF_RANGE:return zr.OUT_OF_RANGE;case oo.UNIMPLEMENTED:return zr.UNIMPLEMENTED;case oo.DATA_LOSS:return zr.DATA_LOSS;default:return Vr()}}(ao=oo||(oo={}))[ao.OK=0]="OK",ao[ao.CANCELLED=1]="CANCELLED",ao[ao.UNKNOWN=2]="UNKNOWN",ao[ao.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ao[ao.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ao[ao.NOT_FOUND=5]="NOT_FOUND",ao[ao.ALREADY_EXISTS=6]="ALREADY_EXISTS",ao[ao.PERMISSION_DENIED=7]="PERMISSION_DENIED",ao[ao.UNAUTHENTICATED=16]="UNAUTHENTICATED",ao[ao.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ao[ao.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ao[ao.ABORTED=10]="ABORTED",ao[ao.OUT_OF_RANGE=11]="OUT_OF_RANGE",ao[ao.UNIMPLEMENTED=12]="UNIMPLEMENTED",ao[ao.INTERNAL=13]="INTERNAL",ao[ao.UNAVAILABLE=14]="UNAVAILABLE",ao[ao.DATA_LOSS=15]="DATA_LOSS";class lo{constructor(e,t){this.comparator=e,this.root=t||fo.EMPTY}insert(e,t){return new lo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fo.BLACK,null,null))}remove(e){return new lo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ho(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ho(this.root,e,this.comparator,!1)}getReverseIterator(){return new ho(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ho(this.root,e,this.comparator,!0)}}class ho{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fo.RED,this.left=null!=r?r:fo.EMPTY,this.right=null!=i?i:fo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new fo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vr();if(this.right.isRed())throw Vr();const e=this.left.check();if(e!==this.right.check())throw Vr();return e+(this.isRed()?0:1)}}fo.EMPTY=null,fo.RED=!0,fo.BLACK=!1,fo.EMPTY=new class{constructor(){this.size=0}get key(){throw Vr()}get value(){throw Vr()}get color(){throw Vr()}get left(){throw Vr()}get right(){throw Vr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new fo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class po{constructor(e){this.comparator=e,this.data=new lo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mo(this.data.getIterator())}getIteratorFrom(e){return new mo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof po))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new po(this.comparator);return t.data=e,t}}class mo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const go=new lo(ki.comparator);function yo(){return go}const vo=new lo(ki.comparator);function wo(){return vo}const bo=new lo(ki.comparator);function _o(){return bo}const Io=new po(ki.comparator);function Eo(...e){let t=Io;for(const n of e)t=t.add(n);return t}const To=new po(ni);function So(){return To}class ko{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,t)),new ko(oi.min(),n,So(),yo(),Eo())}}class Co{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Co(mi.EMPTY_BYTE_STRING,t,Eo(),Eo(),Eo())}}class Ao{constructor(e,t,n,r){this.k=e,this.removedTargetIds=t,this.key=n,this.$=r}}class xo{constructor(e,t){this.targetId=e,this.O=t}}class No{constructor(e,t,n=mi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ro{constructor(){this.F=0,this.M=Po(),this.L=mi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Eo(),t=Eo(),n=Eo();return this.M.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Vr()}}),new Co(this.L,this.B,e,t,n)}G(){this.U=!1,this.M=Po()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Oo{constructor(e){this.tt=e,this.et=new Map,this.nt=yo(),this.st=Do(),this.it=new po(ni)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.at(t,e.key,e.$);for(const t of e.removedTargetIds)this.at(t,e.key,e.$)}ct(e){this.forEachTarget(e,t=>{const n=this.ut(t);switch(e.state){case 0:this.ht(t)&&n.j(e.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(e.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(t);break;case 3:this.ht(t)&&(n.Z(),n.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),n.j(e.resumeToken));break;default:Vr()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((e,n)=>{this.ht(n)&&t(n)})}ft(e){const t=e.targetId,n=e.O.count,r=this.dt(t);if(r){const e=r.target;if(Ki(e))if(0===n){const n=new ki(e.path);this.at(t,n,Bi.newNoDocument(n,oi.min()))}else qr(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&Ki(i.target)){const t=new ki(i.target.path);null!==this.nt.get(t)||this.gt(r,t)||this.at(r,t,Bi.newNoDocument(t,e))}n.K&&(t.set(r,n.W()),n.G())}});let n=Eo();this.st.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.dt(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))});const r=new ko(e,t,this.it,this.nt,n);return this.nt=yo(),this.st=Do(),this.it=new po(ni),r}ot(e,t){if(!this.ht(e))return;const n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}at(e,t,n){if(!this.ht(e))return;const r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new Ro,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new po(ni),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Fr("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Et(e)}lt(e){this.et.set(e,new Ro),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Do(){return new lo(ki.comparator)}function Po(){return new lo(ki.comparator)}const Lo={asc:"ASCENDING",desc:"DESCENDING"},$o={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Fo{constructor(e,t){this.databaseId=e,this.D=t}}function Mo(e,t){return e.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uo(e,t){return e.D?t.toBase64():t.toUint8Array()}function jo(e,t){return Mo(e,t.toTimestamp())}function Vo(e){return qr(!!e),oi.fromTimestamp(function(e){const t=yi(e);return new si(t.seconds,t.nanos)}(e))}function qo(e,t){return function(e){return new hi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bo(e){const t=hi.fromString(e);return qr(fa(t)),t}function zo(e,t){return qo(e.databaseId,t.path)}function Ho(e,t){const n=Bo(t);if(n.get(1)!==e.databaseId.projectId)throw new Hr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Hr(zr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ki(Yo(n))}function Go(e,t){return qo(e.databaseId,t)}function Wo(e){const t=Bo(e);return 4===t.length?hi.emptyPath():Yo(t)}function Ko(e){return new hi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yo(e){return qr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qo(e,t,n){return{name:zo(e,t),fields:n.value.mapValue.fields}}function Xo(e,t,n){const r=Ho(e,t.name),i=Vo(t.updateTime),s=new Vi({mapValue:{fields:t.fields}}),o=Bi.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Jo(e,t){let n;if(t instanceof Js)n={update:Qo(e,t.key,t.value)};else if(t instanceof ro)n={delete:zo(e,t.key)};else if(t instanceof Zs)n={update:Qo(e,t.key,t.data),updateMask:da(t.fieldMask)};else{if(!(t instanceof io))return Vr();n={verify:zo(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Ps)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ls)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Us)return{fieldPath:t.field.canonicalString(),increment:n.C};throw Vr()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jo(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Vr()}(e,t.precondition)),n}function Zo(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?zs.updateTime(Vo(e.updateTime)):void 0!==e.exists?zs.exists(e.exists):zs.none()}(t.currentDocument):zs.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(qr("REQUEST_TIME"===t.setToServerValue),n=new Ps):"appendMissingElements"in t?n=new Ls(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new Fs(t.removeAllFromArray.values||[]):"increment"in t?n=new Us(e,t.increment):Vr();const r=fi.fromServerFormat(t.fieldPath);return new qs(r,n)}(e,t)):[];if(t.update){const i=Ho(e,t.update.name),s=new Vi({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new pi((e.fieldPaths||[]).map(e=>fi.fromServerFormat(e)))}(t.updateMask);return new Zs(i,s,e,n,r)}return new Js(i,s,n,r)}if(t.delete){const r=Ho(e,t.delete);return new ro(r,n)}if(t.verify){const r=Ho(e,t.verify);return new io(r,n)}return Vr()}function ea(e,t){return{documents:[Go(e,t.path)]}}function ta(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Go(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Go(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(Mi(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NAN"}};if(Fi(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Mi(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NOT_NAN"}};if(Fi(e.value))return{unaryFilter:{field:ca(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(e.field),op:aa(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:ca(e.field),direction:oa(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.D||Ei(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=ia(t.startAt)),t.endAt&&(n.structuredQuery.endAt=ia(t.endAt)),n}function na(e){let t=Wo(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=ra(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new os(ua(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ei(t)?null:t}(n.limit));let c=null;n.startAt&&(c=sa(n.startAt));let u=null;return n.endAt&&(u=sa(n.endAt)),hs(t,i,o,s,a,"F",c,u)}function ra(e){return e?void 0!==e.unaryFilter?[ha(e)]:void 0!==e.fieldFilter?[la(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>ra(e)).reduce((e,t)=>e.concat(t)):Vr():[]}function ia(e){return{before:e.before,values:e.position}}function sa(e){return new is(e.values||[],!!e.before)}function oa(e){return Lo[e]}function aa(e){return $o[e]}function ca(e){return{fieldPath:e.canonicalString()}}function ua(e){return fi.fromServerFormat(e.fieldPath)}function la(e){return Yi.create(ua(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Vr()}}(e.fieldFilter.op),e.fieldFilter.value)}function ha(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ua(e.unaryFilter.field);return Yi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ua(e.unaryFilter.field);return Yi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ua(e.unaryFilter.field);return Yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ua(e.unaryFilter.field);return Yi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Vr()}}function da(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function fa(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function pa(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=ga(t)),t=ma(e.get(n),t);return ga(t)}function ma(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function ga(e){return e+"\x01\x01"}function ya(e){const t=e.length;if(qr(t>=2),2===t)return qr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hi.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Vr(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Vr()}s=t+2}return new hi(r)}class va{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class wa{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}wa.store="owner",wa.key="owner";class ba{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}ba.store="mutationQueues",ba.keyPath="userId";class _a{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}_a.store="mutations",_a.keyPath="batchId",_a.userMutationsIndex="userMutationsIndex",_a.userMutationsKeyPath=["userId","batchId"];class Ia{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,pa(t)]}static key(e,t,n){return[e,pa(t),n]}}Ia.store="documentMutations",Ia.PLACEHOLDER=new Ia;class Ea{constructor(e,t){this.path=e,this.readTime=t}}class Ta{constructor(e,t){this.path=e,this.version=t}}class Sa{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Sa.store="remoteDocuments",Sa.readTimeIndex="readTimeIndex",Sa.readTimeIndexPath="readTime",Sa.collectionReadTimeIndex="collectionReadTimeIndex",Sa.collectionReadTimeIndexPath=["parentPath","readTime"];class ka{constructor(e){this.byteSize=e}}ka.store="remoteDocumentGlobal",ka.key="remoteDocumentGlobalKey";class Ca{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Ca.store="targets",Ca.keyPath="targetId",Ca.queryTargetsIndexName="queryTargetsIndex",Ca.queryTargetsKeyPath=["canonicalId","targetId"];class Aa{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}Aa.store="targetDocuments",Aa.keyPath=["targetId","path"],Aa.documentTargetsIndex="documentTargetsIndex",Aa.documentTargetsKeyPath=["path","targetId"];class xa{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}xa.key="targetGlobalKey",xa.store="targetGlobal";class Na{constructor(e,t){this.collectionId=e,this.parent=t}}Na.store="collectionParents",Na.keyPath=["collectionId","parent"];class Ra{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}Ra.store="clientMetadata",Ra.keyPath="clientId";class Oa{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}Oa.store="bundles",Oa.keyPath="bundleId";class Da{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}Da.store="namedQueries",Da.keyPath="name";const Pa=[ba.store,_a.store,Ia.store,Sa.store,Ca.store,wa.store,xa.store,Aa.store,Ra.store,ka.store,Na.store,Oa.store,Da.store],La="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $a{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Fa{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Vr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Fa((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Fa?t:Fa.resolve(t)}catch(e){return Fa.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Fa.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Fa.reject(t)}static resolve(e){return new Fa((t,n)=>{t(e)})}static reject(e){return new Fa((t,n)=>{n(e)})}static waitFor(e){return new Fa((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=Fa.resolve(!1);for(const n of e)t=t.next(e=>e?Fa.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}}class Ma{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Tt=new Gr,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{t.error?this.Tt.reject(new Va(e,t.error)):this.Tt.resolve()},this.transaction.onerror=t=>{const n=Ga(t.target.error);this.Tt.reject(new Va(e,n))}}static open(e,t,n,r){try{return new Ma(t,e.transaction(r,n))}catch(e){throw new Va(t,e)}}get It(){return this.Tt.promise}abort(e){e&&this.Tt.reject(e),this.aborted||(Fr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Ba(t)}}class Ua{constructor(e,t,n){this.name=e,this.version=t,this.At=n,12.2===Ua.Rt((0,S.z$)())&&Mr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fr("SimpleDb","Removing database:",e),za(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,S.hl)())return!1;if(Ua.Pt())return!0;const e=(0,S.z$)(),t=Ua.Rt(e),n=0<t&&t<10,r=Ua.vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Dt(e){return this.db||(Fr("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{t(e.target.result)},r.onblocked=()=>{n(new Va(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;n("VersionError"===r.name?new Hr(zr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===r.name?new Hr(zr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r):new Va(e,r))},r.onupgradeneeded=e=>{Fr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion),this.At.Ct(e.target.result,r.transaction,e.oldVersion,this.version).next(()=>{Fr("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.Nt&&(this.db.onversionchange=e=>this.Nt(e)),this.db}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Dt(e);const t=Ma.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch(e=>(t.abort(e),Fa.reject(e))).toPromise();return s.catch(()=>{}),await t.It,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(Fr("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class ja{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return za(this.kt.delete())}}class Va extends Hr{constructor(e,t){super(zr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function qa(e){return"IndexedDbTransactionError"===e.name}class Ba{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Fr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Fr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),za(n)}add(e){return Fr("SimpleDb","ADD",this.store.name,e,e),za(this.store.add(e))}get(e){return za(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fr("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fr("SimpleDb","DELETE",this.store.name,e),za(this.store.delete(e))}count(){return Fr("SimpleDb","COUNT",this.store.name),za(this.store.count())}Lt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(e,t)=>{r.push(t)}).next(()=>r)}Ut(e,t){Fr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(e,t,n)=>n.delete())}Kt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Bt(r,t)}jt(e){const t=this.cursor({});return new Fa((n,r)=>{t.onerror=e=>{const t=Ga(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}Bt(e,t){const n=[];return new Fa((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ja(i),o=t(i.primaryKey,i.value,s);if(o instanceof Fa){const e=o.catch(e=>(s.done(),Fa.reject(e)));n.push(e)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Fa.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function za(e){return new Fa((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=Ga(e.target.error);n(t)}})}let Ha=!1;function Ga(e){const t=Ua.Rt((0,S.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Hr("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ha||(Ha=!0,setTimeout(()=>{throw e},0)),e}}return e}class Wa extends $a{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function Ka(e,t){const n=Br(e);return Ua.St(n.Qt,t)}class Ya{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ws(t,e,n[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ks(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ks(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(oi.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Eo())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(e,t)=>Qs(e,t))&&ri(this.baseMutations,e.baseMutations,(e,t)=>Qs(e,t))}}class Qa{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qr(e.mutations.length===n.length);let r=_o();const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Qa(e,t,n,r)}}class Xa{constructor(e,t,n,r,i=oi.min(),s=oi.min(),o=mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ja{constructor(e){this.Wt=e}}function Za(e,t){if(t.document)return Xo(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ki.fromSegments(t.noDocument.path),n=ic(t.noDocument.readTime),r=Bi.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=ki.fromSegments(t.unknownDocument.path),n=ic(t.unknownDocument.version);return Bi.newUnknownDocument(e,n)}return Vr()}function ec(e,t,n){const r=tc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:zo(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Mo(e,t.version.toTimestamp())}}(e.Wt,t);return new Sa(null,null,n,t.hasCommittedMutations,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=rc(t.version),s=t.hasCommittedMutations;return new Sa(null,new Ea(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=rc(t.version);return new Sa(new Ta(e,n),null,null,!0,r,i)}return Vr()}function tc(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function nc(e){const t=new si(e[0],e[1]);return oi.fromTimestamp(t)}function rc(e){const t=e.toTimestamp();return new va(t.seconds,t.nanoseconds)}function ic(e){const t=new si(e.seconds,e.nanoseconds);return oi.fromTimestamp(t)}function sc(e,t){const n=(t.baseMutations||[]).map(t=>Zo(e.Wt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(e.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const r=t.mutations.map(t=>Zo(e.Wt,t)),i=si.fromMillis(t.localWriteTimeMs);return new Ya(t.batchId,i,n,r)}function oc(e){const t=ic(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?ic(e.lastLimboFreeSnapshotVersion):oi.min();let r;var i;return void 0!==e.query.documents?(qr(1===(i=e.query).documents.length),r=ws(ds(Wo(i.documents[0])))):r=function(e){return ws(na(e))}(e.query),new Xa(r,e.targetId,0,e.lastListenSequenceNumber,t,n,mi.fromBase64String(e.resumeToken))}function ac(e,t){const n=rc(t.snapshotVersion),r=rc(t.lastLimboFreeSnapshotVersion);let i;i=Ki(t.target)?ea(e.Wt,t.target):ta(e.Wt,t.target);const s=t.resumeToken.toBase64();return new Ca(t.targetId,Gi(t.target),n,s,t.sequenceNumber,r,i)}function cc(e){const t=na({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?bs(t,t.limit,"L"):t}class uc{getBundleMetadata(e,t){return lc(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:ic(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return lc(e).put({bundleId:(n=t).id,createTime:rc(Vo(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return hc(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:cc(t.bundledQuery),readTime:ic(t.readTime)};var t})}saveNamedQuery(e,t){return hc(e).put(function(e){return{name:e.name,readTime:rc(Vo(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function lc(e){return Ka(e,Oa.store)}function hc(e){return Ka(e,Da.store)}class dc{constructor(){this.Gt=new fc}addToCollectionParentIndex(e,t){return this.Gt.add(t),Fa.resolve()}getCollectionParents(e,t){return Fa.resolve(this.Gt.getEntries(t))}}class fc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new po(hi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new po(hi.comparator)).toArray()}}class pc{constructor(){this.zt=new fc}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const i={collectionId:n,parent:pa(r)};return mc(e).put(i)}return Fa.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ii(t),""],!1,!0);return mc(e).Lt(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(ya(r.parent))}return n})}}function mc(e){return Ka(e,Na.store)}const gc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yc{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new yc(e,yc.DEFAULT_COLLECTION_PERCENTILE,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vc(e,t,n){const r=e.store(_a.store),i=e.store(Ia.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Kt({range:o},(e,t,n)=>(a++,n.delete()));s.push(c.next(()=>{qr(1===a)}));const u=[];for(const l of n.mutations){const e=Ia.key(t,l.key.path,n.batchId);s.push(i.delete(e)),u.push(l.key)}return Fa.waitFor(s).next(()=>u)}function wc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Vr();t=e.noDocument}return JSON.stringify(t).length}yc.DEFAULT_COLLECTION_PERCENTILE=10,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yc.DEFAULT=new yc(41943040,yc.DEFAULT_COLLECTION_PERCENTILE,yc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yc.DISABLED=new yc(-1,0,0);class bc{constructor(e,t,n,r){this.userId=e,this.N=t,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(e,t,n,r){qr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new bc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).Kt({index:_a.userMutationsIndex,range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=Ec(e),s=Ic(e);return s.add({}).next(o=>{qr("number"==typeof o);const a=new Ya(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>Jo(e.Wt,t)),i=n.mutations.map(t=>Jo(e.Wt,t));return new _a(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),u=[];let l=new po((e,t)=>ni(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Ia.key(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,Ia.PLACEHOLDER))}return l.forEach(t=>{u.push(this.Ht.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Fa.waitFor(u).next(()=>a)})}lookupMutationBatch(e,t){return Ic(e).get(t).next(e=>e?(qr(e.userId===this.userId),sc(this.N,e)):null)}Xt(e,t){return this.Jt[t]?Fa.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Jt[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Ic(e).Kt({index:_a.userMutationsIndex,range:r},(e,t,r)=>{t.userId===this.userId&&(qr(t.batchId>=n),i=sc(this.N,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Ic(e).Kt({index:_a.userMutationsIndex,range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ic(e).Lt(_a.userMutationsIndex,t).next(e=>e.map(e=>sc(this.N,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Ia.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Ec(e).Kt({range:r},(n,r,s)=>{const[o,a,c]=n,u=ya(a);if(o===this.userId&&t.path.isEqual(u))return Ic(e).get(c).next(e=>{if(!e)throw Vr();qr(e.userId===this.userId),i.push(sc(this.N,e))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new po(ni);const r=[];return t.forEach(t=>{const i=Ia.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Ec(e).Kt({range:s},(e,r,i)=>{const[s,o,a]=e,c=ya(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(o)}),Fa.waitFor(r).next(()=>this.Zt(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Ia.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new po(ni);return Ec(e).Kt({range:s},(e,t,i)=>{const[s,a,c]=e,u=ya(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()}).next(()=>this.Zt(e,o))}Zt(e,t){const n=[],r=[];return t.forEach(t=>{r.push(Ic(e).get(t).next(e=>{if(null===e)throw Vr();qr(e.userId===this.userId),n.push(sc(this.N,e))}))}),Fa.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return vc(e.Qt,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Fa.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Fa.resolve();const n=IDBKeyRange.lowerBound(Ia.prefixForUser(this.userId)),r=[];return Ec(e).Kt({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=ya(e[1]);r.push(t)}else n.done()}).next(()=>{qr(0===r.length)})})}containsKey(e,t){return _c(e,this.userId,t)}ee(e){return Tc(e).get(this.userId).next(e=>e||new ba(this.userId,-1,""))}}function _c(e,t,n){const r=Ia.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ec(e).Kt({range:s,qt:!0},(e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()}).next(()=>o)}function Ic(e){return Ka(e,_a.store)}function Ec(e){return Ka(e,Ia.store)}function Tc(e){return Ka(e,ba.store)}class Sc{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Sc(0)}static ie(){return new Sc(-1)}}class kc{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const n=new Sc(t.highestTargetId);return t.highestTargetId=n.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(e=>oi.fromTimestamp(new si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.re(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.oe(e,r)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.re(e).next(n=>(n.targetCount+=1,this.ce(t,n),this.oe(e,n))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cc(e).delete(t.targetId)).next(()=>this.re(e)).next(t=>(qr(t.targetCount>0),t.targetCount-=1,this.oe(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return Cc(e).Kt((s,o)=>{const a=oc(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>Fa.waitFor(i)).next(()=>r)}forEachTarget(e,t){return Cc(e).Kt((e,n)=>{const r=oc(n);t(r)})}re(e){return Ac(e).get(xa.key).next(e=>(qr(null!==e),e))}oe(e,t){return Ac(e).put(xa.key,t)}ae(e,t){return Cc(e).put(ac(this.N,t))}ce(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.re(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Gi(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Cc(e).Kt({range:r,index:Ca.queryTargetsIndexName},(e,n,r)=>{const s=oc(n);Wi(t,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=xc(e);return t.forEach(t=>{const s=pa(t.path);r.push(i.put(new Aa(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))}),Fa.waitFor(r)}removeMatchingKeys(e,t,n){const r=xc(e);return Fa.forEach(t,t=>{const i=pa(t.path);return Fa.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=xc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=xc(e);let i=Eo();return r.Kt({range:n,qt:!0},(e,t,n)=>{const r=ya(e[1]),s=new ki(r);i=i.add(s)}).next(()=>i)}containsKey(e,t){const n=pa(t.path),r=IDBKeyRange.bound([n],[ii(n)],!1,!0);let i=0;return xc(e).Kt({index:Aa.documentTargetsIndex,qt:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}Et(e,t){return Cc(e).get(t).next(e=>e?oc(e):null)}}function Cc(e){return Ka(e,Ca.store)}function Ac(e){return Ka(e,xa.store)}function xc(e){return Ka(e,Aa.store)}async function Nc(e){if(e.code!==zr.FAILED_PRECONDITION||e.message!==La)throw e;Fr("LocalStore","Unexpectedly lost primary lease")}function Rc([e,t],[n,r]){const i=ni(e,n);return 0===i?ni(t,r):i}class Oc{constructor(e){this.ue=e,this.buffer=new po(Rc),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Rc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Dc{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){const t=this.de?3e5:6e4;Fr("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.we=null,this.de=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){qa(e)?Fr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Nc(e)}await this._e(e)})}}class Pc{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Fa.resolve(Zr.T);const n=new Oc(t);return this.me.forEachTarget(e,e=>n.fe(e.sequenceNumber)).next(()=>this.me.ye(e,e=>n.fe(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.me.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fr("LruGarbageCollector","Garbage collection skipped; disabled"),Fa.resolve(gc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Fr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gc):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let n,r,i,s,o,a,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Fr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),$r()<=T.in.DEBUG&&Fr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-u}ms`),Fa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class Lc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Pc(e,t)}(this,t)}ge(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Ee(e){let t=0;return this.ye(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Te(e,(e,n)=>t(n))}addReference(e,t,n){return $c(e,n)}removeReference(e,t,n){return $c(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return $c(e,t)}Ie(e,t){return function(e,t){let n=!1;return Tc(e).jt(r=>_c(e,r,t).next(e=>(e&&(n=!0),Fa.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Te(e,(s,o)=>{if(o<=t){const t=this.Ie(e,s).next(t=>{if(!t)return i++,n.getEntry(e,s).next(()=>(n.removeEntry(s),xc(e).delete([0,pa(s.path)])))});r.push(t)}}).next(()=>Fa.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return $c(e,t)}Te(e,t){const n=xc(e);let r,i=Zr.T;return n.Kt({index:Aa.documentTargetsIndex},([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Zr.T&&t(new ki(ya(r)),i),i=o,r=s):i=Zr.T}).next(()=>{i!==Zr.T&&t(new ki(ya(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $c(e,t){return xc(e).put(function(e,t){return new Aa(0,pa(e.path),t)}(t,e.currentSequenceNumber))}class Fc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){ci(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return ui(this.inner)}}class Mc{constructor(){this.changes=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:oi.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Bi.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Fa.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Uc{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,n){return qc(e).put(Bc(t),n)}removeEntry(e,t){const n=qc(e),r=Bc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Ae(e,n)))}getEntry(e,t){return qc(e).get(Bc(t)).next(e=>this.Re(t,e))}be(e,t){return qc(e).get(Bc(t)).next(e=>({document:this.Re(t,e),size:wc(e)}))}getEntries(e,t){let n=yo();return this.Pe(e,t,(e,t)=>{const r=this.Re(e,t);n=n.insert(e,r)}).next(()=>n)}ve(e,t){let n=yo(),r=new lo(ki.comparator);return this.Pe(e,t,(e,t)=>{const i=this.Re(e,t);n=n.insert(e,i),r=r.insert(e,wc(t))}).next(()=>({documents:n,Ve:r}))}Pe(e,t,n){if(t.isEmpty())return Fa.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return qc(e).Kt({range:r},(e,t,r)=>{const o=ki.fromSegments(e);for(;s&&ki.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(e,t,n){let r=yo();const i=t.path.length+1,s={};if(n.isEqual(oi.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=tc(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=Sa.collectionReadTimeIndex}return qc(e).Kt(s,(e,n,s)=>{if(e.length!==i)return;const o=Za(this.N,n);t.path.isPrefixOf(o.key.path)?Ts(t,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(e){return new jc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return Vc(e).get(ka.key).next(e=>(qr(!!e),e))}Ae(e,t){return Vc(e).put(ka.key,t)}Re(e,t){if(t){const e=Za(this.N,t);if(!e.isNoDocument()||!e.version.isEqual(oi.min()))return e}return Bi.newInvalidDocument(e)}}class jc extends Mc{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Fc(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new po((e,t)=>ni(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=ec(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const c=wc(a);n+=c-o,t.push(this.Se.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=ec(this.Se.N,Bi.newNoDocument(i,oi.min()),this.getReadTime(i));t.push(this.Se.addEntry(e,i,n))}else t.push(this.Se.removeEntry(e,i))}),r.forEach(n=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,n))}),t.push(this.Se.updateMetadata(e,n)),Fa.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(e=>(this.De.set(t,e.size),e.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:e,Ve:t})=>(t.forEach((e,t)=>{this.De.set(e,t)}),e))}}function Vc(e){return Ka(e,ka.store)}function qc(e){return Ka(e,Sa.store)}function Bc(e){return e.path.toArray()}class zc{constructor(e){this.N=e}Ct(e,t,n,r){qr(n<r&&n>=0&&r<=11);const i=new Ma("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(wa.store)}(e),function(e){e.createObjectStore(ba.store,{keyPath:ba.keyPath}),e.createObjectStore(_a.store,{keyPath:_a.keyPath,autoIncrement:!0}).createIndex(_a.userMutationsIndex,_a.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Ia.store)}(e),Hc(e),function(e){e.createObjectStore(Sa.store)}(e));let s=Fa.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Aa.store),e.deleteObjectStore(Ca.store),e.deleteObjectStore(xa.store)}(e),Hc(e)),s=s.next(()=>function(e){const t=e.store(xa.store),n=new xa(0,0,oi.min().toTimestamp(),0);return t.put(xa.key,n)}(i))),n<4&&r>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(_a.store).Lt().next(n=>{e.deleteObjectStore(_a.store),e.createObjectStore(_a.store,{keyPath:_a.keyPath,autoIncrement:!0}).createIndex(_a.userMutationsIndex,_a.userMutationsKeyPath,{unique:!0});const r=t.store(_a.store),i=n.map(e=>r.put(e));return Fa.waitFor(i)})}(e,i))),s=s.next(()=>{!function(e){e.createObjectStore(Ra.store,{keyPath:Ra.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(()=>this.Ce(i))),n<6&&r>=6&&(s=s.next(()=>(function(e){e.createObjectStore(ka.store)}(e),this.Ne(i)))),n<7&&r>=7&&(s=s.next(()=>this.xe(i))),n<8&&r>=8&&(s=s.next(()=>this.ke(e,i))),n<9&&r>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(Sa.store);t.createIndex(Sa.readTimeIndex,Sa.readTimeIndexPath,{unique:!1}),t.createIndex(Sa.collectionReadTimeIndex,Sa.collectionReadTimeIndexPath,{unique:!1})}(t)})),n<10&&r>=10&&(s=s.next(()=>this.$e(i))),n<11&&r>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Oa.store,{keyPath:Oa.keyPath})}(e),function(e){e.createObjectStore(Da.store,{keyPath:Da.keyPath})}(e)})),s}Ne(e){let t=0;return e.store(Sa.store).Kt((e,n)=>{t+=wc(n)}).next(()=>{const n=new ka(t);return e.store(ka.store).put(ka.key,n)})}Ce(e){const t=e.store(ba.store),n=e.store(_a.store);return t.Lt().next(t=>Fa.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Lt(_a.userMutationsIndex,r).next(n=>Fa.forEach(n,n=>{qr(n.userId===t.userId);const r=sc(this.N,n);return vc(e,t.userId,r).next(()=>{})}))}))}xe(e){const t=e.store(Aa.store),n=e.store(Sa.store);return e.store(xa.store).get(xa.key).next(e=>{const r=[];return n.Kt((n,i)=>{const s=new hi(n),o=function(e){return[0,pa(e)]}(s);r.push(t.get(o).next(n=>n?Fa.resolve():(n=>t.put(new Aa(0,pa(n),e.highestListenSequenceNumber)))(s)))}).next(()=>Fa.waitFor(r))})}ke(e,t){e.createObjectStore(Na.store,{keyPath:Na.keyPath});const n=t.store(Na.store),r=new fc,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:pa(r)})}};return t.store(Sa.store).Kt({qt:!0},(e,t)=>{const n=new hi(e);return i(n.popLast())}).next(()=>t.store(Ia.store).Kt({qt:!0},([e,t,n],r)=>{const s=ya(t);return i(s.popLast())}))}$e(e){const t=e.store(Ca.store);return t.Kt((e,n)=>{const r=oc(n),i=ac(this.N,r);return t.put(i)})}}function Hc(e){e.createObjectStore(Aa.store,{keyPath:Aa.keyPath}).createIndex(Aa.documentTargetsIndex,Aa.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ca.store,{keyPath:Ca.keyPath}).createIndex(Ca.queryTargetsIndexName,Ca.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xa.store)}const Gc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Wc{constructor(e,t,n,r,i,s,o,a,c,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=c,this.Me=u,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=e=>Promise.resolve(),!Wc.bt())throw new Hr(zr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lc(this,r),this.We=t+"main",this.N=new Ja(a),this.Ge=new Ua(this.We,11,new zc(this.N)),this.ze=new kc(this.referenceDelegate,this.N),this.Ht=new pc,this.He=function(e,t){return new Uc(e,t)}(this.N,this.Ht),this.Je=new uc,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===u&&Mr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Hr(zr.FAILED_PRECONDITION,Gc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Zr(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){return this.Qe=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(async()=>{this.started&&await this.Xe()}))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Yc(e).put(new Ra(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(qa(e))return Fr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Kc(e).get(wa.key).next(e=>Fa.resolve(this.cn(e)))}un(e){return Yc(e).delete(this.clientId)}async hn(){if(this.isPrimary&&!this.ln(this.je,18e5)){this.je=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Ka(e,Ra.store);return t.Lt().next(e=>{const n=this.fn(e,18e5),r=e.filter(e=>-1===n.indexOf(e));return Fa.forEach(r,e=>t.delete(e.clientId)).next(()=>r)})}).catch(()=>[]);if(this.Ye)for(const t of e)this.Ye.removeItem(this.dn(t.clientId))}}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Fa.resolve(!0):Kc(e).get(wa.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.cn(t)&&this.networkEnabled)return!0;if(!this.cn(t)){if(!t.allowTabSynchronization)throw new Hr(zr.FAILED_PRECONDITION,Gc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Yc(e).Lt().next(e=>void 0===this.fn(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),await this.Ge.runTransaction("shutdown","readwrite",[wa.store,Ra.store],e=>{const t=new Wa(e,Zr.T);return this.on(t).next(()=>this.un(t))}),this.Ge.close(),this.yn()}fn(e,t){return e.filter(e=>this.ln(e.updateTimeMs,t)&&!this.wn(e.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>Yc(e).Lt().next(e=>this.fn(e,18e5).map(e=>e.clientId)))}get started(){return this.Be}getMutationQueue(e){return bc.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,n){let r;return Fr("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",Pa,i=>(r=new Wa(i,this.Le?this.Le.next():Zr.T),"readwrite-primary"===t?this.sn(r).next(e=>!!e||this.rn(r)).next(t=>{if(!t)throw Mr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Hr(zr.FAILED_PRECONDITION,La);return n(r)}).next(e=>this.an(r).next(()=>e)):this.En(r).next(()=>n(r)))).then(e=>(r.raiseOnCommittedEvent(),e))}En(e){return Kc(e).get(wa.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.cn(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Hr(zr.FAILED_PRECONDITION,Gc)})}an(e){const t=new wa(this.clientId,this.allowTabSynchronization,Date.now());return Kc(e).put(wa.key,t)}static bt(){return Ua.bt()}on(e){const t=Kc(e);return t.get(wa.key).next(e=>this.cn(e)?(Fr("IndexedDbPersistence","Releasing primary lease."),t.delete(wa.key)):Fa.resolve())}ln(e,t){const n=Date.now();return!(e<n-t||e>n&&(Mr(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,S.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Fr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Mr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Mr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Kc(e){return Ka(e,wa.store)}function Yc(e){return Ka(e,Ra.store)}function Qc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Xc{constructor(e,t){this.progress=e,this.Tn=t}}class Jc{constructor(e,t,n){this.He=e,this.In=t,this.Ht=n}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(n=>this.Rn(e,t,n))}Rn(e,t,n){return this.He.getEntry(e,t).next(e=>{for(const t of n)t.applyToLocalView(e);return e})}bn(e,t){e.forEach((e,n)=>{for(const r of t)r.applyToLocalView(n)})}Pn(e,t){return this.He.getEntries(e,t).next(t=>this.vn(e,t).next(()=>t))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>this.bn(t,e))}getDocumentsMatchingQuery(e,t,n){return function(e){return ki.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):ys(t)?this.Sn(e,t,n):this.Dn(e,t,n)}Vn(e,t){return this.An(e,new ki(t)).next(e=>{let t=wo();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}Sn(e,t,n){const r=t.collectionGroup;let i=wo();return this.Ht.getCollectionParents(e,r).next(s=>Fa.forEach(s,s=>{const o=function(e,t){return new ls(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Dn(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}Dn(e,t,n){let r,i;return this.He.getDocumentsMatchingQuery(e,t,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(t=>(i=t,this.Cn(e,i,r).next(e=>{r=e;for(const t of i)for(const e of t.mutations){const n=e.key;let i=r.get(n);null==i&&(i=Bi.newInvalidDocument(n),r=r.insert(n,i)),Ks(e,i,t.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((e,n)=>{Ts(t,n)||(r=r.remove(e))}),r))}Cn(e,t,n){let r=Eo();for(const s of t)for(const e of s.mutations)e instanceof Zs&&null===n.get(e.key)&&(r=r.add(e.key));let i=n;return this.He.getEntries(e,r).next(e=>(e.forEach((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))}),i))}}class Zc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Nn=n,this.xn=r}static kn(e,t){let n=Eo(),r=Eo();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zc(e,t.fromCache,n,r)}}class eu{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(oi.min())?this.Fn(e,t):this.On.Pn(e,r).next(i=>{const s=this.Mn(t,i);return(fs(t)||ps(t))&&this.Ln(t.limitType,s,r,n)?this.Fn(e,t):($r()<=T.in.DEBUG&&Fr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Es(t)),this.On.getDocumentsMatchingQuery(e,t,n).next(e=>(s.forEach(t=>{e=e.insert(t.key,t)}),e)))})}Mn(e,t){let n=new po(Ss(e));return t.forEach((t,r)=>{Ts(e,r)&&(n=n.add(r))}),n}Ln(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(e,t){return $r()<=T.in.DEBUG&&Fr("QueryEngine","Using full collection scan to execute query:",Es(t)),this.On.getDocumentsMatchingQuery(e,t,oi.min())}}class tu{constructor(e,t,n,r){this.persistence=e,this.Bn=t,this.N=r,this.Un=new lo(ni),this.qn=new Fc(e=>Gi(e),Wi),this.Kn=oi.min(),this.In=e.getMutationQueue(n),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Jc(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function nu(e,t,n,r){return new tu(e,t,n,r)}async function ru(e,t){const n=Br(e);let r=n.In,i=n.Qn;const s=await n.persistence.runTransaction("Handle user change","readonly",e=>{let s;return n.In.getAllMutationBatches(e).next(o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Jc(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e))).next(t=>{const n=[],r=[];let o=Eo();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.Pn(e,o).next(e=>({Wn:e,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s}function iu(e){const t=Br(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function su(e,t,n,r,i){let s=Eo();return n.forEach(e=>s=s.add(e)),t.getEntries(e,s).next(e=>{let s=yo();return n.forEach((n,o)=>{const a=e.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(oi.min())?(t.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,c),s=s.insert(n,o)):Fr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function ou(e,t){const n=Br(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)))}function au(e,t){const n=Br(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.ze.getTargetData(e,t).next(i=>i?(r=i,Fa.resolve(r)):n.ze.allocateTargetId(e).next(i=>(r=new Xa(t,i,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e})}async function cu(e,t,n){const r=Br(e),i=r.Un.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!qa(e))throw e;Fr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)}function uu(e,t,n){const r=Br(e);let i=oi.min(),s=Eo();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Br(e),i=r.qn.get(n);return void 0!==i?Fa.resolve(r.Un.get(i)):r.ze.getTargetData(t,n)}(r,e,ws(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Bn.getDocumentsMatchingQuery(e,t,n?i:oi.min(),n?s:Eo())).next(e=>({documents:e,Gn:s})))}function lu(e,t){const n=Br(e),r=Br(n.ze),i=n.Un.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.Et(e,t).next(e=>e?e.target:null))}function hu(e){const t=Br(e);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(e,t,n){const r=Br(e);let i=yo(),s=tc(n);const o=qc(t),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Sa.readTimeIndex,range:a},(e,t)=>{const n=Za(r.N,t);i=i.insert(n.key,n),s=t.readTime}).next(()=>({Tn:i,readTime:nc(s)}))}(t.jn,e,t.Kn)).then(({Tn:e,readTime:n})=>(t.Kn=n,e))}async function du(e,t,n=Eo()){const r=await au(e,ws(cc(t.bundledQuery))),i=Br(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const s=Vo(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(e,t);const o=r.withResumeToken(mi.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next(()=>i.ze.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.ze.addMatchingKeys(e,n,r.targetId)).next(()=>i.Je.saveNamedQuery(e,t))})}class fu{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Fa.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:Vo(n.createTime)}),Fa.resolve()}getNamedQuery(e,t){return Fa.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:cc(e.bundledQuery),readTime:Vo(e.readTime)}}(t)),Fa.resolve()}}class pu{constructor(){this.Zn=new po(mu.ts),this.es=new po(mu.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new mu(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new mu(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}cs(e){const t=new ki(new hi([])),n=new mu(t,e),r=new mu(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new ki(new hi([])),n=new mu(t,e),r=new mu(t,e+1);let i=Eo();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new mu(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mu{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return ki.comparator(e.key,t.key)||ni(e.ls,t.ls)}static ns(e,t){return ni(e.ls,t.ls)||ki.comparator(e.key,t.key)}}class gu{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new po(mu.ts)}checkEmpty(e){return Fa.resolve(0===this.In.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const s=new Ya(i,t,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new mu(o.key,i)),this.Ht.addToCollectionParentIndex(e,o.key.path.popLast());return Fa.resolve(s)}lookupMutationBatch(e,t){return Fa.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const n=this._s(t+1),r=n<0?0:n;return Fa.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Fa.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Fa.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mu(t,0),r=new mu(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this.ws(e.ls);i.push(t)}),Fa.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new po(ni);return t.forEach(e=>{const t=new mu(e,0),r=new mu(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),Fa.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ki.isDocumentKey(i)||(i=i.child(""));const s=new mu(new ki(i),0);let o=new po(ni);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)},s),Fa.resolve(this.gs(o))}gs(e){const t=[];return e.forEach(e=>{const n=this.ws(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){qr(0===this.ys(t.batchId,"removed")),this.In.shift();let n=this.ds;return Fa.forEach(t.mutations,r=>{const i=new mu(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}te(e){}containsKey(e,t){const n=new mu(t,0),r=this.ds.firstAfterOrEqual(n);return Fa.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return Fa.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class yu{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new lo(ki.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Fa.resolve(n?n.document.clone():Bi.newInvalidDocument(t))}getEntries(e,t){let n=yo();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Bi.newInvalidDocument(e))}),Fa.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=yo();const i=new ki(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||Ts(t,i)&&(r=r.insert(i.key,i.clone()))}return Fa.resolve(r)}Es(e,t){return Fa.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vu(this)}getSize(e){return Fa.resolve(this.size)}}class vu extends Mc{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?t.push(this.Se.addEntry(e,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Fa.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class wu{constructor(e){this.persistence=e,this.Ts=new Fc(e=>Gi(e),Wi),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.Is=0,this.As=new pu,this.targetCount=0,this.Rs=Sc.se()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),Fa.resolve()}getLastRemoteSnapshotVersion(e){return Fa.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Fa.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Fa.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Fa.resolve()}ae(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Sc(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Fa.resolve()}updateTargetData(e,t){return this.ae(t),Fa.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Fa.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Ts.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),Fa.waitFor(i).next(()=>r)}getTargetCount(e){return Fa.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Fa.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Fa.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Fa.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Fa.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Fa.resolve(n)}containsKey(e,t){return Fa.resolve(this.As.containsKey(t))}}class bu{constructor(e,t){this.bs={},this.Le=new Zr(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new wu(this),this.Ht=new dc,this.He=function(e,t){return new yu(e,t)}(this.Ht,e=>this.referenceDelegate.Ps(e)),this.N=new Ja(t),this.Je=new fu(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new gu(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,n){Fr("MemoryPersistence","Starting transaction:",e);const r=new _u(this.Le.next());return this.referenceDelegate.vs(),n(r).next(e=>this.referenceDelegate.Vs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ss(e,t){return Fa.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class _u extends $a{constructor(e){super(),this.currentSequenceNumber=e}}class Iu{constructor(e){this.persistence=e,this.Ds=new pu,this.Cs=null}static Ns(e){return new Iu(e)}get xs(){if(this.Cs)return this.Cs;throw Vr()}addReference(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Fa.resolve()}removeReference(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Fa.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Fa.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(e=>this.xs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.xs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fa.forEach(this.xs,n=>{const r=ki.fromPath(n);return this.ks(e,r).next(e=>{e||t.removeEntry(r)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Fa.or([()=>Fa.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function Eu(e,t){return`firestore_clients_${e}_${t}`}function Tu(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Su(e,t){return`firestore_targets_${e}_${t}`}class ku{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static $s(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Hr(r.error.code,r.error.message))),s?new ku(e,t,r.state,i):(Mr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cu{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static $s(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Hr(n.error.code,n.error.message))),i?new Cu(e,n.state,r):(Mr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Au{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=So();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=Si(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new Au(e,i):(Mr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class xu{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new xu(t.clientId,t.onlineState):(Mr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Nu{constructor(){this.activeTargetIds=So()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ru{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new lo(ni),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=Eu(this.persistenceKey,this.Ls),this.Qs=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Nu),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Js=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.pn();for(const n of e){if(n===this.Ls)continue;const e=this.getItem(Eu(this.persistenceKey,n));if(e){const t=Au.$s(n,e);t&&(this.qs=this.qs.insert(t.clientId,t))}}this.Ys();const t=this.storage.getItem(this.Hs);if(t){const e=this.Xs(t);e&&this.Zs(e)}for(const n of this.Ks)this.Us(n);this.Ks=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,n){this.ei(e,t,n),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Su(this.persistenceKey,e));if(n){const r=Cu.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Su(this.persistenceKey,e))}updateQueryState(e,t,n){this.ii(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.ni(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fr("SharedClientState","READ",e,t),t}setItem(e,t){Fr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){const t=e;if(t.storageArea===this.storage){if(Fr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.js)return void Mr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(async()=>{if(this.started){if(null!==t.key)if(this.Ws.test(t.key)){if(null==t.newValue){const e=this.ai(t.key);return this.ci(e,null)}{const e=this.ui(t.key,t.newValue);if(e)return this.ci(e.clientId,e)}}else if(this.Gs.test(t.key)){if(null!==t.newValue){const e=this.hi(t.key,t.newValue);if(e)return this.li(e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.fi(t.key,t.newValue);if(e)return this.di(e)}}else if(t.key===this.Hs){if(null!==t.newValue){const e=this.Xs(t.newValue);if(e)return this.Zs(e)}}else if(t.key===this.Qs){const e=function(e){let t=Zr.T;if(null!=e)try{const n=JSON.parse(e);qr("number"==typeof n),t=n}catch(e){Mr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Zr.T&&this.sequenceNumberHandler(e)}else if(t.key===this.Js)return this.syncEngine.wi()}else this.Ks.push(t)})}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,n){const r=new ku(this.currentUser,e,t,n),i=Tu(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}ni(e){const t=Tu(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,n){const r=Su(this.persistenceKey,e),i=new Cu(e,t,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const n=this.ai(e);return Au.$s(n,t)}hi(e,t){const n=this.Gs.exec(e),r=Number(n[1]);return ku.$s(new Dr(void 0!==n[2]?n[2]:null),r,t)}fi(e,t){const n=this.zs.exec(e),r=Number(n[1]);return Cu.$s(r,t)}Xs(e){return xu.$s(e)}async li(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine._i(e.batchId,e.state,e.error);Fr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ci(e,t){const n=t?this.qs.insert(e,t):this.qs.remove(e),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(e=>{r.has(e)||s.push(e)}),r.forEach(e=>{i.has(e)||o.push(e)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=So();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class Ou{constructor(){this.yi=new Nu,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,n){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Nu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Du{Ei(e){}shutdown(){}}class Pu{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Fr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Fr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Lu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $u{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class Fu extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,n,r){const i=this.Bi(e,t);Fr("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(e,i,s,n).then(e=>(Fr("RestConnection","Received: ",e),e),t=>{throw Ur("RestConnection",`${e} failed with error: `,t,"url: ",i,"request:",n),t})}Ki(e,t,n,r){return this.Li(e,t,n,r)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+Pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}Bi(e,t){return`${this.Fi}/v1/${t}:${Lu[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,n,r){return new Promise((i,s)=>{const o=new Or;o.listenOnce(Cr.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case kr.NO_ERROR:const t=o.getResponseJson();Fr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case kr.TIMEOUT:Fr("Connection",'RPC "'+e+'" timed out'),s(new Hr(zr.DEADLINE_EXCEEDED,"Request time out"));break;case kr.HTTP_ERROR:const n=o.getStatus();if(Fr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(zr).indexOf(t)>=0?t:zr.UNKNOWN}(e.status);s(new Hr(t,e.message))}else s(new Hr(zr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Hr(zr.UNAVAILABLE,"Connection failed."));break;default:Vr()}}finally{Fr("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);o.send(t,"POST",a,n,15)})}ji(e,t){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Tr(),i=Sr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Nr({})),this.Ui(s.initMessageHeaders,t),(0,S.uI)()||(0,S.b$)()||(0,S.d)()||(0,S.w1)()||(0,S.Mn)()||(0,S.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Fr("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let c=!1,u=!1;const l=new $u({vi:e=>{u?Fr("Connection","Not sending because WebChannel is closed:",e):(c||(Fr("Connection","Opening WebChannel transport."),a.open(),c=!0),Fr("Connection","WebChannel sending:",e),a.send(e))},Vi:()=>a.close()}),h=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,Rr.EventType.OPEN,()=>{u||Fr("Connection","WebChannel transport opened.")}),h(a,Rr.EventType.CLOSE,()=>{u||(u=!0,Fr("Connection","WebChannel transport closed"),l.$i())}),h(a,Rr.EventType.ERROR,e=>{u||(u=!0,Ur("Connection","WebChannel transport errored:",e),l.$i(new Hr(zr.UNAVAILABLE,"The operation could not be completed")))}),h(a,Rr.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];qr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Fr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=oo[e];if(void 0!==t)return uo(t)}(e),n=i.message;void 0===t&&(t=zr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,l.$i(new Hr(t,n)),a.close()}else Fr("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,Ar.STAT_EVENT,e=>{e.stat===xr.PROXY?Fr("Connection","Detected buffering proxy"):e.stat===xr.NOPROXY&&Fr("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function Mu(){return"undefined"!=typeof window?window:null}function Uu(){return"undefined"!=typeof document?document:null}function ju(e){return new Fo(e,!0)}class Vu{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,t-n);r>0&&Fr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class qu{constructor(e,t,n,r,i,s){this.Oe=e,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Vu(e,t)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}async stop(){this.ar()&&await this.close(0)}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(e){this._r(),this.stream.send(e)}async dr(){if(this.cr())return this.close(0)}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}async close(e,t){this._r(),this.rr.cancel(),this.sr++,3!==e?this.rr.reset():t&&t.code===zr.RESOURCE_EXHAUSTED?(Mr(t.toString()),Mr("Using maximum backoff delay to prevent overloading the backend."),this.rr.Yi()):t&&t.code===zr.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ci(t)}mr(){}auth(){this.state=1;const e=this.gr(this.sr),t=this.sr;this.credentialsProvider.getToken().then(e=>{this.sr===t&&this.yr(e)},t=>{e(()=>{const e=new Hr(zr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.pr(e)})})}yr(e){const t=this.gr(this.sr);this.stream=this.Er(e),this.stream.Si(()=>{t(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(e=>{t(()=>this.pr(e))}),this.stream.onMessage(e=>{t(()=>this.onMessage(e))})}ur(){this.state=4,this.rr.Xi(async()=>{this.state=0,this.start()})}pr(e){return Fr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(3,e)}gr(e){return t=>{this.Oe.enqueueAndForget(()=>this.sr===e?t():(Fr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bu extends qu{constructor(e,t,n,r,i){super(e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i),this.N=r}Er(e){return this.nr.ji("Listen",e)}onMessage(e){this.rr.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Vr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.D?(qr(void 0===t||"string"==typeof t),mi.fromBase64String(t||"")):(qr(void 0===t||t instanceof Uint8Array),mi.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?zr.UNKNOWN:uo(e.code);return new Hr(t,e.message||"")}(o);n=new No(r,i,s,a||null)}else if("documentChange"in t){const r=t.documentChange,i=Ho(e,r.document.name),s=Vo(r.document.updateTime),o=new Vi({mapValue:{fields:r.document.fields}}),a=Bi.newFoundDocument(i,s,o);n=new Ao(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=Ho(e,r.document),s=r.readTime?Vo(r.readTime):oi.min(),o=Bi.newNoDocument(i,s);n=new Ao([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in t){const r=t.documentRemove,i=Ho(e,r.document);n=new Ao([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return Vr();{const e=t.filter,r=new so(e.count||0);n=new xo(e.targetId,r)}}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return oi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oi.min():t.readTime?Vo(t.readTime):oi.min()}(e);return this.listener.Tr(t,n)}Ir(e){const t={};t.database=Ko(this.N),t.addTarget=function(e,t){let n;const r=t.target;return n=Ki(r)?{documents:ea(e,r)}:{query:ta(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Uo(e,t.resumeToken):t.snapshotVersion.compareTo(oi.min())>0&&(n.readTime=Mo(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Vr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.wr(t)}Ar(e){const t={};t.database=Ko(this.N),t.removeTarget=e,this.wr(t)}}class zu extends qu{constructor(e,t,n,r,i){super(e,"write_stream_connection_backoff","write_stream_idle",t,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(e){return this.nr.ji("Write",e)}onMessage(e){if(qr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Rr){this.rr.reset();const t=function(e,t){return e&&e.length>0?(qr(void 0!==t),e.map(e=>function(e,t){let n=Vo(e.updateTime?e.updateTime:t);return n.isEqual(oi.min())&&(n=Vo(t)),new Bs(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Vo(e.commitTime);return this.listener.vr(n,t)}return qr(!e.writeResults||0===e.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const e={};e.database=Ko(this.N),this.wr(e)}Pr(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Jo(this.N,e))};this.wr(t)}}class Hu extends class{}{constructor(e,t,n){super(),this.credentials=e,this.nr=t,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new Hr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===zr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Hr(zr.UNKNOWN,e.toString())})}Ki(e,t,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(e,t,n,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===zr.UNAUTHENTICATED&&this.credentials.invalidateToken(),e):new Hr(zr.UNKNOWN,e.toString())})}terminate(){this.Dr=!0}}class Gu{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(e){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Fr("Offline")))}set(e){this.Br(),this.Nr=0,"Online"===e&&(this.$r=!1),this.Fr(e)}Fr(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Mr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Mr(t),this.$r=!1):Fr("OnlineStateTracker",t)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Wu{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ei(e=>{n.enqueueAndForget(async()=>{nl(this)&&(Fr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Br(e);t.Kr.add(4),await Yu(t),t.Wr.set("Unknown"),t.Kr.delete(4),await Ku(t)}(this))})}),this.Wr=new Gu(n,r)}}async function Ku(e){if(nl(e))for(const t of e.jr)await t(!0)}async function Yu(e){for(const t of e.jr)await t(!1)}function Qu(e,t){const n=Br(e);n.qr.has(t.targetId)||(n.qr.set(t.targetId,t),tl(n)?el(n):wl(n).cr()&&Ju(n,t))}function Xu(e,t){const n=Br(e),r=wl(n);n.qr.delete(t),r.cr()&&Zu(n,t),0===n.qr.size&&(r.cr()?r.lr():nl(n)&&n.Wr.set("Unknown"))}function Ju(e,t){e.Gr.Y(t.targetId),wl(e).Ir(t)}function Zu(e,t){e.Gr.Y(t),wl(e).Ar(t)}function el(e){e.Gr=new Oo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.qr.get(t)||null}),wl(e).start(),e.Wr.Or()}function tl(e){return nl(e)&&!wl(e).ar()&&e.qr.size>0}function nl(e){return 0===Br(e).Kr.size}function rl(e){e.Gr=void 0}async function il(e){e.qr.forEach((t,n)=>{Ju(e,t)})}async function sl(e,t){rl(e),tl(e)?(e.Wr.Lr(t),el(e)):e.Wr.set("Unknown")}async function ol(e,t,n){if(e.Wr.set("Online"),t instanceof No&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.qr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.qr.delete(r),e.Gr.removeTarget(r))}(e,t)}catch(n){Fr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await al(e,n)}else if(t instanceof Ao?e.Gr.rt(t):t instanceof xo?e.Gr.ft(t):e.Gr.ct(t),!n.isEqual(oi.min()))try{const t=await iu(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Gr._t(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.qr.get(r);i&&e.qr.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.qr.get(t);if(!n)return;e.qr.set(t,n.withResumeToken(mi.EMPTY_BYTE_STRING,n.snapshotVersion)),Zu(e,t);const r=new Xa(n.target,t,1,n.sequenceNumber);Ju(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Fr("RemoteStore","Failed to raise snapshot:",t),await al(e,t)}}async function al(e,t,n){if(!qa(t))throw t;e.Kr.add(1),await Yu(e),e.Wr.set("Offline"),n||(n=()=>iu(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Fr("RemoteStore","Retrying IndexedDB access"),await n(),e.Kr.delete(1),await Ku(e)})}function cl(e,t){return t().catch(n=>al(e,n,t))}async function ul(e){const t=Br(e),n=bl(t);let r=t.Ur.length>0?t.Ur[t.Ur.length-1].batchId:-1;for(;ll(t);)try{const e=await ou(t.localStore,r);if(null===e){0===t.Ur.length&&n.lr();break}r=e.batchId,hl(t,e)}catch(e){await al(t,e)}dl(t)&&fl(t)}function ll(e){return nl(e)&&e.Ur.length<10}function hl(e,t){e.Ur.push(t);const n=bl(e);n.cr()&&n.br&&n.Pr(t.mutations)}function dl(e){return nl(e)&&!bl(e).ar()&&e.Ur.length>0}function fl(e){bl(e).start()}async function pl(e){bl(e).Sr()}async function ml(e){const t=bl(e);for(const n of e.Ur)t.Pr(n.mutations)}async function gl(e,t,n){const r=e.Ur.shift(),i=Qa.from(r,t,n);await cl(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ul(e)}async function yl(e,t){t&&bl(e).br&&await async function(e,t){if(co(n=t.code)&&n!==zr.ABORTED){const n=e.Ur.shift();bl(e).hr(),await cl(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ul(e)}var n}(e,t),dl(e)&&fl(e)}async function vl(e,t){const n=Br(e);t?(n.Kr.delete(2),await Ku(n)):t||(n.Kr.add(2),await Yu(n),n.Wr.set("Unknown"))}function wl(e){return e.zr||(e.zr=function(e,t,n){const r=Br(e);return r.Cr(),new Bu(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:il.bind(null,e),Ci:sl.bind(null,e),Tr:ol.bind(null,e)}),e.jr.push(async t=>{t?(e.zr.hr(),tl(e)?el(e):e.Wr.set("Unknown")):(await e.zr.stop(),rl(e))})),e.zr}function bl(e){return e.Hr||(e.Hr=function(e,t,n){const r=Br(e);return r.Cr(),new zu(t,r.nr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:pl.bind(null,e),Ci:yl.bind(null,e),Vr:ml.bind(null,e),vr:gl.bind(null,e)}),e.jr.push(async t=>{t?(e.Hr.hr(),await ul(e)):(await e.Hr.stop(),e.Ur.length>0&&(Fr("RemoteStore",`Stopping write stream with ${e.Ur.length} pending writes`),e.Ur=[]))})),e.Hr}class _l{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new _l(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Hr(zr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Il(e,t){if(Mr("AsyncQueue",`${t}: ${e}`),qa(e))return new Hr(zr.UNAVAILABLE,`${t}: ${e}`);throw e}class El{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ki.comparator(t.key,n.key):(e,t)=>ki.comparator(e.key,t.key),this.keyedMap=wo(),this.sortedSet=new lo(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof El))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new El;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Tl{constructor(){this.Jr=new lo(ki.comparator)}track(e){const t=e.doc.key,n=this.Jr.get(t);n?0!==e.type&&3===n.type?this.Jr=this.Jr.insert(t,e):3===e.type&&1!==n.type?this.Jr=this.Jr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jr=this.Jr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jr=this.Jr.remove(t):1===e.type&&2===n.type?this.Jr=this.Jr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jr=this.Jr.insert(t,{type:2,doc:e.doc}):Vr():this.Jr=this.Jr.insert(t,e)}Yr(){const e=[];return this.Jr.inorderTraversal((t,n)=>{e.push(n)}),e}}class Sl{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Sl(e,t,El.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_s(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class kl{constructor(){this.Xr=void 0,this.listeners=[]}}class Cl{constructor(){this.queries=new Fc(e=>Is(e),_s),this.onlineState="Unknown",this.Zr=new Set}}async function Al(e,t){const n=Br(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new kl),i)try{s.Xr=await n.onListen(r)}catch(e){const n=Il(e,`Initialization of query '${Es(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.eo(n.onlineState),s.Xr&&t.no(s.Xr)&&Ol(n)}async function xl(e,t){const n=Br(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Nl(e,t){const n=Br(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.no(i)&&(r=!0);e.Xr=i}}r&&Ol(n)}function Rl(e,t,n){const r=Br(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Ol(e){e.Zr.forEach(e=>{e.next()})}class Dl{constructor(e,t,n){this.query=e,this.so=t,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Sl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.io?this.oo(e)&&(this.so.next(e),t=!0):this.ao(e,this.onlineState)&&(this.co(e),t=!0),this.ro=e,t}onError(e){this.so.error(e)}eo(e){this.onlineState=e;let t=!1;return this.ro&&!this.io&&this.ao(this.ro,e)&&(this.co(this.ro),t=!0),t}ao(e,t){return!e.fromCache||!(this.options.uo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}oo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(e){e=Sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.io=!0,this.so.next(e)}}class Pl{constructor(e,t){this.payload=e,this.byteLength=t}ho(){return"metadata"in this.payload}}class Ll{constructor(e){this.N=e}zn(e){return Ho(this.N,e)}Hn(e){return e.metadata.exists?Xo(this.N,e.document,!1):Bi.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Vo(e)}}class $l{constructor(e,t,n){this.lo=e,this.localStore=t,this.N=n,this.queries=[],this.documents=[],this.progress=Fl(e)}fo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}wo(e){const t=new Map,n=new Ll(this.N);for(const r of e)if(r.metadata.queries){const e=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Eo()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Br(e);let s=Eo(),o=yo(),a=_o();for(const l of n){const e=t.zn(l.metadata.name);l.document&&(s=s.add(e)),o=o.insert(e,t.Hn(l)),a=a.insert(e,t.Jn(l.metadata.readTime))}const c=i.jn.newChangeBuffer({trackRemovals:!0}),u=await au(i,function(e){return ws(ds(hi.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>su(e,c,o,oi.min(),a).next(t=>(c.apply(e),t)).next(t=>i.ze.removeMatchingKeysForTargetId(e,u.targetId).next(()=>i.ze.addMatchingKeys(e,s,u.targetId)).next(()=>i.Qn.vn(e,t)).next(()=>t)))}(this.localStore,new Ll(this.N),this.documents,this.lo.id),t=this.wo(this.documents);for(const n of this.queries)await du(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",new Xc(Object.assign({},this.progress),e)}}function Fl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ml{constructor(e){this.key=e}}class Ul{constructor(e){this.key=e}}class jl{constructor(e,t){this.query=e,this._o=t,this.mo=null,this.current=!1,this.yo=Eo(),this.mutatedKeys=Eo(),this.po=Ss(e),this.Eo=new El(this.po)}get To(){return this._o}Io(e,t){const n=t?t.Ao:new Tl,r=t?t.Eo:this.Eo;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=fs(this.query)&&r.size===this.query.limit?r.last():null,c=ps(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),l=Ts(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||c&&this.po(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),fs(this.query)||ps(this.query))for(;s.size>this.query.limit;){const e=fs(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Eo:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Eo;this.Eo=e.Eo,this.mutatedKeys=e.mutatedKeys;const i=e.Ao.Yr();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vr()}};return n(e)-n(t)}(e.type,t.type)||this.po(e.doc,t.doc)),this.bo(n);const s=t?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new Sl(this.query,e.Eo,r,i,e.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Tl,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(e){return!this._o.has(e)&&!!this.Eo.has(e)&&!this.Eo.get(e).hasLocalMutations}bo(e){e&&(e.addedDocuments.forEach(e=>this._o=this._o.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this._o=this._o.delete(e)),this.current=e.current)}Po(){if(!this.current)return[];const e=this.yo;this.yo=Eo(),this.Eo.forEach(e=>{this.Vo(e.key)&&(this.yo=this.yo.add(e.key))});const t=[];return e.forEach(e=>{this.yo.has(e)||t.push(new Ul(e))}),this.yo.forEach(n=>{e.has(n)||t.push(new Ml(n))}),t}So(e){this._o=e.Gn,this.yo=Eo();const t=this.Io(e.documents);return this.applyChanges(t,!0)}Do(){return Sl.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Vl{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ql{constructor(e){this.key=e,this.Co=!1}}class Bl{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Fc(e=>Is(e),_s),this.ko=new Map,this.$o=new Set,this.Oo=new lo(ki.comparator),this.Fo=new Map,this.Mo=new pu,this.Lo={},this.Bo=new Map,this.Uo=Sc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}async function zl(e,t){const n=gh(e);let r,i;const s=n.xo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const e=await au(n.localStore,ws(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Hl(n,t,r,"current"===s),n.isPrimaryClient&&Qu(n.remoteStore,e)}return i}async function Hl(e,t,n,r){e.Ko=(t,n,r)=>async function(e,t,n,r){let i=t.view.Io(n);i.Ln&&(i=await uu(e.localStore,t.query,!1).then(({documents:e})=>t.view.Io(e,i)));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return nh(e,t.targetId,o.vo),o.snapshot}(e,t,n,r);const i=await uu(e.localStore,t,!0),s=new jl(t,i.Gn),o=s.Io(i.documents),a=Co.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=s.applyChanges(o,e.isPrimaryClient,a);nh(e,n,c.vo);const u=new Vl(t,n,s);return e.xo.set(t,u),e.ko.has(n)?e.ko.get(n).push(t):e.ko.set(n,[t]),c.snapshot}async function Gl(e,t){const n=Br(e),r=n.xo.get(t),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(e=>!_s(e,t))),void n.xo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Xu(n.remoteStore,r.targetId),eh(n,r.targetId)}).catch(Nc)):(eh(n,r.targetId),await cu(n.localStore,r.targetId,!0))}async function Wl(e,t){const n=Br(e);try{const e=await function(e,t){const n=Br(e),r=t.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];t.targetChanges.forEach((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,s).next(()=>n.ze.addMatchingKeys(e,t.addedDocuments,s)));const c=t.resumeToken;if(c.approximateByteSize()>0){const u=a.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return qr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.ze.updateTargetData(e,u))}});let a=yo();if(t.documentUpdates.forEach((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(su(e,s,t.documentUpdates,r,void 0).next(e=>{a=e})),!r.isEqual(oi.min())){const t=n.ze.getLastRemoteSnapshotVersion(e).next(t=>n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return Fa.waitFor(o).next(()=>s.apply(e)).next(()=>n.Qn.vn(e,a)).next(()=>a)}).then(e=>(n.Un=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Fo.get(t);r&&(qr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Co=!0:e.modifiedDocuments.size>0?qr(r.Co):e.removedDocuments.size>0&&(qr(r.Co),r.Co=!1))}),await sh(n,e,t)}catch(e){await Nc(e)}}function Kl(e,t,n){const r=Br(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xo.forEach((n,r)=>{const i=r.view.eo(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Br(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.eo(t)&&(r=!0)}),r&&Ol(n)}(r.eventManager,t),e.length&&r.No.Tr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yl(e,t,n){const r=Br(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fo.get(t),s=i&&i.key;if(s){let e=new lo(ki.comparator);e=e.insert(s,Bi.newNoDocument(s,oi.min()));const n=Eo().add(s),i=new ko(oi.min(),new Map,new po(ni),e,n);await Wl(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(t),ih(r)}else await cu(r.localStore,t,!1).then(()=>eh(r,t,n)).catch(Nc)}async function Ql(e,t){const n=Br(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Br(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Fa.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);qr(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))})}),o.next(()=>e.In.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(n.localStore,t);Zl(n,r,null),Jl(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sh(n,e)}catch(e){await Nc(e)}}async function Xl(e,t,n){const r=Br(e);try{const e=await function(e,t){const n=Br(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.In.lookupMutationBatch(e,t).next(t=>(qr(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t))).next(()=>n.In.performConsistencyCheck(e)).next(()=>n.Qn.Pn(e,r))})}(r.localStore,t);Zl(r,t,n),Jl(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sh(r,e)}catch(n){await Nc(n)}}function Jl(e,t){(e.Bo.get(t)||[]).forEach(e=>{e.resolve()}),e.Bo.delete(t)}function Zl(e,t,n){const r=Br(e);let i=r.Lo[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Lo[r.currentUser.toKey()]=i}}function eh(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ko.get(t))e.xo.delete(r),n&&e.No.jo(r,n);e.ko.delete(t),e.isPrimaryClient&&e.Mo.cs(t).forEach(t=>{e.Mo.containsKey(t)||th(e,t)})}function th(e,t){e.$o.delete(t.path.canonicalString());const n=e.Oo.get(t);null!==n&&(Xu(e.remoteStore,n),e.Oo=e.Oo.remove(t),e.Fo.delete(n),ih(e))}function nh(e,t,n){for(const r of n)r instanceof Ml?(e.Mo.addReference(r.key,t),rh(e,r)):r instanceof Ul?(Fr("SyncEngine","Document no longer in limbo: "+r.key),e.Mo.removeReference(r.key,t),e.Mo.containsKey(r.key)||th(e,r.key)):Vr()}function rh(e,t){const n=t.key,r=n.path.canonicalString();e.Oo.get(n)||e.$o.has(r)||(Fr("SyncEngine","New document in limbo: "+n),e.$o.add(r),ih(e))}function ih(e){for(;e.$o.size>0&&e.Oo.size<e.maxConcurrentLimboResolutions;){const t=e.$o.values().next().value;e.$o.delete(t);const n=new ki(hi.fromString(t)),r=e.Uo.next();e.Fo.set(r,new ql(n)),e.Oo=e.Oo.insert(n,r),Qu(e.remoteStore,new Xa(ws(ds(n.path)),r,2,Zr.T))}}async function sh(e,t,n){const r=Br(e),i=[],s=[],o=[];r.xo.isEmpty()||(r.xo.forEach((e,a)=>{o.push(r.Ko(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Zc.kn(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.No.Tr(i),await async function(e,t){const n=Br(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Fa.forEach(t,t=>Fa.forEach(t.Nn,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Fa.forEach(t.xn,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!qa(e))throw e;Fr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Un.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.Un=n.Un.insert(e,r)}}}(r.localStore,s))}async function oh(e,t){const n=Br(e);if(!n.currentUser.isEqual(t)){Fr("SyncEngine","User change. New user:",t.toKey());const e=await ru(n.localStore,t);n.currentUser=t,function(e,t){e.Bo.forEach(e=>{e.forEach(e=>{e.reject(new Hr(zr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Bo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await sh(n,e.Wn)}}function ah(e,t){const n=Br(e),r=n.Fo.get(t);if(r&&r.Co)return Eo().add(r.key);{let e=Eo();const r=n.ko.get(t);if(!r)return e;for(const t of r){const r=n.xo.get(t);e=e.unionWith(r.view.To)}return e}}async function ch(e,t){const n=Br(e),r=await uu(n.localStore,t.query,!0),i=t.view.So(r);return n.isPrimaryClient&&nh(n,t.targetId,i.vo),i}async function uh(e){const t=Br(e);return hu(t.localStore).then(e=>sh(t,e))}async function lh(e,t,n,r){const i=Br(e),s=await function(e,t){const n=Br(e),r=Br(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.Xt(e,t).next(t=>t?n.Qn.Pn(e,t):Fa.resolve(null)))}(i.localStore,t);null!==s?("pending"===n?await ul(i.remoteStore):"acknowledged"===n||"rejected"===n?(Zl(i,t,r||null),Jl(i,t),function(e,t){Br(Br(e).In).te(t)}(i.localStore,t)):Vr(),await sh(i,s)):Fr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function hh(e,t,n){const r=Br(e),i=[],s=[];for(const o of t){let e;const t=r.ko.get(o);if(t&&0!==t.length){e=await au(r.localStore,ws(t[0]));for(const e of t){const t=r.xo.get(e),n=await ch(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await lu(r.localStore,o);e=await au(r.localStore,t),await Hl(r,dh(t),o,!1)}i.push(e)}return r.No.Tr(s),i}function dh(e){return hs(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function fh(e){const t=Br(e);return Br(Br(t.localStore).persistence).pn()}async function ph(e,t,n,r){const i=Br(e);if(i.qo)Fr("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(t))switch(n){case"current":case"not-current":{const e=await hu(i.localStore),r=ko.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await sh(i,e,r);break}case"rejected":await cu(i.localStore,t,!0),eh(i,t,r);break;default:Vr()}}async function mh(e,t,n){const r=gh(e);if(r.qo){for(const e of t){if(r.ko.has(e)){Fr("SyncEngine","Adding an already active target "+e);continue}const t=await lu(r.localStore,e),n=await au(r.localStore,t);await Hl(r,dh(t),n.targetId,!1),Qu(r.remoteStore,n)}for(const e of n)r.ko.has(e)&&await cu(r.localStore,e,!1).then(()=>{Xu(r.remoteStore,e),eh(r,e)}).catch(Nc)}}function gh(e){const t=Br(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ah.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yl.bind(null,t),t.No.Tr=Nl.bind(null,t.eventManager),t.No.jo=Rl.bind(null,t.eventManager),t}function yh(e){const t=Br(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ql.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xl.bind(null,t),t}class vh{constructor(){this.synchronizeTabs=!1}async initialize(e){this.N=ju(e.databaseInfo.databaseId),this.sharedClientState=this.Wo(e),this.persistence=this.Go(e),await this.persistence.start(),this.gcScheduler=this.zo(e),this.localStore=this.Ho(e)}zo(e){return null}Ho(e){return nu(this.persistence,new eu,e.initialUser,this.N)}Go(e){return new bu(Iu.Ns,this.N)}Wo(e){return new Ou}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wh extends vh{constructor(e,t,n){super(),this.Jo=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=Br(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(e){const t=qc(e);let n=oi.min();return t.Kt({index:Sa.readTimeIndex,reverse:!0},(e,t,r)=>{t.readTime&&(n=nc(t.readTime)),r.done()}).next(()=>n)}(e)).then(e=>{t.Kn=e})}(this.localStore),await this.Jo.initialize(this,e),await yh(this.Jo.syncEngine),await ul(this.Jo.remoteStore),await this.persistence.nn(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve()))}Ho(e){return nu(this.persistence,new eu,e.initialUser,this.N)}zo(e){return new Dc(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Go(e){const t=Qc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?yc.withCacheSize(this.cacheSizeBytes):yc.DEFAULT;return new Wc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Mu(),Uu(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(e){return new Ou}}class bh extends wh{constructor(e,t){super(e,t,!1),this.Jo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Jo.syncEngine;this.sharedClientState instanceof Ru&&(this.sharedClientState.syncEngine={_i:lh.bind(null,t),mi:ph.bind(null,t),gi:mh.bind(null,t),pn:fh.bind(null,t),wi:uh.bind(null,t)},await this.sharedClientState.start()),await this.persistence.nn(async e=>{await async function(e,t){const n=Br(e);if(gh(n),yh(n),!0===t&&!0!==n.qo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await hh(n,e.toArray());n.qo=!0,await vl(n.remoteStore,!0);for(const r of t)Qu(n.remoteStore,r)}else if(!1===t&&!1!==n.qo){const e=[];let t=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(eh(n,i),cu(n.localStore,i,!0))),Xu(n.remoteStore,i)}),await t,await hh(n,e),function(e){const t=Br(e);t.Fo.forEach((e,n)=>{Xu(t.remoteStore,n)}),t.Mo.us(),t.Fo=new Map,t.Oo=new lo(ki.comparator)}(n),n.qo=!1,await vl(n.remoteStore,!1)}}(this.Jo.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())})}Wo(e){const t=Mu();if(!Ru.bt(t))throw new Hr(zr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Qc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ru(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class _h{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Kl(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=oh.bind(null,this.syncEngine),await vl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Cl}createDatastore(e){const t=ju(e.databaseInfo.databaseId),n=new Fu(e.databaseInfo);return function(e,t,n){return new Hu(e,t,n)}(e.credentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Kl(this.syncEngine,e,0),s=Pu.bt()?new Pu:new Du,new Wu(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Bl(e,t,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Br(e);Fr("RemoteStore","RemoteStore shutting down."),t.Kr.add(5),await Yu(t),t.Qr.shutdown(),t.Wr.set("Unknown")}(this.remoteStore)}}function Ih(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class Eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Yo(this.observer.next,e)}error(e){this.observer.error?this.Yo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Xo(){this.muted=!0}Yo(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Th{constructor(e,t){this.Zo=e,this.N=t,this.metadata=new Gr,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(e=>{e&&e.ho()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Zo.cancel()}async getMetadata(){return this.metadata.promise}async Qo(){return await this.getMetadata(),this.ea()}async ea(){const e=await this.na();if(null===e)return null;const t=this.ta.decode(e),n=Number(t);isNaN(n)&&this.sa(`length string (${t}) is not valid number`);const r=await this.ia(n);return new Pl(JSON.parse(r),e.length+n)}ra(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async na(){for(;this.ra()<0&&!(await this.oa()););if(0===this.buffer.length)return null;const e=this.ra();e<0&&this.sa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ia(e){for(;this.buffer.length<e;)await this.oa()&&this.sa("Reached the end of bundle when more is expected.");const t=this.ta.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}sa(e){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${e}`)}async oa(){const e=await this.Zo.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class Sh{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Hr(zr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Br(e),r=Ko(n.N)+"/documents",i={documents:t.map(e=>zo(n.N,e))},s=await n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){qr(!!t.found);const n=Ho(e,t.found.name),r=Vo(t.found.updateTime),i=new Vi({mapValue:{fields:t.found.fields}});return Bi.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){qr(!!t.missing),qr(!!t.readTime);const n=Ho(e,t.missing),r=Vo(t.readTime);return Bi.newNoDocument(n,r)}(e,t):Vr()}(n.N,e);o.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=o.get(e.toString());qr(!!t),a.push(t)}),a}(this.datastore,e);return t.forEach(e=>this.recordVersion(e)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ro(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,t)=>{const n=ki.fromPath(t);this.mutations.push(new io(n,this.precondition(n)))}),await async function(e,t){const n=Br(e),r=Ko(n.N)+"/documents",i={writes:t.map(e=>Jo(n.N,e))};await n.Li("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Vr();t=oi.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Hr(zr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zs.updateTime(t):zs.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(oi.min()))throw new Hr(zr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zs.updateTime(t)}return zs.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class kh{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new Vu(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){this.rr.Xi(async()=>{const e=new Sh(this.datastore),t=this.ua(e);t&&t.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(e=>{this.ha(e)}))}).catch(e=>{this.ha(e)})})}ua(e){try{const t=this.updateFunction(e);return!Ei(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(e){this.aa>0&&this.la(e)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(e)}la(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!co(t)}return!1}}class Ch{constructor(e,t,n){this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Dr.UNAUTHENTICATED,this.clientId=ti.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,async e=>{Fr("FirestoreClient","Received user=",e.uid),await this.credentialListener(e),this.user=e})}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Hr(zr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.credentials.shutdown(),e.resolve()}catch(t){const n=Il(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ah(e,t){e.asyncQueue.verifyOperationInProgress(),Fr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await ru(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t}async function xh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Nh(e);Fr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>async function(e,t){const n=Br(e);n.asyncQueue.verifyOperationInProgress(),Fr("RemoteStore","RemoteStore received new credentials");const r=nl(n);n.Kr.add(3),await Yu(n),r&&n.Wr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Kr.delete(3),await Ku(n)}(t.remoteStore,e)),e.onlineComponents=t}async function Nh(e){return e.offlineComponents||(Fr("FirestoreClient","Using default OfflineComponentProvider"),await Ah(e,new vh)),e.offlineComponents}async function Rh(e){return e.onlineComponents||(Fr("FirestoreClient","Using default OnlineComponentProvider"),await xh(e,new _h)),e.onlineComponents}function Oh(e){return Nh(e).then(e=>e.persistence)}function Dh(e){return Nh(e).then(e=>e.localStore)}function Ph(e){return Rh(e).then(e=>e.remoteStore)}function Lh(e){return Rh(e).then(e=>e.syncEngine)}async function $h(e){const t=await Rh(e),n=t.eventManager;return n.onListen=zl.bind(null,t.syncEngine),n.onUnlisten=Gl.bind(null,t.syncEngine),n}function Fh(e,t,n={}){const r=new Gr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Eh({next:s=>{t.enqueueAndForget(()=>xl(e,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Hr(zr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Hr(zr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Dl(ds(n.path),s,{includeMetadataChanges:!0,uo:!0});return Al(e,o)}(await $h(e),e.asyncQueue,t,n,r)),r.promise}function Mh(e,t,n={}){const r=new Gr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Eh({next:n=>{t.enqueueAndForget(()=>xl(e,o)),n.fromCache&&"server"===r.source?i.reject(new Hr(zr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Dl(n,s,{includeMetadataChanges:!0,uo:!0});return Al(e,o)}(await $h(e),e.asyncQueue,t,n,r)),r.promise}class Uh{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class jh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof jh&&e.projectId===this.projectId&&e.database===this.database}}const Vh=new Map;function qh(e,t,n){if(!n)throw new Hr(zr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Bh(e,t,n,r){if(!0===t&&!0===r)throw new Hr(zr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function zh(e){if(!ki.isDocumentKey(e))throw new Hr(zr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Hh(e){if(ki.isDocumentKey(e))throw new Hr(zr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Gh(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Vr()}function Wh(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Hr(zr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gh(e);throw new Hr(zr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Kh(e,t){if(t<=0)throw new Hr(zr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Yh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Hr(zr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Hr(zr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yh({}),this._settingsFrozen=!1,e instanceof jh?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Hr(zr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(e.options.projectId)}(e))}get app(){if(!this._app)throw new Hr(zr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Hr(zr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yh(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Kr;switch(e.type){case"gapi":const t=e.client;return qr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Jr(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Hr(zr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Vh.get(e);t&&(Fr("ComponentProvider","Removing Datastore"),Vh.delete(e),t.terminate())}(this),Promise.resolve()}}class Xh{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xh(this.firestore,e,this._key)}}class Jh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jh(this.firestore,e,this._query)}}class Zh extends Jh{constructor(e,t,n){super(e,t,ds(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xh(this.firestore,null,new ki(e))}withConverter(e){return new Zh(this.firestore,e,this._path)}}function ed(e,t,...n){if(e=(0,S.m9)(e),qh("collection","path",t),e instanceof Qh){const r=hi.fromString(t,...n);return Hh(r),new Zh(e,null,r)}{if(!(e instanceof Xh||e instanceof Zh))throw new Hr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(hi.fromString(t,...n));return Hh(r),new Zh(e.firestore,null,r)}}function td(e,t,...n){if(e=(0,S.m9)(e),1===arguments.length&&(t=ti.I()),qh("doc","path",t),e instanceof Qh){const r=hi.fromString(t,...n);return zh(r),new Xh(e,null,new ki(r))}{if(!(e instanceof Xh||e instanceof Zh))throw new Hr(zr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(hi.fromString(t,...n));return zh(r),new Xh(e.firestore,e instanceof Zh?e.converter:null,new ki(r))}}function nd(e,t){return e=(0,S.m9)(e),t=(0,S.m9)(t),(e instanceof Xh||e instanceof Zh)&&(t instanceof Xh||t instanceof Zh)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function rd(e,t){return e=(0,S.m9)(e),t=(0,S.m9)(t),e instanceof Jh&&t instanceof Jh&&e.firestore===t.firestore&&_s(e._query,t._query)&&e.converter===t.converter}class id{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Vu(this,"async_queue_retry"),this.Ea=()=>{const e=Uu();e&&Fr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.rr.tr()};const e=Uu();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ta(),this.Ia(e)}enterRestrictedMode(e){if(!this.wa){this.wa=!0,this.ya=e||!1;const t=Uu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ea)}}enqueue(e){if(this.Ta(),this.wa)return new Promise(()=>{});const t=new Gr;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.da.push(e),this.Aa()))}async Aa(){if(0!==this.da.length){try{await this.da[0](),this.da.shift(),this.rr.reset()}catch(e){if(!qa(e))throw e;Fr("AsyncQueue","Operation failed with retryable error: "+e)}this.da.length>0&&this.rr.Xi(()=>this.Aa())}}Ia(e){const t=this.fa.then(()=>(this.ga=!0,e().catch(e=>{throw this.ma=e,this.ga=!1,Mr("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.ga=!1,e))));return this.fa=t,t}enqueueAfterDelay(e,t,n){this.Ta(),this.pa.indexOf(e)>-1&&(t=0);const r=_l.createAndSchedule(this,e,t,n,e=>this.Ra(e));return this._a.push(r),r}Ta(){this.ma&&Vr()}verifyOperationInProgress(){}async ba(){let e;do{e=this.fa,await e}while(e!==this.fa)}Pa(e){for(const t of this._a)if(t.timerId===e)return!0;return!1}va(e){return this.ba().then(()=>{this._a.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this._a)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ba()})}Va(e){this.pa.push(e)}Ra(e){const t=this._a.indexOf(e);this._a.splice(t,1)}}function sd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class od{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ad extends Qh{constructor(e,t){super(e,t),this.type="firestore",this._queue=new id,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ud(this),this._firestoreClient.terminate()}}function cd(e){return e._firestoreClient||ud(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ud(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Uh(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ch(e._credentials,e._queue,r)}function ld(e,t,n){const r=new Gr;return e.asyncQueue.enqueue(async()=>{try{await Ah(e,n),await xh(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===zr.FAILED_PRECONDITION||e.code===zr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}}).then(()=>r.promise)}function hd(e){if(e._initialized||e._terminated)throw new Hr(zr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class dd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Hr(zr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fd(mi.fromBase64String(e))}catch(e){throw new Hr(zr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new fd(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pd{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Hr(zr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Hr(zr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ni(this._lat,e._lat)||ni(this._long,e._long)}}const gd=/^__.*__$/;class yd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Js(e,this.data,t,this.fieldTransforms)}}class vd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vr()}}class bd{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.ka(e),r}$a(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(e){return this.Ca({path:void 0,xa:!0})}Fa(e){return jd(e,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Sa(){if(this.path)for(let e=0;e<this.path.length;e++)this.ka(this.path.get(e))}ka(e){if(0===e.length)throw this.Fa("Document fields must not be empty");if(wd(this.Da)&&gd.test(e))throw this.Fa('Document fields cannot begin and end with "__"')}}class _d{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=n||ju(e)}Ba(e,t,n,r=!1){return new bd({Da:e,methodName:t,La:n,path:fi.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Id(e){const t=e._freezeSettings(),n=ju(e._databaseId);return new _d(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ed(e,t,n,r,i,s={}){const o=e.Ba(s.merge||s.mergeFields?2:0,t,n,i);$d("Data must be an object, but it was:",o,r);const a=Pd(r,o);let c,u;if(s.merge)c=new pi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Fd(t,r,n);if(!o.contains(i))throw new Hr(zr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Vd(e,i)||e.push(i)}c=new pi(e),u=o.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,u=o.fieldTransforms;return new yd(new Vi(a),c,u)}class Td extends pd{_toFieldTransform(e){if(2!==e.Da)throw e.Fa(1===e.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function Sd(e,t,n){return new bd({Da:3,La:t.settings.La,methodName:e._methodName,xa:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}class kd extends pd{_toFieldTransform(e){return new qs(e.path,new Ps)}isEqual(e){return e instanceof kd}}class Cd extends pd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Sd(this,e,!0),n=this.Ua.map(e=>Dd(e,t)),r=new Ls(n);return new qs(e.path,r)}isEqual(e){return this===e}}class Ad extends pd{constructor(e,t){super(e),this.Ua=t}_toFieldTransform(e){const t=Sd(this,e,!0),n=this.Ua.map(e=>Dd(e,t)),r=new Fs(n);return new qs(e.path,r)}isEqual(e){return this===e}}class xd extends pd{constructor(e,t){super(e),this.qa=t}_toFieldTransform(e){const t=new Us(e.N,xs(e.N,this.qa));return new qs(e.path,t)}isEqual(e){return this===e}}function Nd(e,t,n,r){const i=e.Ba(1,t,n);$d("Data must be an object, but it was:",i,r);const s=[],o=Vi.empty();ci(r,(e,r)=>{const a=Ud(t,e,n);r=(0,S.m9)(r);const c=i.$a(a);if(r instanceof Td)s.push(a);else{const e=Dd(r,c);null!=e&&(s.push(a),o.set(a,e))}});const a=new pi(s);return new vd(o,a,i.fieldTransforms)}function Rd(e,t,n,r,i,s){const o=e.Ba(1,t,n),a=[Fd(t,r,n)],c=[i];if(s.length%2!=0)throw new Hr(zr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Fd(t,s[d])),c.push(s[d+1]);const u=[],l=Vi.empty();for(let d=a.length-1;d>=0;--d)if(!Vd(u,a[d])){const e=a[d];let t=c[d];t=(0,S.m9)(t);const n=o.$a(e);if(t instanceof Td)u.push(e);else{const r=Dd(t,n);null!=r&&(u.push(e),l.set(e,r))}}const h=new pi(u);return new vd(l,h,o.fieldTransforms)}function Od(e,t,n,r=!1){return Dd(n,e.Ba(r?4:3,t))}function Dd(e,t){if(Ld(e=(0,S.m9)(e)))return $d("Unsupported field value:",t,e),Pd(e,t);if(e instanceof pd)return function(e,t){if(!wd(t.Da))throw t.Fa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Fa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xa&&4!==t.Da)throw t.Fa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Dd(i,t.Oa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,S.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xs(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=si.fromDate(e);return{timestampValue:Mo(t.N,n)}}if(e instanceof si){const n=new si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Mo(t.N,n)}}if(e instanceof md)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof fd)return{bytesValue:Uo(t.N,e._byteString)};if(e instanceof Xh){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:qo(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Fa(`Unsupported field value: ${Gh(e)}`)}(e,t)}function Pd(e,t){const n={};return ui(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ci(e,(e,r)=>{const i=Dd(r,t.Na(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ld(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof si||e instanceof md||e instanceof fd||e instanceof Xh||e instanceof pd)}function $d(e,t,n){if(!Ld(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Gh(n);throw t.Fa("an object"===r?e+" a custom object":e+" "+r)}}function Fd(e,t,n){if((t=(0,S.m9)(t))instanceof dd)return t._internalPath;if("string"==typeof t)return Ud(e,t);throw jd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Md=new RegExp("[~\\*/\\[\\]]");function Ud(e,t,n){if(t.search(Md)>=0)throw jd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new dd(...t.split("."))._internalPath}catch(r){throw jd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function jd(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new Hr(zr.INVALID_ARGUMENT,a+e+c)}function Vd(e,t){return e.some(e=>e.isEqual(t))}class qd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Bd(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Bd extends qd{data(){return super.data()}}function zd(e,t){return"string"==typeof t?Ud(e,t):t instanceof dd?t._internalPath:t._delegate._internalPath}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gd extends qd{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(zd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Wd extends Gd{data(e={}){return super.data(e)}}class Kd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Hd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Wd(this._firestore,this._userDataWriter,n.key,n,new Hd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Hr(zr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new Wd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Hd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Wd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Yd(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Yd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vr()}}function Qd(e,t){return e instanceof Gd&&t instanceof Gd?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Kd&&t instanceof Kd&&e._firestore===t._firestore&&rd(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Xd(e){if(ps(e)&&0===e.explicitOrderBy.length)throw new Hr(zr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jd{}function Zd(e,...t){for(const n of t)e=n._apply(e);return e}class ef extends Jd{constructor(e,t,n){super(),this.Ka=e,this.ja=t,this.Qa=n,this.type="where"}_apply(e){const t=Id(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Hr(zr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){cf(o,s);const t=[];for(const n of o)t.push(af(r,e,n));a={arrayValue:{values:t}}}else a=af(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||cf(o,s),a=Od(n,"where",o,"in"===s||"not-in"===s);const c=Yi.create(i,s,a);return function(e,t){if(t.v()){const n=gs(e);if(null!==n&&!n.isEqual(t.field))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=ms(e);null!==r&&uf(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Hr(zr.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Jh(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new ls(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class tf extends Jd{constructor(e,t){super(),this.Ka=e,this.Wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new os(t,n);return function(e,t){if(null===ms(e)){const n=gs(e);null!==n&&uf(0,n,t.field)}}(e,r),r}(e._query,this.Ka,this.Wa);return new Jh(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new ls(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class nf extends Jd{constructor(e,t,n){super(),this.type=e,this.Ga=t,this.za=n}_apply(e){return new Jh(e.firestore,e.converter,bs(e._query,this.Ga,this.za))}}class rf extends Jd{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=of(e,this.type,this.Ha,this.Ja);return new Jh(e.firestore,e.converter,function(e,t){return new ls(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class sf extends Jd{constructor(e,t,n){super(),this.type=e,this.Ha=t,this.Ja=n}_apply(e){const t=of(e,this.type,this.Ha,this.Ja);return new Jh(e.firestore,e.converter,function(e,t){return new ls(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function of(e,t,n,r){if(n[0]=(0,S.m9)(n[0]),n[0]instanceof qd)return function(e,t,n,r,i){if(!r)throw new Hr(zr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of vs(e))if(o.field.isKeyField())s.push(Pi(t,r.key));else{const e=r.data.field(o.field);if(bi(e))throw new Hr(zr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new is(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Id(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Hr(zr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!ys(e)&&-1!==s.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=e.path.child(hi.fromString(s));if(!ki.isDocumentKey(n))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new ki(n);a.push(Pi(t,i))}else{const e=Od(n,r,s);a.push(e)}}return new is(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function af(e,t,n){if("string"==typeof(n=(0,S.m9)(n))){if(""===n)throw new Hr(zr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ys(t)&&-1!==n.indexOf("/"))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(hi.fromString(n));if(!ki.isDocumentKey(r))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pi(e,new ki(r))}if(n instanceof Xh)return Pi(e,n._key);throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(n)}.`)}function cf(e,t){if(!Array.isArray(e)||0===e.length)throw new Hr(zr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Hr(zr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function uf(e,t,n){if(!n.isEqual(t))throw new Hr(zr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class lf{convertValue(e,t="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Vr()}}convertObject(e,t){const n={};return ci(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new md(vi(e.latitude),vi(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=_i(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ii(e));default:return null}}convertTimestamp(e){const t=yi(e);return new si(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=hi.fromString(e);qr(fa(n));const r=new jh(n.get(1),n.get(3)),i=new ki(n.popFirst(5));return r.isEqual(t)||Mr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function hf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class df extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xh(this.firestore,null,t)}}class ff{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,t,n){this._verifyNotCommitted();const r=pf(e,this._firestore),i=hf(r.converter,t,n),s=Ed(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,zs.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=pf(e,this._firestore);let s;return s="string"==typeof(t=(0,S.m9)(t))||t instanceof dd?Rd(this._dataReader,"WriteBatch.update",i._key,t,n,r):Nd(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,zs.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pf(e,this._firestore);return this._mutations=this._mutations.concat(new ro(t._key,zs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Hr(zr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pf(e,t){if((e=(0,S.m9)(e)).firestore!==t)throw new Hr(zr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class mf extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new fd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xh(this.firestore,null,t)}}function gf(e,t,n){e=Wh(e,Xh);const r=Wh(e.firestore,ad),i=hf(e.converter,t,n);return wf(r,[Ed(Id(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,zs.none())])}function yf(e,t,n,...r){e=Wh(e,Xh);const i=Wh(e.firestore,ad),s=Id(i);let o;return o="string"==typeof(t=(0,S.m9)(t))||t instanceof dd?Rd(s,"updateDoc",e._key,t,n,r):Nd(s,"updateDoc",e._key,t),wf(i,[o.toMutation(e._key,zs.exists(!0))])}function vf(e,...t){var n,r,i;e=(0,S.m9)(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||sd(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(sd(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,u,l;if(e instanceof Xh)u=Wh(e.firestore,ad),l=ds(e._key.path),c={next:n=>{t[o]&&t[o](bf(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Wh(e,Jh);u=Wh(n.firestore,ad),l=n._query;const r=new mf(u);c={next:e=>{t[o]&&t[o](new Kd(u,r,n,e))},error:t[o+1],complete:t[o+2]},Xd(e._query)}return function(e,t,n,r){const i=new Eh(r),s=new Dl(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Al(await $h(e),s)),()=>{i.Xo(),e.asyncQueue.enqueueAndForget(async()=>xl(await $h(e),s))}}(cd(u),l,a,c)}function wf(e,t){return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=yh(e);try{const e=await function(e,t){const n=Br(e),r=si.now(),i=t.reduce((e,t)=>e.add(t.key),Eo());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>n.Qn.Pn(e,i).next(i=>{s=i;const o=[];for(const e of t){const t=Ys(e,s.get(e.key));null!=t&&o.push(new Zs(e.key,t,qi(t.value.mapValue),zs.exists(!0)))}return n.In.addMutationBatch(e,r,o,t)})).then(e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Lo[e.currentUser.toKey()];r||(r=new lo(ni)),r=r.insert(t,n),e.Lo[e.currentUser.toKey()]=r}(r,e.batchId,n),await sh(r,e.changes),await ul(r.remoteStore)}catch(e){const t=Il(e,"Failed to persist write");n.reject(t)}}(await Lh(e),t,n)),n.promise}(cd(e),t)}function bf(e,t,n){const r=n.docs.get(t._key),i=new mf(e);return new Gd(e,i,t._key,r,new Hd(n.hasPendingWrites,n.fromCache),t.converter)}class _f extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Id(e)}get(e){const t=pf(e,this._firestore),n=new df(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return Vr();const r=e[0];if(r.isFoundDocument())return new qd(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new qd(this._firestore,n,t._key,null,t.converter);throw Vr()})}set(e,t,n){const r=pf(e,this._firestore),i=hf(r.converter,t,n),s=Ed(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=pf(e,this._firestore);let s;return s="string"==typeof(t=(0,S.m9)(t))||t instanceof dd?Rd(this._dataReader,"Transaction.update",i._key,t,n,r):Nd(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=pf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pf(e,this._firestore),n=new mf(this._firestore);return super.get(e).then(e=>new Gd(this._firestore,n,t._key,e._document,new Hd(!1,!1),t.converter))}}function If(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Hr("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function Ef(){if("undefined"==typeof Uint8Array)throw new Hr("unimplemented","Uint8Arrays are not available in this environment.")}function Tf(){if("undefined"==typeof atob)throw new Hr("unimplemented","Blobs are unavailable in Firestore in this environment.")}Pr=I.SDK_VERSION,(0,I._registerComponent)(new E.wA("firestore",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=new ad(n,new Qr(e.getProvider("auth-internal")));return t=Object.assign({useFetchStreams:!0},t),r._setSettings(t),r},"PUBLIC")),(0,I.registerVersion)("@firebase/firestore","3.1.0",void 0);class Sf{constructor(e){this._delegate=e}static fromBase64String(e){return Tf(),new Sf(fd.fromBase64String(e))}static fromUint8Array(e){return Ef(),new Sf(fd.fromUint8Array(e))}toBase64(){return Tf(),this._delegate.toBase64()}toUint8Array(){return Ef(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class Cf{enableIndexedDbPersistence(e,t){return function(e,t){hd(e=Wh(e,ad));const n=cd(e),r=e._freezeSettings(),i=new _h;return ld(n,i,new wh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){hd(e=Wh(e,ad));const t=cd(e),n=e._freezeSettings(),r=new _h;return ld(t,r,new bh(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Hr(zr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Gr;return e._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(e){if(!Ua.bt())return Promise.resolve();const t=e+"main";await Ua.delete(t)}(Qc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}}),t.promise}(e._delegate)}}class Af{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof jh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Ur("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Wh(e,Qh))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Ur("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Dr.MOCK_USER;else{t=(0,S.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Hr(zr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Dr(s)}e._credentials=new Yr(new Wr(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Oh(e),n=await Ph(e);return t.setNetworkEnabled(!0),function(e){const t=Br(e);return t.Kr.delete(0),Ku(t)}(n)})}(cd(Wh(this._delegate,ad)))}disableNetwork(){return function(e){return e.asyncQueue.enqueue(async()=>{const t=await Oh(e),n=await Ph(e);return t.setNetworkEnabled(!1),async function(e){const t=Br(e);t.Kr.add(0),await Yu(t),t.Wr.set("Offline")}(n)})}(cd(Wh(this._delegate,ad)))}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Bh("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){const t=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t){const n=Br(e);nl(n.remoteStore)||Fr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Br(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.In.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Bo.get(e)||[];r.push(t),n.Bo.set(e,r)}catch(e){const n=Il(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await Lh(e),t)),t.promise}(cd(Wh(this._delegate,ad)))}onSnapshotsInSync(e){return t=e,function(e,t){const n=new Eh(t);return e.asyncQueue.enqueueAndForget(async()=>function(e,t){Br(e).Zr.add(t),t.next()}(await $h(e),n)),()=>{n.Xo(),e.asyncQueue.enqueueAndForget(async()=>function(e,t){Br(e).Zr.delete(t)}(await $h(e),n))}}(cd(Wh(this._delegate,ad)),sd(t)?t:{next:t});var t}get app(){if(!this._appCompat)throw new Hr("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qf(this,ed(this._delegate,e))}catch(t){throw Pf(t,"collection()","Firestore.collection()")}}doc(e){try{return new Df(this,td(this._delegate,e))}catch(t){throw Pf(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Uf(this,function(e,t){if(e=Wh(e,Qh),qh("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Hr(zr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jh(e,null,function(e){return new ls(hi.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Pf(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return n=t=>e(new Nf(this,t)),function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>{const r=await function(e){return Rh(e).then(e=>e.datastore)}(e);new kh(e.asyncQueue,r,t,n).run()}),n.promise}(cd(t=this._delegate),e=>n(new _f(t,e)));var t,n}batch(){return cd(this._delegate),new Rf(new ff(this._delegate,e=>wf(this._delegate,e)))}loadBundle(e){return function(e,t){const n=cd(e=Wh(e,ad)),r=new od;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Th(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ih(e,t);if(e instanceof ArrayBuffer)return Ih(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,ju(t));e.asyncQueue.enqueueAndForget(async()=>{!function(e,t,n){const r=Br(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Br(e),r=Vo(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Je.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(Fl(r));const i=new $l(r,e.localStore,t.N);let s=await t.Qo();for(;s;){const e=await i.fo(s);e&&n._updateProgress(e),s=await t.Qo()}const o=await i.complete();await sh(e,o.Tn,void 0),await function(e,t){const n=Br(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Je.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(o.progress)}catch(e){Ur("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(await Lh(e),i,r)})}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return(t=this._delegate,n=e,function(e,t){return e.asyncQueue.enqueue(async()=>function(e,t){const n=Br(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Je.getNamedQuery(e,t))}(await Dh(e),t))}(cd(t=Wh(t,ad)),n).then(e=>e?new Jh(t,null,e.query):null)).then(e=>e?new Uf(this,e):null);var t,n}}class xf extends lf{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sf(new fd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Df.forKey(t,this.firestore,null)}}class Nf{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new xf(e)}get(e){const t=Bf(e);return this._delegate.get(t).then(e=>new Ff(this._firestore,new Gd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=Bf(e);return n?(If("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Bf(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Bf(e);return this._delegate.delete(t),this}}class Rf{constructor(e){this._delegate=e}set(e,t,n){const r=Bf(e);return n?(If("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Bf(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Bf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Of{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Wd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mf(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Of.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Of(e,new xf(e),t),r.set(t,i)),i}}Of.INSTANCES=new WeakMap;class Df{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xf(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Hr("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Df(t,new Xh(t._delegate,n,new ki(e)))}static forKey(e,t,n){return new Df(t,new Xh(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new qf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qf(this.firestore,ed(this._delegate,e))}catch(t){throw Pf(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,S.m9)(e))instanceof Xh&&nd(this._delegate,e)}set(e,t){t=If("DocumentReference.set",t);try{return t?gf(this._delegate,e,t):gf(this._delegate,e)}catch(n){throw Pf(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?yf(this._delegate,e):yf(this._delegate,e,t,...n)}catch(r){throw Pf(r,"updateDoc()","DocumentReference.update()")}}delete(){return wf(Wh((e=this._delegate).firestore,ad),[new ro(e._key,zs.none())]);var e}onSnapshot(...e){const t=Lf(e),n=$f(e,e=>new Ff(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return vf(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Wh(e,Xh);const t=Wh(e.firestore,ad),n=cd(t),r=new mf(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await function(e,t){const n=Br(e);return n.persistence.runTransaction("read document","readonly",e=>n.Qn.An(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Hr(zr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Il(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Dh(e),t,n)),n.promise}(n,e._key).then(n=>new Gd(t,r,e._key,n,new Hd(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Wh(e,Xh);const t=Wh(e.firestore,ad);return Fh(cd(t),e._key,{source:"server"}).then(n=>bf(t,e,n))}(this._delegate):function(e){e=Wh(e,Xh);const t=Wh(e.firestore,ad);return Fh(cd(t),e._key).then(n=>bf(t,e,n))}(this._delegate),t.then(e=>new Ff(this.firestore,new Gd(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new Df(this.firestore,this._delegate.withConverter(e?Of.getInstance(this.firestore,e):null))}}function Pf(e,t,n){return e.message=e.message.replace(t,n),e}function Lf(e){for(const t of e)if("object"==typeof t&&!kf(t))return t;return{}}function $f(e,t){var n,r;let i;return i=kf(e[0])?e[0]:kf(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ff{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Df(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Qd(this._delegate,e._delegate)}}class Mf extends Ff{data(e){const t=this._delegate.data(e);return void 0!==t||Vr(),t}}class Uf{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new xf(e)}where(e,t,n){try{return new Uf(this.firestore,Zd(this._delegate,function(e,t,n){const r=t,i=zd("where",e);return new ef(i,r,n)}(e,t,n)))}catch(r){throw Pf(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Uf(this.firestore,Zd(this._delegate,function(e,t="asc"){const n=t,r=zd("orderBy",e);return new tf(r,n)}(e,t)))}catch(n){throw Pf(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Uf(this.firestore,Zd(this._delegate,(Kh("limit",t=e),new nf("limit",t,"F"))))}catch(n){throw Pf(n,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Uf(this.firestore,Zd(this._delegate,(Kh("limitToLast",t=e),new nf("limitToLast",t,"L"))))}catch(n){throw Pf(n,"limitToLast()","Query.limitToLast()")}var t}startAt(...e){try{return new Uf(this.firestore,Zd(this._delegate,function(...e){return new rf("startAt",e,!0)}(...e)))}catch(t){throw Pf(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Uf(this.firestore,Zd(this._delegate,function(...e){return new rf("startAfter",e,!1)}(...e)))}catch(t){throw Pf(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Uf(this.firestore,Zd(this._delegate,function(...e){return new sf("endBefore",e,!0)}(...e)))}catch(t){throw Pf(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Uf(this.firestore,Zd(this._delegate,function(...e){return new sf("endAt",e,!1)}(...e)))}catch(t){throw Pf(t,"endAt()","Query.endAt()")}}isEqual(e){return rd(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Wh(e,Jh);const t=Wh(e.firestore,ad),n=cd(t),r=new mf(t);return function(e,t){const n=new Gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){try{const r=await uu(e,t,!0),i=new jl(t,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Il(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Dh(e),t,n)),n.promise}(n,e._query).then(n=>new Kd(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Wh(e,Jh);const t=Wh(e.firestore,ad),n=cd(t),r=new mf(t);return Mh(n,e._query,{source:"server"}).then(n=>new Kd(t,r,e,n))}(this._delegate):function(e){e=Wh(e,Jh);const t=Wh(e.firestore,ad),n=cd(t),r=new mf(t);return Xd(e._query),Mh(n,e._query).then(n=>new Kd(t,r,e,n))}(this._delegate),t.then(e=>new Vf(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=Lf(e),n=$f(e,e=>new Vf(this.firestore,new Kd(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return vf(this._delegate,t,n)}withConverter(e){return new Uf(this.firestore,this._delegate.withConverter(e?Of.getInstance(this.firestore,e):null))}}class jf{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Uf(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new jf(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new Mf(this._firestore,n))})}isEqual(e){return Qd(this._delegate,e._delegate)}}class qf extends Uf{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Df(this.firestore,e):null}doc(e){try{return new Df(this.firestore,void 0===e?td(this._delegate):td(this._delegate,e))}catch(t){throw Pf(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Wh(e.firestore,ad),r=td(e),i=hf(e.converter,t);return wf(n,[Ed(Id(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,zs.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new Df(this.firestore,e))}isEqual(e){return nd(this._delegate,e._delegate)}withConverter(e){return new qf(this.firestore,this._delegate.withConverter(e?Of.getInstance(this.firestore,e):null))}}function Bf(e){return Wh(e,Xh)}class zf{constructor(...e){this._delegate=new dd(...e)}static documentId(){return new zf(fi.keyField().canonicalString())}isEqual(e){return(e=(0,S.m9)(e))instanceof dd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Hf{constructor(e){this._delegate=e}static serverTimestamp(){const e=new kd("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Hf(e)}static delete(){const e=new Td("deleteField");return e._methodName="FieldValue.delete",new Hf(e)}static arrayUnion(...e){const t=function(...e){return new Cd("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Hf(t)}static arrayRemove(...e){const t=function(...e){return new Ad("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Hf(t)}static increment(e){const t=new xd("increment",e);return t._methodName="FieldValue.increment",new Hf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gf={Firestore:Af,GeoPoint:md,Timestamp:si,Blob:Sf,Transaction:Nf,WriteBatch:Rf,DocumentReference:Df,DocumentSnapshot:Ff,Query:Uf,QueryDocumentSnapshot:Mf,QuerySnapshot:Vf,CollectionReference:qf,FieldPath:zf,FieldValue:Hf,setLogLevel:function(e){Lr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};var Wf;(Wf=_.Z).INTERNAL.registerComponent(new E.wA("firestore-compat",e=>{return t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate(),new Af(t,n,new Cf);var t,n},"PUBLIC").setServiceProps(Object.assign({},Gf))),Wf.registerVersion("@firebase/firestore-compat","0.1.3");var Kf=n(6006),Yf=n(636),Qf=n(7338),Xf=n(2812),Jf=n(6511),Zf=n(9734),ep=n(7078),tp=n(2417);class np extends Kf.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new rp(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new ep.N;if(this.isStopped||this.hasError?s=Zf.w.EMPTY:(this.observers.push(e),s=new tp.W(this,e)),r&&e.add(e=new Qf.ht(e,r)),t)for(let o=0;o<i&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<i&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),s}_getNow(){return(this.scheduler||Jf.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(e-r[s].time<n);)s++;return i>t&&(s=Math.max(s,i-t)),s>0&&r.splice(0,s),r}}class rp{constructor(e,t){this.time=e,this.value=t}}function ip(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new np(e,t,r),l=i.subscribe(this),s=u.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}var sp=n(3987);function op(e,t){return t?(0,Xf.w)(()=>e,t):(0,Xf.w)(()=>e)}var ap=n(6515);n(2837);const cp=new r.OlP("angularfire2.auth.use-emulator"),up=new r.OlP("angularfire2.auth.settings"),lp=new r.OlP("angularfire2.auth.tenant-id"),hp=new r.OlP("angularfire2.auth.langugage-code"),dp=new r.OlP("angularfire2.auth.use-device-language"),fp=new r.OlP("angularfire.auth.persistence"),pp=(e,t,n,r,i,s,o,a)=>(0,c.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[e,t]of Object.entries(o))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,i,s,o,a]);let mp=(()=>{class e{constructor(e,t,r,i,u,l,h,d,f,p,g){const y=new Kf.xQ,_=(0,a.of)(void 0).pipe((0,Qf.QV)(u.outsideAngular),(0,Xf.w)(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,4460)))),(0,m.U)(()=>(0,w.on)(e,i,t)),(0,m.U)(e=>pp(e,i,l,d,f,p,h,g)),ip({bufferSize:1,refCount:!1}));if((0,b.PM)(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,a.of)(null);else{_.pipe((0,sp.P)()).subscribe();const e=_.pipe((0,Xf.w)(e=>e.getRedirectResult().then(e=>e,()=>null)),c.iC,ip({bufferSize:1,refCount:!1})),t=_.pipe((0,Xf.w)(e=>new s.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=_.pipe((0,Xf.w)(e=>new s.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(op(t),(0,ap.R)(u.outsideAngular),(0,Qf.QV)(u.insideAngular)),this.user=e.pipe(op(n),(0,ap.R)(u.outsideAngular),(0,Qf.QV)(u.insideAngular)),this.idToken=this.user.pipe((0,Xf.w)(e=>e?(0,o.D)(e.getIdToken()):(0,a.of)(null))),this.idTokenResult=this.user.pipe((0,Xf.w)(e=>e?(0,o.D)(e.getIdTokenResult()):(0,a.of)(null))),this.credential=(0,Yf.T)(e,y,this.authState.pipe((0,v.h)(e=>!e))).pipe((0,m.U)(e=>(null==e?void 0:e.user)?e:null),(0,ap.R)(u.outsideAngular),(0,Qf.QV)(u.insideAngular))}return(0,w.pX)(this,_,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>y.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(w.Dh),r.LFG(w.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(c.HU),r.LFG(cp,8),r.LFG(up,8),r.LFG(lp,8),r.LFG(hp,8),r.LFG(dp,8),r.LFG(fp,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();function gp(e,t){return function(e,t=i.z){return new s.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function yp(e,t){return gp(e,t).pipe((0,m.U)(e=>({payload:e,type:"query"})))}function vp(e,t){return yp(e,t).pipe((0,u.O)(void 0),h(),(0,m.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const s=n.find(e=>e.doc.ref.isEqual(t.ref)),o=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(t.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function wp(e,t,n){return vp(e,n).pipe((0,g.R)((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return bp(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return bp(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return bp(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),(0,y.x)(),(0,m.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function bp(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function _p(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}class Ip{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=vp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,m.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe((0,u.O)(void 0),h(),(0,v.h)(([e,t])=>t.length>0||!e),(0,m.U)(([e,t])=>t),c.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,g.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=_p(e);return wp(this.query,t,this.afs.schedulers.outsideAngular).pipe(c.iC)}valueChanges(e={}){return yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,m.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),c.iC)}get(e){return(0,o.D)(this.query.get(e)).pipe(c.iC)}add(e){return this.ref.add(e)}doc(e){return new Ep(this.ref.doc(e),this.afs)}}class Ep{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=xp(n,t);return new Ip(r,i,this.afs)}snapshotChanges(){return gp(this.ref,this.afs.schedulers.outsideAngular).pipe((0,u.O)(void 0),h(),(0,m.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"})).pipe(c.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,m.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,o.D)(this.ref.get(e)).pipe(c.iC)}}class Tp{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vp(this.query,this.afs.schedulers.outsideAngular).pipe((0,m.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),(0,v.h)(e=>e.length>0),c.iC):vp(this.query,this.afs.schedulers.outsideAngular).pipe(c.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,g.R)((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=_p(e);return wp(this.query,t,this.afs.schedulers.outsideAngular).pipe(c.iC)}valueChanges(e={}){return yp(this.query,this.afs.schedulers.outsideAngular).pipe((0,m.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),c.iC)}get(e){return(0,o.D)(this.query.get(e)).pipe(c.iC)}}const Sp=new r.OlP("angularfire2.enableFirestorePersistence"),kp=new r.OlP("angularfire2.firestore.persistenceSettings"),Cp=new r.OlP("angularfire2.firestore.settings"),Ap=new r.OlP("angularfire2.firestore.use-emulator");function xp(e,t=(e=>e)){return{query:t(e),ref:e}}let Np=(()=>{class e{constructor(e,t,n,r,i,s,u,l,h,d,f,p,m,g,y,v){this.schedulers=u;const _=(0,w.on)(e,s,t),I=h;d&&pp(_,s,f,m,g,y,p,v),[this.firestore,this.persistenceEnabled$]=(0,c.cc)(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{const e=s.runOutsideAngular(()=>_.firestore());if(r&&e.settings(r),I&&e.useEmulator(...I),n&&!(0,b.PM)(i)){const t=()=>{try{return(0,o.D)(e.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,a.of)(!1)}};return[e,s.runOutsideAngular(t)]}return[e,(0,a.of)(!1)]},[r,I,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=xp(n,t),s=this.schedulers.ngZone.run(()=>r);return new Ip(s,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new Tp(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new Ep(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(w.Dh),r.LFG(w.xv,8),r.LFG(Sp,8),r.LFG(Cp,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(c.HU),r.LFG(kp,8),r.LFG(Ap,8),r.LFG(mp,8),r.LFG(cp,8),r.LFG(up,8),r.LFG(lp,8),r.LFG(hp,8),r.LFG(dp,8),r.LFG(fp,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();var Rp=n(4717);function Op(e,t){if(1&e&&(r.TgZ(0,"li",1),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.hij(" ",e.text," ")}}let Dp=(()=>{class e{constructor(e){this.items=e.collection("angebote").valueChanges()}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Np))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-modal"]],decls:8,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(e,t){1&e&&(r.TgZ(0,"ion-header"),r.TgZ(1,"ion-toolbar"),r.TgZ(2,"ion-title"),r._uU(3,"Modal"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(4,"ion-content"),r.TgZ(5,"ul"),r.YNc(6,Op,2,1,"li",0),r.ALo(7,"async"),r.qZA(),r.qZA()),2&e&&(r.xp6(6),r.Q6J("ngForOf",r.lcZ(7,1,t.items)))},directives:[Rp.Gu,Rp.sr,Rp.wd,Rp.W2,b.sg],pipes:[b.Ov],styles:[""]}),e})()},4701:function(e,t,n){"use strict";var r=n(6274),i=n(4271);class s extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o extends s{static makeCurrent(){(0,r.HT)(new o)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(c=c||document.querySelector("base"),c?c.getAttribute("href"):null);return null==t?null:function(e){a=a||document.createElement("a"),a.setAttribute("href",e);const t=a.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){c=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,r.Mx)(document.cookie,e)}}let a,c=null;const u=new i.OlP("TRANSITION_ID"),l=[{provide:i.ip1,useFactory:function(e,t,n){return()=>{n.get(i.CZH).donePromise.then(()=>{const n=(0,r.q)();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[u,r.K0,i.zs3],multi:!0}];class h{static init(){(0,i.VLi)(new h)}addToWindow(e){i.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(e=>{const t=i.dqk.getAllAngularTestabilities();let n=t.length,r=!1;const s=function(t){r=r||t,n--,0==n&&e(r)};t.forEach(function(e){e.whenStable(s)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?(0,r.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let d=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const f=new i.OlP("EventManagerPlugins");let p=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(f),i.LFG(i.R0b))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class m{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=(0,r.q)().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let g=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e extends g{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(v),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(v))}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();function v(e){(0,r.q)().remove(e)}const w={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},b=/%COMP%/g;function _(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?_(e,i,n):(i=i.replace(b,e),n.push(i))}return n}function I(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let E=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new T(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case i.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case i.ifc.ShadowDom:return new k(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=_(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(p),i.LFG(y),i.LFG(i.AFp))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();class T{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(w[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=w[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=w[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,r){r&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,n,r&i.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,I(n)):this.eventManager.addEventListener(e,t,I(n))}}class S extends T{constructor(e,t,n,r){super(e),this.component=n;const i=_(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(b,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(b,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class k extends T{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=_(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const e=document.createElement("style");e.textContent=i[s],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let C=(()=>{class e extends m{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const A=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},R={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let O=(()=>{class e extends m{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const s=e.parseEventName(n),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let s="";if(A.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),s+=e+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&N.hasOwnProperty(t)&&(t=N[t]))}return x[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),A.forEach(r=>{r!=n&&(0,R[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(r.K0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e})();const D=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:r.bD},{provide:i.g9A,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.K0,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),P=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:f,useClass:C,multi:!0,deps:[r.K0,i.R0b,i.Lbi]},{provide:f,useClass:O,multi:!0,deps:[r.K0]},[],{provide:E,useClass:E,deps:[p,y,i.AFp]},{provide:i.FYo,useExisting:E},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[r.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:p,useClass:p,deps:[f,i.R0b]},{provide:r.JF,useClass:d,deps:[]},[]];let L=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:i.AFp,useValue:t.appId},{provide:u,useExisting:i.AFp},l]}}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(e,12))},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:P,imports:[r.ez,i.hGG]}),e})();"undefined"!=typeof window&&window;var $=n(9106),F=n(893);const M={apiKey:"AIzaSyAkKWdpWDQRKBiZJzE8jpnEuBWojjEatIE",authDomain:"trashxchange-2fd99.firebaseapp.com",projectId:"trashxchange-2fd99",storageBucket:"trashxchange-2fd99.appspot.com",messagingSenderId:"674446888649",appId:"1:674446888649:web:6bce97f9089eb5fa484718"};var U=n(4717);const j=[{path:"",loadChildren:()=>Promise.all([n.e(8592),n.e(3347)]).then(n.bind(n,3347)).then(e=>e.TabsPageModule)},{path:"login",loadChildren:()=>Promise.all([n.e(8592),n.e(36)]).then(n.bind(n,36)).then(e=>e.LoginPageModule)}];let V=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[F.Bz.forRoot(j,{preloadingStrategy:F.wm})],F.Bz]}),e})(),q=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(i.TgZ(0,"ion-app"),i._UZ(1,"ion-router-outlet"),i.qZA())},directives:[U.dr,U.jP],styles:[""]}),e})();var B=n(4988);const z=[{path:"",component:n(2594).P}];let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[F.Bz.forChild(z)],F.Bz]}),e})(),G=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[[r.ez,B.u5,U.Pc,H]]}),e})(),W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e,bootstrap:[q]}),e.\u0275inj=i.cJS({providers:[{provide:F.wN,useClass:U.r4}],imports:[[L,U.Pc.forRoot(),V,G,$.hO.initializeApp(M)]]}),e})();(0,i.G48)(),D().bootstrapModule(W).catch(e=>console.log(e))},863:function(e,t,n){var r={"./ion-action-sheet.entry.js":[5261,8592,5261],"./ion-alert.entry.js":[26,8592,26],"./ion-app_8.entry.js":[9009,8592,9009],"./ion-avatar_3.entry.js":[7221,8592,7221],"./ion-back-button.entry.js":[4694,8592,4694],"./ion-backdrop.entry.js":[993,993],"./ion-button_2.entry.js":[3645,8592,3645],"./ion-card_5.entry.js":[2245,8592,2245],"./ion-checkbox.entry.js":[3482,8592,3482],"./ion-chip.entry.js":[4081,8592,4081],"./ion-col_3.entry.js":[3315,3315],"./ion-datetime_3.entry.js":[4133,8592,4133],"./ion-fab_3.entry.js":[7542,8592,7542],"./ion-img.entry.js":[1459,1459],"./ion-infinite-scroll_2.entry.js":[7618,8592,7618],"./ion-input.entry.js":[101,8592,101],"./ion-item-option_3.entry.js":[2210,8592,2210],"./ion-item_8.entry.js":[7370,8592,7370],"./ion-loading.entry.js":[3652,8592,3652],"./ion-menu_3.entry.js":[8220,8592,8220],"./ion-modal.entry.js":[5500,8592,5500],"./ion-nav_2.entry.js":[4913,8592,4913],"./ion-popover.entry.js":[5078,8592,5078],"./ion-progress-bar.entry.js":[4857,8592,4857],"./ion-radio_2.entry.js":[8958,8592,8958],"./ion-range.entry.js":[4383,8592,4383],"./ion-refresher_2.entry.js":[7630,8592,7630],"./ion-reorder_2.entry.js":[1297,8592,1297],"./ion-ripple-effect.entry.js":[5492,5492],"./ion-route_4.entry.js":[3752,8592,3752],"./ion-searchbar.entry.js":[7487,8592,7487],"./ion-segment_2.entry.js":[1778,8592,1778],"./ion-select_3.entry.js":[2904,8592,2904],"./ion-slide_2.entry.js":[1609,1609],"./ion-spinner.entry.js":[1218,8592,1218],"./ion-split-pane.entry.js":[2849,2849],"./ion-tab-bar_2.entry.js":[4127,8592,4127],"./ion-tab_2.entry.js":[8400,8592,8400],"./ion-text.entry.js":[4397,8592,4397],"./ion-textarea.entry.js":[3391,8592,3391],"./ion-toast.entry.js":[6793,8592,6793],"./ion-toggle.entry.js":[1695,8592,1695],"./ion-virtual-scroll.entry.js":[4180,4180]};function i(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(i)})}i.keys=function(){return Object.keys(r)},i.id=863,e.exports=i}},function(e){"use strict";e(e.s=4701)}]);